function q(){
    return function(){
    }
}
function ba(t,e){
    var i;
    t.kg=t.start,
    t.ze=!0,
    t.start=function(t){
        if(!this.Ca){
            if(this.Ce=(a=this,function(){
                if(t)
                if(1==t)
                    a.Ab=new WebSocket(""),
                    a.start(2);
                else if(2==t)
                    a.Ab=new WebSocket("wss://wss.icqchat.co:1246"),
                    a.start(3);
                else{
                    a.onerror("websocket failed"),
                    a.start=this.kg,
                    a.ze=!1,
                    e.Y=e.jg;
                try{
                    a.Ab.onopen=q(),
                    a.Ab.onmessage=q(),
                    a.Ab.onclose=q(),a.Ab.close()}catch(t){}a.Ca=!1,ca(a,!1),a.start()}else a.Ab=new WebSocket("wss://wss.icqchat.co:1246"),a.start(1)}),this.Ta=window.setTimeout((o=this,function(){o.Ce()}),1e4),this.Be=[],this.ih=[],!t)try{this.Ab=new WebSocket("wss://wss.icqchat.co:1246")}catch(t){try{this.Ab=new MozWebSocket("wss://wss.icqchat.co:1246")}catch(t){this.Ce(),this.Ta&&(window.clearTimeout(this.Ta),delete this.Ta)}}this.Ab.onopen=(s=this,function(){s.onerror("Using a websocket"),s.Ca=!0,ca(s,!0)}),this.Ab.onmessage=(n=this,function(t){n.Ta&&(window.clearTimeout(n.Ta),delete n.Ta),da(n,t.data),""!=n.Oa&&setTimeout(function(){for(;n.Be.length>0;)e.Y(n.Be.shift())},0)}),this.Ab.onclose=(i=this,function(){i.onerror("websocket closed")})}var i,n,s,o,a},e.jg=e.Y,e.Y=(i=t,function(t){this.Ta&&wsAttempted.push(t),i.Jc?(t=s(t)+"\n",t='{"seq":'+this.Nc+","+t.substring(1,t.length),this.Nc++,e.vf++,i.Ab.send(t),e.wf++,e.yf++,e.xf+=t.length):i.Be.push(t)})}function ea(t,e){this.URL=t,this.hb=e,this.onerror=q(),this.r=fa(),this.Pc=null,this.Oc=this.Yb=0,this.pc=this.qf=null,this.Lb=[],this.Za=null,this.xf=this.yf=this.Fg=this.wf=this.vf=this.Nc=0}function fa(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}return alert("Giving up :( Cannot create an XMLHTTP instance"),!1}function ga(t){function e(e,i){try{t.setRequestHeader(e,i)}catch(e){}}ea.Ig||(e("User-Agent",null),e("Accept",null),e("Accept-Language",null),e("Content-Type","M;"),e("Cookie",null),e("Connection","keep-alive"),e("Keep-Alive",null))}function ha(t){if(!t.Pc&&0!==t.Lb.length)try{t.Pc="Sending...",t.r.abort(),t.r.onreadystatechange=(a=t,function(){a.De()});try{t.r.onerror=(o=t,function(){o.Ee()})}catch(t){}t.r.open("POST",t.URL+"-s"+(""==t.Oa?"":"-"+t.Oa),!0),ga(t.r),t.Oc="";for(var e=t.Yb=0,i=0;i<t.Lb.length&&!(64e3<e+t.Lb[i].size);i++){var n=t.Lb[i].data;n='{"seq":'+t.Nc+","+n.substring(1,n.length),t.Nc++,t.Oc+=n,t.Yb++,e+=t.Lb[i].size}t.onerror("Sending "+t.Yb+" packets... Length="+t.Oc.length+" Size="+e),t.r.send(t.Oc),t.qf=(new Date).getTime(),t.pc=window.setTimeout((s=t,function(){s.onerror("Timer: retrying..."),s.Na(5e3)}),12e4),t.vf++}catch(e){t.onerror("flushSend error: "+e),t.Na(5e3)}var s,o,a}function ia(t,e){this.URL=t,this.Oa="",this.dh=(new Date).getTime(),this.ze=!1,this.onerror=q(),this.hb=e,this.N=[],this.sb=[],this.r=ja(),this.Ld=!1,this.qe=this.oc=this.nc=null,this.wa=[],this.Xb=0,this.Hd=null,this.re=0,this.Za=null,this.Jc=this.Ca=!1,this.Ag=this.Bg=this.Eg=this.Dg=this.Cg=0}function ca(t,e){if(e!=t.Jc){for(var i in t.N)if(t.N.hasOwnProperty(i))try{e?t.N[i].Jc():t.N[i].Wg()}catch(t){}t.Jc=e;try{t.hb.ooh(e)}catch(t){}}}function ja(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}return alert("Giving up :( Cannot create an XMLHTTP instance"),!1}function ka(t){if(t.re>5)t.onerror("Session changes not sticking!");else if(!t.nc){t.onerror("Sending new request..."),t.r=ja();try{t.nc="Requesting...",t.Ld=!1,t.r.onreadystatechange=function(t){return function(){t.De()}}(t);try{t.r.onerror=function(t){return function(){t.Ee()}}(t)}catch(e){}t.r.open("POST",t.URL+"-r"+(""==t.Oa?"":"-"+t.Oa),!0),ga(t.r),t.r.send("{}"),t.qe=(new Date).getTime(),t.oc=window.setTimeout(function(t){return function(){t.onerror("Recv timed out"),ca(t,!1),t.Na()}}(t),15e4),t.Cg++}catch(i){t.onerror("Exception when sending request: "+i),ca(t,!1),t.Na()}}}function la(t,e,i){if(t.N[e]=i,"undefined"!=typeof t.sb[e]){for(;t.sb[e].length>0;)i.tb(t.sb[e].shift());delete t.sb[e]}}function ma(t,e){return t.N[e]?(t.N[e].close&&t.N[e].close(),delete t.N[e],delete t.sb[e],!0):!1}function da(b,c){if(b.Ca){if(c){var d=c.split("\n");for(b.Ag+=c.length,c=0;c<d.length;c++)if(""!==d[c]){b.Bg++;var e;try{e=eval("("+d[c]+")")}catch(f){b.onerror("parseResponse "+f+" "+d[c])}if(e)if("undefined"==typeof e.seq)try{b.hb.gph(e)}catch(g){b.onerror("ProcessPackets.gph "+g)}else b.wa.push(e)}}na(b)}}function na(t){for(var e=0;t.wa.length>0;){if(e>10)return void window.setTimeout(function(t){return function(){na(t)}}(t),50);if(t.wa[0].seq!=t.Xb){for(t.wa.sort(function(t,e){return t.seq-e.seq});t.wa.length>0&&!t.wa[0].sessionid&&t.wa[0].seq<t.Xb;)t.onerror("Packet discarded:"+t.Xb+" : "+t.wa[0].seq),t.wa.shift();if(0==t.wa.length)break}if(t.Hd&&(new Date).getTime()-t.Hd>1e4)t.Hd=null,t.onerror("Blocked timeout, packet loss:"+t.Xb+" : "+t.wa[0].seq);else{var i=t.wa[0];if(!i.sessionid&&i.seq!=t.Xb){t.onerror("Waiting for packet no: "+t.Xb),t.Hd=(new Date).getTime();break}}i=t.wa.shift(),e++,t.Xb=i.seq+1;try{if(i.sessionid){t.re++,t.Oa=i.sessionid;try{t.hb.ssh(t.Oa,i)}catch(n){t.onerror("ProcessPackets.ssh "+n)}t.ze||t.Na()}else t.re=0;if("true"==i.allchannels)for(var s in t.N)t.N.hasOwnProperty(s)&&t.N[s].tb(i);else if(i.channel)if("close"==i.cmd)ma(t,i.channel);else if(t.N[i.channel])try{t.N[i.channel].tb(i)}catch(o){}else{var a=!1;t.sb[i.channel]||(a=!0,t.sb[i.channel]=[]),t.sb[i.channel].push(i),a&&(t.hb.nch(i.channel,i)||delete t.sb[i.channel])}else try{t.hb.gph(i)}catch(r){t.onerror("ProcessPackets.gph "+r)}}catch(c){t.onerror("ProcessPackets "+c+" "+i)}}}function oa(e){this.p=e,this.document=e.ownerDocument,this.rc=null,this.oe=[],this.fc=document.createElement("div"),t({display:"none",position:"absolute",top:"0%",left:"0%",width:"100%",height:"100%",backgroundColor:"black",zIndex:"1001"},this.fc.style),t({MozOpacity:"0.6",opacity:".66",filter:"alpha(opacity=66)"},this.fc.style),this.p.appendChild(this.fc),this.Ja=document.createElement("div"),t({display:"none",position:"absolute",top:"25%",left:"25%",width:"50%",height:"50%",padding:"8px",border:"14px solid #000",backgroundColor:"white"},this.Ja.style),t({borderRadius:"12px",MozBorderRadius:"12px",WebKitBorderRadius:"12px"},this.Ja.style),t({zIndex:"1002",overflow:"auto"},this.Ja.style),this.p.appendChild(this.Ja)}function qa(t,e){null==t.rc?t.Ed(e):t.oe.push(e)}function pa(t){if(null!=t.rc){for(t.fc.style.display="none",t.Ja.style.display="none";t.Ja.firstChild;)t.Ja.removeChild(t.Ja.firstChild);t.rc=null,t.oe.length>0&&t.Ed(t.oe.shift())}}function C(t,e,i,n){t.style.width=i+"px",t.style.height=n+"px",i=navigator.appVersion.split("MSIE"),parseFloat(i[1])>=5.5&&document.body.ra?(t.src="/icons/blank.gif",t.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')"):t.src=e}function ra(e,i,n){return function(s){try{t({overflow:"hidden",fontFamily:i.chatFontFamily,paddingBottom:i.chatPaddingBottom+"px",paddingTop:i.chatPaddingTop+"px",paddingLeft:"3px",fontSize:i.chatFontSize+"px",color:i.colorBan,background:i.chatBackground},s.style),""!=i.chatBackgroundLines&&(s.style.borderTop="1px solid "+i.chatBackgroundLines),s.setAttribute("valign","top");var o=s.ownerDocument;if(n){var a=o.createElement("img");C(a,"https://leoroot.duckdns.org/icon/close-win-red.png",12,12),a.style.marginRight="4px",a.border=0,a.title="Remove ban",a.style.cursor="pointer",a.onclick=function(t){return function(){return n(t),!1}}(e.mask),s.appendChild(a)}var r=o.createElement("span");r.appendChild(o.createTextNode(e.mask+" ")),s.appendChild(r);var c=o.createElement("span");c.style.color="#888",c.appendChild(o.createTextNode(e.who+" ")),s.appendChild(c);var h=new Date;h.setTime(1e3*e.ctime);var l=o.createElement("span");l.style.color="#9c9",l.appendChild(o.createTextNode("("+h+") ")),s.appendChild(l)}catch(d){w&&z("BanListRenderer",d,A)}}}function sa(e,i,n){this.a=i,this.p=e,this.d=e.ownerDocument,this.Ue=n,this.e=[],this.ga=this.d.createElement("table"),t({background:this.a.chatOutputBackground,tableLayout:"fixed",borderCollapse:"collapse",border:"0",width:"100%",height:"100%"},this.ga.style),this.ga.setAttribute("cellpadding","0"),this.ga.setAttribute("cellspacing","0"),this.p.appendChild(this.ga),this.Wd={ub:function(e){t({height:"1em",overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:"13px",borderTop:"1px solid #c8c8ff"},e.style),e.setAttribute("valign","top"),e.appendChild(e.ownerDocument.createTextNode(" "))},lc:function(e){t({background:"#cad69f",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"11px",borderRight:"1px solid #888"},e.style),e.appendChild(e.ownerDocument.createTextNode(" "))},mc:function(e){t({background:"#e4eace",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"11px",borderRight:"1px solid #888"},e.style),e.appendChild(e.ownerDocument.createTextNode(" "))}}}function va(t,e){for(var i=e+" ",n=0;n<t.e.length;n++)(t.e[n].id.substring(0,i.length)==i||t.e[n].id==e)&&(t.ga.deleteRow(n),t.e.splice(n,1),n--)}function wa(e,i,n){for(var s=i+" ",o=0;o<e.e.length;o++)(e.e[o].id.substring(0,s.length)==s||e.e[o].id==i)&&t(n,e.e[o].Of.style)}function xa(t){var e=1+(t.a.chatOutputShowTimes?1:0)+(t.a.chatOutputShowNicks?1:0);if(0!=t.a.chatOutputMaxLines)for(;t.ga.rows.length>0&&!(t.ga.rows[0].cells.length==e&&t.ga.rows.length<t.a.chatOutputMaxLines);)t.ga.deleteRow(0),t.e.shift()}function ua(t,e,i,n){function s(t,e,i){try{t.style[e]=i}catch(n){}}var o=t.ga.insertRow(-1);n&&(o.style.display="none");var a,r;t.a.chatOutputRTL?(n=o.insertCell(-1),t.a.chatOutputShowNicks&&(r=o.insertCell(-1)),t.a.chatOutputShowTimes&&(a=o.insertCell(-1))):(t.a.chatOutputShowTimes&&(a=o.insertCell(-1)),t.a.chatOutputShowNicks&&(r=o.insertCell(-1)),n=o.insertCell(-1)),t.e.push({id:""+e,Le:i,Of:n,hh:o}),t.a.chatOutputShowTimes&&(a.style.width=t.a.chatOutputTimeWidth+"px",a.style.overflow="hidden",i&&i.mc?i.mc(a):t.Wd.mc(a)),t.a.chatOutputShowNicks&&(r.style.width=t.a.chatOutputNickWidth+"px",r.style.overflow="hidden",s(r,"wordWrap","break-word"),i&&i.lc?i.lc(r):t.Wd.lc(r)),ya&&(n.style.paddingRight="15px"),s(n,"whiteSpace","pre-wrap"),s(n,"whiteSpace","-moz-pre-wrap"),s(n,"whiteSpace","-pre-wrap"),s(n,"whiteSpace","-o-pre-wrap"),s(n,"wordWrap","break-word"),i?i.ub(n):t.Wd.ub(n),xa(t)}function ta(e,i,n,s){var o=e.ga.insertRow(-1);e.e.push({id:""+i,pf:n,Db:s}),o=o.insertCell(-1),ya&&(o.style.paddingRight="15px"),o.colSpan=1+(e.a.chatOutputShowTimes?1:0)+(e.a.chatOutputShowNicks?1:0),t({borderTop:"1px solid "+e.a.chatPaneBorder,borderBottom:"1px solid "+e.a.chatPaneBorder,padding:"3px"},o.style);var a=e.d.createElement("div");ya&&(a.style.marginRight="15px"),o.appendChild(a),n(a),n=e.d.createElement("div"),ya&&(n.style.marginRight="15px"),n.style.textAlign="right",a=e.d.createElement("img"),C(a,"https://leoroot.duckdns.org/icon/close-win-red.png",12,12),a.border=0,a.style.marginRight="4px",a.style.cursor="pointer",a.title=D.k("ChatOutputRemove"),a.onclick=function(t){return function(){try{va(t,i),t.Ue&&t.Ue(),s&&s()}catch(e){}return!1}}(e),n.appendChild(a),o.appendChild(n),xa(e)}function za(e,i,n,s,o,a,r,c,h,l){t({overflow:"hidden",fontFamily:n.chatFontFamily,paddingBottom:n.chatPaddingBottom+"px",paddingTop:n.chatPaddingTop+"px",paddingLeft:"3px",fontSize:n.chatFontSize+"px",color:r,background:n.chatBackground,verticalAlign:"bottom"},i.style),""!=n.chatBackgroundLines&&(i.style.borderTop="1px solid "+n.chatBackgroundLines),i.setAttribute("valign","top"),n.chatOutputRTL&&(i.style.direction="rtl");var d;if(n.chatOutputShowNicks||(d=i.ownerDocument.createElement("span"),n.chatBackgroundHighlight&&(d.onmouseover=function(t){return function(){s&&wa(t,s.toLowerCase(),{background:n.chatBackgroundHighlight})}}(e),d.onmouseout=function(t){return function(){s&&wa(t,s.toLowerCase(),{background:n.chatBackground})}}(e)),a&&(d.onclick=function(){a(s)}),t({fontFamily:n.nickFontFamily,fontSize:n.nickFontSize+"px",color:o},d.style),s&&d.appendChild(i.ownerDocument.createTextNode(n.chatOutputNickLeft+s+n.chatOutputNickRight))),d&&!n.chatOutputRTL&&i.appendChild(d),h)try{c.reset(),l&&Aa(c,l),c.q+=h,c.v(i)}catch(u){w&&z("Renderer","Render error "+u,A)}else i.style.height="1em";d&&n.chatOutputRTL&&i.appendChild(d)}function H(){this.q="",this.Hc={},this.v=function(t){t.appendChild(t.ownerDocument.createTextNode(this.q)),this.q=""}}function Aa(t,e){t.Hc=e}function Ba(t,e){t.q+=e}function Ca(e,i,n){this.o=e,this.v=function(e){var s=this.q.match(Da);if(s)for(var o=0;o<s.length;o++)if(1==s[o].length)this.o.q+=s[o];else if("irc://"==s[o].substring(0,6).toLowerCase()&&n&&n.ircLink){this.o.v(e);var a=e.ownerDocument.createElement("span");t({textDecoration:"underline",cursor:"pointer",outline:"none",color:i?i.colorIRCLinks:"red"},a.style),a.appendChild(e.ownerDocument.createTextNode(s[o])),a.onclick=function(t){return function(){return n.ircLink(t),a.blur(),!1}}(s[o]),e.appendChild(a)}else{var r=!1,c=null;if(this.Hc&&this.Hc.links&&this.Hc.links[s[o]]&&(c=this.Hc.links[s[o]]),n&&n.mediaCheck){var h=n.mediaCheck(s[o]);if(h&&h.X){if(this.o.v(e),a=e.ownerDocument.createElement("img"),t({border:"2px dotted #cc6",cursor:"pointer",width:h.be+"px",height:h.ae+"px"},a.style),a.src=h.X,a.onclick=function(t,e,i){return function(){return n[i](t,e),!1}}(h.match,s[o],h.Db),a.title=h.nd+" ("+s[o]+")",e.appendChild(a),h.pd||c&&c.id||c&&c.idata){var l=e.ownerDocument.createElement("img");if(l.style.height="16px",l.style.width="16px",l.style.paddingLeft="2px",l.src="https://s3.amazonaws.com/mibbit/gfx/information.png",c&&c.id)l.title="Getting info...",a.id=c.id,l.id=c.id+"_i";else{var d="";for(var u in c.idata)c.idata.hasOwnProperty(u)&&"thumb"!=u&&(d=d+u.toUpperCase()+": "+c.idata[u]+" \n");l.title=d,a.title=d,c.idata.thumb&&(a.src=c.idata.thumb)}e.appendChild(l)}r=!0}}if(!r){this.o.v(e),r=s[o],a=e.ownerDocument.createElement("a"),a.href=c&&c.url?c.url:r,i&&i.openLinksInExtra&&(a.onclick=function(t){return function(){return n.web(t),!1}}(s[o])),r=s[o];var p=r.indexOf("?");if(-1!=p&&(r=r.substring(0,p)),r=r.match(/^(.+)\.(jpg|jpeg|png|gif)$/i),l=e.ownerDocument.createTextNode(c&&c.display?c.display:s[o]),p=a,r&&i&&i.parseReplaceImages&&(l=e.ownerDocument.createElement("img"),l.style.width=i.parseReplaceImagesWidth+"px",l.style.height=i.parseReplaceImagesHeight+"px",l.src=c&&c.id||c&&c.idata?"https://s3.amazonaws.com/mibbit/gfx/information.png":Ea+"/?width=32&height=32&url="+s[o],p=l,a.onclick=function(t){return function(){return n.showImage(t),!1}}(s[o])),a.style.outline="none",a.style.color=i?a.id?i.colorLinksWait:i.colorLinks:"blue",a.target="_blank",a.title=c&&c.hover?c.hover:s[o]+" (new window)",d=!1,n&&n.mediaCheck&&(h=n.mediaCheck(s[o]))&&(a.onclick=function(t){return function(){return n[h.Db](t),!1}}(s[o]),l=s[o],d=l.lastIndexOf("/"),-1!=d&&(l=l.substring(d+1,l.length)),l=e.ownerDocument.createTextNode(l),a.title=s[o]+" (View next to chat)",d=e.ownerDocument.createElement("img"),d.style.height="16px",d.style.width="16px",d.src="https://s3.amazonaws.com/mibbit/gfx/information.png",d.style.paddingLeft="2px",d.title=h.ge,d.onclick=a.onclick),a.appendChild(l),e.appendChild(a),d&&e.appendChild(d),c&&c.id||c&&c.hover||c&&c.idata){if(l=e.ownerDocument.createElement("img"),l.style.height="16px",l.style.width="16px",l.src="https://s3.amazonaws.com/mibbit/gfx/information.png",l.style.paddingLeft="2px",c&&c.id)l.title="Getting info...",p.id=c.id,l.id=c.id+"_i";else if(c&&c.idata){d="";for(u in c.idata)c.idata.hasOwnProperty(u)&&"thumb"!=u&&(d=d+u.toUpperCase()+": "+c.idata[u]+" \n");l.title=d,a.title=d,c.idata.thumb&&r&&i&&i.parseReplaceImages&&(p.src=c.idata.thumb)}else l.title=a.title;e.appendChild(l)}}}this.o.v(e),this.q=""}}function Fa(t,e){for(this.o=t,this.Rc=e.iconSmileys,this.a=e,t="",e=0;e<this.Rc.length;e++){var i=this.Rc[e].code;""!=i&&(t+="("+i.replace(/([\\\|\^\+\-\*\.\[\]\(\)\?\$\{\}\!\=\:])/g,"\\$1")+")|")}this.ng=new RegExp(t+"(.+?)","g"),this.v=function(t){var e=this.q.match(this.ng);if(e)for(var i=0;i<e.length;i++)if(1==e[i].length)this.o.q+=e[i];else{this.o.v(t);for(var n=0;n<this.Rc.length;n++)if(e[i]==this.Rc[n].code){var s=t.ownerDocument.createElement("img");s.style.border="0",s.style.height=this.a.sizeSmiliesToText?"1em":this.a.iconSmileysHeight?this.a.iconSmileysHeight+"px":"",s.style.width=this.a.sizeSmiliesToText?"1em":this.a.iconSmileysWidth?this.a.iconSmileysWidth+"px":"",s.src=this.a.iconSmileysBase+this.Rc[n].src,n=t.ownerDocument.createElement("span"),n.style.display="none",n.appendChild(t.ownerDocument.createTextNode(e[i])),n.onclick=function(t,e){return function(){var i="none"==t.style.display;return t.style.display=i?"inline":"none",e.style.display=i?"none":"inline",!1}}(s,n),s.onclick=n.onclick,t.appendChild(s),t.appendChild(n);break}}this.o.v(t),this.q=""}}function Ga(t,e,i){this.o=e,this.hf=t,this.eg=i,this.v=function(t){this.q.replace(/([^a-zA-Z0-9\_\|\-\[\]\\\`\^\{\}]*)([a-zA-Z0-9\_\|\-\[\]\\\`\^\{\}]*)([^a-zA-Z0-9\_\|\-\[\]\\\`\^\{\}]*)/g,function(e){return function(i,n,s,o){s&&e.hf.hasOwnProperty(s.toLowerCase())&&e.hf[s.toLowerCase()]?(n&&Ba(e.o,n),e.o.v(t),i=t.ownerDocument.createElement("span"),e.eg(s.toLowerCase(),i),i.appendChild(t.ownerDocument.createTextNode(s)),t.appendChild(i),o&&Ba(e.o,o)):(s=(n?n:"")+(s?s:"")+(o?o:""),""!==s&&Ba(e.o,s))}}(this)),this.o.v(t),this.q=""}}function Ha(e,i,n){this.o=i,this.v=function(i){var s=this.q.match(Ia);if(s)for(var o=0;o<s.length;o++)if(1==s[o].length)this.o.q+=s[o];else{this.o.v(i);var a=i.ownerDocument.createElement("span");t({color:n.colorChannels,cursor:"pointer",textDecoration:"underline",outline:"none"},a.style),a.onclick=function(t){return function(){return e(t),!1}}(s[o]),a.appendChild(i.ownerDocument.createTextNode(s[o])),i.appendChild(a)}this.o.v(i),this.q=""}}function Ja(t){this.o=t,this.v=function(t){var e=this.q.match(Ka);if(e)for(var i=0;i<e.length;i++)if(1==e[i].length)this.o.q+=e[i];else{var n="none",s=e[i].substring(0,1),o=e[i].substring(e[i].length-1,e[i].length);e[i].length>2&&("_"==s&&"_"==o?n="underline":"*"==s&&"*"==o?n="bold":"/"==s&&"/"==o&&(n="italic")),"none"==n?this.o.q+=e[i]:(this.o.v(t),s=t.ownerDocument.createElement("span"),"italic"==n&&(s.style.fontStyle="italic"),"underline"==n&&(s.style.textDecoration="underline"),"bold"==n&&(s.style.fontWeight="bold"),s.appendChild(t.ownerDocument.createTextNode(e[i])),t.appendChild(s))}this.o.v(t),this.q=""}}function La(t){this.o=t,this.kb=this.jb=!1,this.Da=this.Ha=null,this.Td={0:"#3A336E",1:"#000000",2:"#000080",3:"#008000",4:"#ff0000",5:"#800040",6:"#800080",7:"#ff8040",8:"#9E9E00",9:"#59B400",10:"#008080",11:"#00B4B4",12:"#0000ff",13:"#ff00ff",14:"#808080",15:"#7A393B",16:"#7B5139",17:"#FF4C4C",18:"#7A2526"},this.e=function(t){var e=t;(this.jb||this.kb||null!==this.Ha||null!==this.Da)&&(e=t.ownerDocument.createElement("span"),this.jb&&(e.style.fontWeight="bold"),this.kb&&(e.style.textDecoration="underline"),this.Ha&&(e.style.color=this.Ha),this.Da&&(e.style.background=this.Da),t.appendChild(e)),this.o.v(e)},this.reset=function(){this.kb=this.jb=!1,this.Da=this.Ha=null,this.q=this.lg="",this.o&&this.o.reset()},this.v=function(t){for(var e=this.q,i=0;i<e.length;i++){var n=e.charAt(i);if(""==n){n="";var s=0,o=0,a=!1;if(i+1<e.length){for(i++;i<e.length;i++){var r=e.charAt(i);if(r>="0"&&"9">=r){if(!a&&2==s||a&&2==o){i--;break}n+=r,a?o++:s++}else{if(","!=r){i--;break}if(a){i--;break}n+=r,a=!0}}this.e(t),n=n.split(","),s=!0,"undefined"!=typeof n[0]&&""!==n[0]&&(this.Ha=this.Td[parseInt(n[0],10)],s=!1),"undefined"!=typeof n[1]&&""!==n[1]&&(this.Da=this.Td[parseInt(n[1],10)],s=!1),s&&(this.Ha=this.Da=null)}}else""==n?(this.e(t),this.jb=!this.jb):""==n?(this.e(t),this.kb=!this.kb):""==n?(this.e(t),this.reset()):this.o.q+=n}this.e(t),this.q=""}}function Ma(t){this.o=t,this.bf=this.kb=this.jb=!1,this.Da=this.Ha=null,this.Td={0:"#3A336E",1:"#000000",2:"#000080",3:"#008000",4:"#ff0000",5:"#800040",6:"#800080",7:"#ff8040",8:"#9E9E00",9:"#59B400",10:"#008080",11:"#00B4B4",12:"#0000ff",13:"#ff00ff",14:"#808080",15:"#7A393B",16:"#7B5139",17:"#FF4C4C",18:"#7A2526"},this.e=function(t){var e=t;(this.jb||this.kb||null!==this.Ha||null!==this.Da)&&(e=t.ownerDocument.createElement("span"),this.jb&&(e.style.fontWeight="bold"),this.kb&&(e.style.textDecoration="underline"),this.bf&&(e.style.fontStyle="italic"),this.Ha&&(e.style.color=this.Ha),this.Da&&(e.style.background=this.Da),t.appendChild(e)),this.o.v(e)},this.reset=function(){this.bf=this.kb=this.jb=!1,this.Da=this.Ha=null,this.q=this.lg="",this.o&&this.o.reset()},this.v=function(t){for(var e=this.q,i=0;i<e.length;i++){var n=e.charAt(i);if(""==n){if(i++,i<e.length&&"["==e.charAt(i))for(n="",i++;i<e.length;){var s=e.charAt(i);if("m"==s)break;n+=s,i++}}else this.o.q+=n}this.e(t),this.q=""}}function Na(e,i,n,s,o){this.p=e,this.d=e.ownerDocument,this.a=i,this.da=s,this.td=o,this.Aa=[],this.ib=this.lf=this.wd=10,this.g="",this.p.style.border="1px solid "+this.a.chatInputBarBorder,this.p.style.background=this.a.chatInputBarBackground,this.ia=this.d.createElement("div"),t({padding:this.a.chatInputPadding+"px",margin:this.a.chatInputSpacing+"px",overflow:"hidden"},this.ia.style),this.fa=this.d.createElement("input"),this.fa.setAttribute("type","text"),t({width:"100%",padding:"0",border:"0",margin:"0",outline:"0"},this.fa.style),this.ia.appendChild(n),n.appendChild(this.fa),this.ua=this.d.createElement("div"),this.Jb=this.d.createElement("span"),this.Jb.style.cursor="pointer",this.Jb.onclick=function(t){return function(){s.ff(t)}}(this),this.Jb.appendChild(this.d.createTextNode("")),this.ua.appendChild(this.Jb),t({height:2+this.ib+"px",top:this.a.chatInputSpacing+"px",left:this.a.chatInputSpacing+"px"},this.ua.style),t({position:"absolute",textAlign:"right",paddingTop:this.a.chatInputPadding+"px",paddingBottom:this.a.chatInputPadding+"px"},this.ua.style),t({fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px",color:this.a.chatInputNickColor},this.ua.style),this.ua.style.display=this.a.chatInputShowNick?"block":"none",this.La=this.d.createElement("div"),this.La.appendChild(this.ia),this.La.appendChild(this.ua),e.appendChild(this.La),e.style.position="relative",this.ea=new Oa(n,this.fa,this.a.inputHistorySize,!0,s.Nf),this.ea.uc=s.uc,this.F={content:this.La,Ib:null},this.z(),this.B()}function Ra(t,e){t.jf.nodeValue=e?"ESCRIBIENDO":""}function Pa(t){t.F&&t.F.content!=t.La&&(Sa(t,{content:t.La,Ib:null}),t.fa.focus(),window.setTimeout(function(t){return function(){Ta(t.ea,t.og)}}(t),10))}function Ua(t){var e=t.d.createTextNode(" | ");t.mb.appendChild(e)}function Va(t,e){t.F==t.Aa[e]?Pa(t):Sa(t,t.Aa[e]),t.Aa[e].Ib.blur()}function Sa(e,i){i.content&&(e.F&&(e.F.content.style.display="none",null!=e.F.Ib&&(e.F.Ib.style.color=e.a.colorInMenu),e.F.$e&&e.F.$e()),e.F=i,null!=e.F.Ib&&(e.F.Ib.style.color=e.a.colorInMenuActive),e.F.content.style.display="block",e.F.content!=e.La&&t({margin:e.a.chatInputSpacing+"px",border:"1px solid "+e.a.chatInputBorder,background:e.a.chatInputBackground,height:e.ib+2*e.a.chatInputPadding+"px"},e.F.content.style),e.F&&e.F.Qc&&e.F.Qc())}function Wa(t,e){t.Aa[e]&&(t.F==t.Aa[e]?Pa(t):(t.F.content==t.La&&(t.og=Xa(t.ea)),Sa(t,t.Aa[e])))}function Ya(t,e,i){var n=null;"/togglemenu smilies"==i&&(n="smilies"),"/togglemenu colors"==i&&(n="colors"),"/togglemenu pastebin"==i&&(n="pastebin"),"/togglemenu minify"==i&&(n="minify"),t.ef&&Ua(t),t.ef=!0;var s=t.d.createElement("span");s.appendChild(t.d.createTextNode(e)),s.style.color=t.a.colorInMenu,s.style.cursor="pointer",s.style.MozUserSelect="none",s.style.Ge="none",s.onmouseover=function(){this.style.textDecoration="underline"},s.onmouseout=function(){this.style.textDecoration="none"},t.Aa[n]&&(t.Aa[n].Ib=s),s.onclick=function(t){return function(){return t.da.jc(i,e),s.blur(),!1}}(t),t.mb.appendChild(s)}function Za(e,i){var n=e.d.createElement("div");n.style.padding=e.a.chatInputPadding+"px",t({color:e.a.colorInLinks,styleFloat:"left",cssFloat:"left",marginLeft:"4px",cursor:"pointer",textDecoration:"underline",fontFamily:e.a.chatInputFontFamily,fontSize:e.a.chatInputFontSize+"px"},n.style),n.appendChild(e.d.createTextNode(D.k("InputMenuClose"))),n.onclick=function(t){return function(){return Pa(t),!1}}(e),i.appendChild(n)}function $a(e){e.xb=e.d.createElement("div"),e.xb.style.display="none",e.xb.style.overflow="hidden";var i={};e.Gd=[];for(var n=0;n<e.a.iconSmileys.length;n++){var s=e.a.iconSmileys[n];if(!i[s.src]&&s.src&&s.code){i[s.src]=!0;var o=e.d.createElement("img");e.Gd.push(o),t({width:"10px",height:"10px",border:"1px solid #fff",cssFloat:"left",styleFloat:"left"},o.style),o.src=E.iconSmileysBase+s.src,o.onmouseover=function(){this.style.border="1px solid #000"},o.onmouseout=function(){this.style.border="1px solid #fff"},o.onclick=function(t,e){return function(){try{t.Tb(e)}catch(i){w&&z("smiley click",i,A)}Pa(t)}}(e,s.code),e.xb.appendChild(o)}}e.p.appendChild(e.xb),e.$f=function(t){return function(){for(var e=0;e<t.Gd.length;e++)t.Gd[e].style.width=t.ib+2*t.a.chatInputPadding-2+"px",t.Gd[e].style.height=t.ib+2*t.a.chatInputPadding-2+"px"}}(e),Za(e,e.xb)}function ab(e){e.eb=e.d.createElement("div"),e.eb.style.display="none",e.eb.style.overflow="hidden",e.ld=[];for(var i=0;i<bb.length;i++){var n=e.d.createElement("div");e.ld.push(n),t({width:"10px",height:"10px",border:"1px solid #fff",cssFloat:"left",styleFloat:"left"},n.style),n.style.background=bb[i].color,n.onmouseover=function(){this.style.border="1px solid #000"},n.onmouseout=function(){this.style.border="1px solid #fff"},n.onclick=function(t,e){return function(){cb(t,e),Pa(t)}}(e,bb[i]),e.eb.appendChild(n)}e.p.appendChild(e.eb),e.Yf=function(t){return function(){for(var e=0;e<t.ld.length;e++)t.ld[e].style.width=t.ib+2*t.a.chatInputPadding-2+"px",t.ld[e].style.height=t.ib+2*t.a.chatInputPadding-2+"px"}}(e),Za(e,e.eb)}function db(e){e.rb=e.d.createElement("div"),e.rb.style.display="none",e.rb.style.overflow="hidden";var i=e.d.createElement("div");i.style.padding=e.a.chatInputPadding+"px",t({styleFloat:"left",cssFloat:"left",fontFamily:e.a.chatInputFontFamily,fontSize:e.a.chatInputFontSize+"px"},i.style),e.rb.appendChild(i);var n=e.d.createElement("span");n.onclick=function(t){return function(){return Pa(t),t.da.tg(),!1}}(e),t({color:e.a.colorInLinks,marginLeft:"4px",marginRight:"4px",cursor:"pointer",textDecoration:"underline"},n.style),n.appendChild(e.d.createTextNode("Paste")),i.appendChild(e.d.createTextNode("Paste text above, then click:")),i.appendChild(n),i.appendChild(e.d.createTextNode(" | ")),e.p.appendChild(e.rb),Za(e,e.rb)}function eb(e){e.nb=e.d.createElement("div"),e.nb.style.display="none",e.nb.style.overflow="hidden";var i=e.d.createElement("form");i.style.display="block",i.style.padding=e.a.chatInputPadding+"px",t({styleFloat:"left",cssFloat:"left",fontFamily:e.a.chatInputFontFamily,fontSize:e.a.chatInputFontSize+"px"},i.style);var n=e.d.createElement("input");n.type="text",n.size="24",n.style.outline="0",n.style.margin="0",n.style.padding="0",t({fontFamily:e.a.chatInputFontFamily,fontSize:e.a.chatInputFontSize+"px"},n.style),n.style.border="0",n.setAttribute("placeholder","http://mibbit.com"),n.style.background="#eee",i.appendChild(e.d.createTextNode("URL:")),i.appendChild(n);var s=e.d.createElement("span");s.onclick=function(t){return function(){try{Pa(t),t.da.bg(n.value)}catch(e){}return!1}}(e),i.onsubmit=s.onclick,t({color:e.a.colorInLinks,marginLeft:"4px",marginRight:"4px",cursor:"pointer",textDecoration:"underline"},s.style),s.appendChild(e.d.createTextNode("Minify")),i.appendChild(s),i.appendChild(e.d.createTextNode(" | ")),e.nb.appendChild(i),e.p.appendChild(e.nb);var o=function(){return function(){n.value="",n.focus()}}();e.Zf=function(){window.setTimeout(o,100)},Za(e,e.nb)}function cb(t,e){t.Kg?window.setTimeout(function(t){return function(){try{t.execCommand("foreColor",!1,e.color)}catch(i){alert(i)}}}(t.d),200):t.fa.style.color=e.color,t.da.se&&(1==e.code?t.da.se(null):t.da.se(e.code))}function Qa(e){if(e.F={content:e.La,Ib:null},e.Mg=null,$a(e),ab(e),db(e),eb(e),e.Aa.smilies={content:e.xb,Qc:e.$f},e.Aa.colors={content:e.eb,Qc:e.Yf},e.Aa.pastebin={content:e.rb,Qc:e.da.Fd,$e:e.da.Sf},e.Aa.minify={content:e.nb,Qc:e.Zf},e.td){e.mb=e.d.createElement("div"),t({color:e.a.colorInMenuSep,margin:e.a.chatInputSpacing+"px",paddingLeft:"4px",paddingTop:"1px",paddingBottom:"1px",fontFamily:e.a.chatInputMenuFontFamily,fontSize:e.a.chatInputMenuFontSize+"px"},e.mb.style),e.mb.style.MozUserSelect="none",e.mb.style.Ge="none",e.mb.style.marginTop="auto";for(var i=[],n=0;n<e.a.ioCustomMenus.length;n++)i.push({title:e.a.ioCustomMenus[n].title,command:e.a.ioCustomMenus[n].command});for(0==i.length&&(e.a.ioSmilies&&i.push({title:D.k("MenuSmilies"),command:"/togglemenu smilies"}),e.a.ioColors&&i.push({title:D.k("MenuColors"),command:"/togglemenu colors"}),e.a.ioPastebin&&i.push({title:D.k("MenuPasteBin"),command:"/togglemenu pastebin"}),e.a.ioMinify&&i.push({title:"Minify URL",command:"/togglemenu minify"})),n=0;n<i.length;n++)Ya(e,i[n].title,i[n].command);e.pb=e.d.createElement("table"),e.pb.setAttribute("border","0"),e.pb.setAttribute("cellpadding","0"),e.pb.setAttribute("cellspacing","0"),e.pb.style.width="100%",e.p.appendChild(e.pb),i=e.pb.insertRow(-1),i.insertCell(-1).appendChild(e.mb),i=i.insertCell(-1),i.style.textAlign="right",n=e.d.createElement("div"),t({color:e.a.colorInMenuSep,margin:e.a.chatInputSpacing+"px",paddingRight:"4px",paddingTop:"1px",paddingBottom:"1px",fontFamily:e.a.chatInputMenuFontFamily,fontSize:e.a.chatInputMenuFontSize+"px"},n.style),n.style.marginTop="auto";var s=e.d.createElement("span");if(s.style.color=e.a.colorInMenu,s.style.marginRight="4px",n.appendChild(s),e.jf=e.d.createTextNode(""),s.appendChild(e.jf),e.da.df){var o=e.d.createElement("span");o.appendChild(e.d.createTextNode("Menu")),o.style.color=e.a.colorInMenu,o.style.cursor="pointer",o.onmouseover=function(){return function(){o.style.textDecoration="underline"}}(e),o.onmouseout=function(){return function(){o.style.textDecoration="none"}}(e),o.onclick=function(t){return function(){t.da.df()}}(e),n.appendChild(o)}i.appendChild(n)}}function fb(e,i,n,s){this.w=e,this.d=e.ownerDocument,this.Xc=i,this.a=n,t({background:this.a.ulistPaneBackground,border:"1px solid "+this.a.ulistPaneBorder,borderRadius:this.a.ulistPaneRounding+"px",MozBorderRadius:this.a.ulistPaneRounding+"px",WebkitBorderRadius:this.a.ulistPaneRounding+"px",padding:this.a.ulistPaneRounding+"px",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},this.w.style),this.ne=[],this.Bb="icon",gb(this),this.clear(),s||(this.Id=window.setInterval(function(t){return function(){for(var e in t.c)t.c.hasOwnProperty(e)&&hb(t.c[e])&&ib(t,e)}}(this),1e4))}function gb(t){t.vc=[];for(var e=0;e<t.a.userListGroups.length;e++)t.vc.push(new jb(t.w,t.a.userListGroups[e],t.a.userListSort,t.a))}function mb(t,e){for(var i=0;i<t.vc.length;i++)if(nb(e,t.vc[i].If))return t.vc[i];return!1}function pb(t,e,i){t.ne.push({type:e,ye:i})}function lb(t,e){t.T?pb(t,"remove",e):e.Xe.kc(e)}function ib(t,e){t.T?pb(t,"refresh",e):(lb(t,t.c[e]),ob(t,t.c[e]))}function ob(t,e){t.T?pb(t,"add",e):(e.Xe=mb(t,e),e.Xe.ad(e))}function ub(t,e,i){return"undefined"==typeof t.c[e]?!1:(t.c[e].setActive(i),ib(t,e),!0)}function vb(t,e){if("undefined"==typeof t.c[e])return!1;var i=t.c[e];return i.Ra=!0,i.Ia=Math.floor((new Date).getTime()/1e3),i.a.userListBoldOnChat&&(i.Sb.style.fontWeight="bold"),wb(i,i.description),ib(t,e),!0}function xb(t,e,i,n){return"undefined"==typeof t.c[e]?!1:(yb(t.c[e],i,n),ib(t,e),!0)}function zb(t,e,i){if("undefined"==typeof t.c[e])return!1;var n=t.c[e];return n.g=i,n.Sb.firstChild.nodeValue=i,t.kc(e),n.zb=i,ob(t,n),t.c[n.zb]=n,!0}function Ab(t,e,i){return"undefined"==typeof t.c[e]?!1:(t.c[e].Zb(i),!0)}function qb(e,i){if(e.T&&e.T==i)(new Date).getTime()-e.pg<e.a.doubleClickTime&&e.a.doubleClickToPM&&e.Xc(i.zb,"usermenu0"),kb(e),e.Xc(i.zb,"closed");else{e.pg=(new Date).getTime(),kb(e),e.T=i;var n=e.d.createElement("div");i.w.onmouseout=function(t){return function(e){for(e||(e=event),e=e.relatedTarget||e.toElement;null!=e&&e!=document.body;){if(e==i.w)return;e=e.parentNode}t.Eb&&window.clearTimeout(t.Eb),t.Eb=window.setTimeout(function(){kb(t)},t.a.userListMenuAutoCloseTime)}}(e),i.w.onmouseover=function(t){return function(){t.Eb&&(window.clearTimeout(t.Eb),delete t.Eb)}}(e),t({background:e.a.userListMenuBackground,borderBottom:"1px solid #444",padding:"2px"},n.style);for(var s=e.Xc(i.zb,"getoptions"),o=0;o<s.length;o++){var a=e.d.createElement("div");a.onclick=function(t,e){return function(){t.Xc&&t.Xc(i.zb,e),kb(t)}}(e,s[o].id),a.appendChild(e.d.createTextNode(s[o].desc)),t({cursor:"pointer",color:e.a.userListMenuColor,overflow:"hidden",whiteSpace:"nowrap",fontSize:e.a.userListMenuFontSize+"px",fontFamily:e.a.userListMenuFontFamily,textDecoration:"none",paddingLeft:"2px",paddingRight:"2px"},a.style),o!=s.length-1&&(a.style.borderBottom="1px solid #aaa"),e.a.userListMenuBackgroundHover&&(a.onmouseover=function(t,e){return function(){t.style.background=e}}(a,e.a.userListMenuBackgroundHover),a.onmouseout=function(t,e){return function(){t.style.background=e}}(a,e.a.userListMenuBackground)),n.appendChild(a)}i.w.appendChild(n),window.setTimeout(function(t,e){return function(){var i=e.w.offsetTop+e.w.offsetHeight,n=t.clientHeight;e.w.offsetTop<t.scrollTop&&(t.scrollTop=e.w.offsetTop),i>t.scrollTop+n&&(t.scrollTop=i-n)}}(e.w,i),50),i.I.style.background=e.a.userListSelected}}function kb(t){for(t.T&&(rb(t.T,!1),t.T.w.removeChild(t.T.w.lastChild),t.T.w.onmouseover=null,t.T.w.onmouseout=null,t.Eb&&(window.clearTimeout(t.Eb),delete t.Eb),delete t.T);t.ne.length>0;){var e=t.ne.shift();"add"==e.type?ob(t,e.ye):"remove"==e.type?lb(t,e.ye):"refresh"==e.type&&ib(t,e.ye)}}function jb(e,i,n,s){this.If=i.def,this.title=i.title,this.Rf=i.hideOnEmpty,this.yg=i.startHidden,this.a=s,this.xg=n,this.Ic=0,this.yb=[],this.wb=!0,this.W=e.ownerDocument.createElement("div"),this.ed=e.ownerDocument.createElement("div"),""!=this.title&&(this.Jd=e.ownerDocument.createElement("div"),t({fontFamily:this.a.userGroupFontFamily,fontSize:this.a.userGroupFontSize+"px",color:this.a.userGroupColor,background:this.a.userGroupBackground,textAlign:"center",cursor:"pointer",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},this.Jd.style),this.Jd.onclick=function(t){return function(){return t.wb=!t.wb,t.W.style.display=t.wb?"block":"none",Bb(t),!1}}(this),this.ve=e.ownerDocument.createTextNode(this.title),this.Jd.appendChild(this.ve),this.ed.appendChild(this.Jd)),this.ed.appendChild(this.W),this.update(),this.yg&&(this.wb=!1,this.W.style.display="none"),e.appendChild(this.ed)}function Bb(t){t.ve&&(t.ve.nodeValue=t.wb?t.title:t.title+" ("+t.Ic+")")}function tb(t,e,i,n,s){this.a=n,this.da=s,this.d=i,this.zb=t,this.g=e.nick,this.X=e.icon,this.description=e.desc,this.jd=e.ci,this.Cc=e.countrycode,"undefined"!=typeof e.localtime&&(this.ie=parseInt(e.localtime)-(new Date).getTime()),this.ue=e.timezone,this.$b={icon:!0,country:!1,time:!1},this.tc=!1,this.qa=e.modes.active,this.Ia=-1,-1!=e.idleTime&&(this.Ia=Math.floor((new Date).getTime()/1e3)-e.idleTime),Db(this),this.ta={owner:e.modes.owner,admin:e.modes.admin,op:e.modes.op,halfop:e.modes.halfop,voice:e.modes.voice},this.na={},this.w=this.d.createElement("div"),this.I=this.d.createElement("div"),this.w.appendChild(this.I),this.z()}function Db(t){t.Ra=-1==t.Ia?!1:(new Date).getTime()/1e3-t.Ia<t.a.userListChattingTime}function sb(t,e){t.$b=e,t.ha&&(t.ha.style.display=t.$b.time?"inline":"none"),t.Va&&(t.Va.style.display=t.$b.flag?"inline":"none"),t.la&&(t.la.style.display=t.$b.icon?"inline":"none")}function rb(t,e){t.I.style.background=e?t.a.userListHover:"transparent"}function Gb(t,e,i){i=i.split(",");for(var n=0;n<i.length;n++){var s=i[n];if("chatting"==s){if(t.Ra!=e.Ra)return t.Ra&&!e.Ra?-1:1}else if("active"==s){if(t.qa!=e.qa)return t.qa&&!e.qa?-1:1}else if(("owner"==s||"admin"==s||"op"==s||"halfop"==s||"voice"==s)&&t.ta[s]!=e.ta[s])return t.ta[s]&&!e.ta[s]?-1:1}return t.g.toLowerCase()>e.g.toLowerCase()?1:t.g.toLowerCase()<e.g.toLowerCase()?-1:0}function Cb(t,e,i,n,s){var o=s-n;if(0==o)return s;if(1==o)return Gb(i,t[n],e)>0?s:n;if(2==o)return Gb(i,t[n],e)>0?Gb(i,t[s-1],e)>0?s:s-1:n;o=Math.floor((n+s)/2);var a=Gb(i,t[o],e);return 0>a?Cb(t,e,i,n,o):0==a?o:a>0?Cb(t,e,i,o,s):void 0}function nb(t,e){e=e.split(",");for(var i=0;i<e.length;i++){var n=e[i],s=!0;if("!"==n.substring(0,1)&&(n=n.substring(1,n.length),s=!1),"chatting"==n){if(t.Ra!=s)return!1}else if("active"==n){if(t.qa!=s)return!1}else if(("owner"==n||"admin"==n||"op"==n||"halfop"==n||"voice"==n)&&t.ta[n]!=s)return!1}return!0}function hb(t){Eb(t);var e=t.Sb.style,i=t.Ra;return Db(t),t.a.userListBoldOnChat&&(e.fontWeight=t.Ra?"bold":"normal"),wb(t,t.description),i!=t.Ra}function Eb(t){function e(t){return("00"+t).substr(-2)}if(t.ha)if("undefined"==typeof t.ie||"undefined"==typeof t.ue)t.ha.title="",C(t.ha,"https://s3.amazonaws.com/mibbit/gfx/mode_none.png",16,16);else{var i=new Date(t.ie+(new Date).getTime()),n=i.getUTCHours()+":"+e(i.getUTCMinutes())+":"+e(i.getUTCSeconds()),s="+",o=t.ue;0>o&&(s="-",o=-o);var a=Math.floor(o/60);o-=60*a,t.ha.title=n+" UTC"+s+e(a)+e(o),i=i.getUTCHours(),i>22||8>i?C(t.ha,"https://s3.amazonaws.com/mibbit/gfx/night.png",t.a.userListIconWidth,t.a.userListIconHeight):i>=8&&12>i?C(t.ha,"https://s3.amazonaws.com/mibbit/gfx/morning.png",t.a.userListIconWidth,t.a.userListIconHeight):i>=12&&18>i?C(t.ha,"https://s3.amazonaws.com/mibbit/gfx/day.png",t.a.userListIconWidth,t.a.userListIconHeight):i>=18&&22>=i&&C(t.ha,"https://s3.amazonaws.com/mibbit/gfx/evening.png",t.a.userListIconWidth,t.a.userListIconHeight)}}function Fb(t,e){t.X=e,t.la&&(t.la.style.verticalAlign=t.a.userListIconAlign,t.X.name?(e=t.a["ulicon_"+t.X.name],Hb&&"undefined"!=typeof DATA_URLS&&DATA_URLS[e]&&(e=DATA_URLS[e]),C(t.la,e,t.a.userListIconWidth,t.a.userListIconHeight)):C(t.la,t.X.src,t.a.userListIconWidth,t.a.userListIconHeight),t.X.title&&(t.la.title=t.X.title))}function wb(t,e){var i=t.description=e;-1!=t.Ia&&(i=Math.floor((new Date).getTime()/1e3)-t.Ia,i=60>i?"("+i+"s) "+e:3600>i?"("+Math.floor(i/60)+"m) "+e:"("+Math.floor(i/3600)+"h) "+e),t.I.setAttribute("title",i)}function yb(t,e,i){if(t.ta[e]=i,t.a.userListShowPrefixChars){var n="";if(t.a.userListShowSingleMode){for(s=0;s<I.length;s++)if(e=I[s],t.ta[e]){i=Ib(t,e,!0),i.length>0&&(n=i.substring(0,1));break}}else for(var s=0;s<I.length;s++)e=I[s],t.ta[e]&&(i=Ib(t,e,!0),i.length>0&&(n+=i.substring(0,1)));t.Vb.firstChild?t.Vb.firstChild.nodeValue=n:t.Vb.appendChild(t.d.createTextNode(n))}else if(t.a.userListShowSingleMode){for(i="",n="none",s=0;s<I.length;s++)e=I[s],t.ta[e]&&("none"==n&&(n=e),""!=i&&(i+=", "),i+=Jb(t,e));s=Ib(t,n),C(t.Ka,s,t.a.userListModeIconWidth,t.a.userListModeIconHeight),t.Ka.title=i}else{if(i&&!t.na[e]){t.na[e]=t.d.createElement("img"),t.na[e].style.verticalAlign=t.a.userListModeIconAlign,s=Ib(t,e),C(t.na[e],s,t.a.userListModeIconWidth,t.a.userListModeIconHeight),t.na[e].title=Jb(t,e),t.na[e].style.paddingLeft=t.a.userListModeSpacing+"px",n=null;var o=!1;for(s=0;s<I.length;s++)o&&t.na[I[s]]&&(n=t.na[I[s]]),I[s]==e&&(o=!0);null!=n?t.I.insertBefore(t.na[e],n):t.I.appendChild(t.na[e])}!i&&t.na[e]&&(t.I.removeChild(t.na[e]),delete t.na[e])}}function Ib(t,e){var i="https://s3.amazonaws.com/mibbit/gfx/mode_none.png";return"owner"==e?i=t.a.iconModeOwner:"admin"==e?i=t.a.iconModeAdmin:"op"==e?i=t.a.iconModeOp:"halfop"==e?i=t.a.iconModeHalfop:"voice"==e&&(i=t.a.iconModeVoice),i}function Jb(t,e){return"owner"==e?D.k("ModeOwner"):"admin"==e?D.k("ModeAdmin"):"op"==e?D.k("ModeOp"):"halfop"==e?D.k("ModeHalfop"):"voice"==e?D.k("ModeVoice"):""}function Kb(e,i,n){this.a=i,this.p=e,this.document=e.ownerDocument,this.cf=Lb(n),this.Te=!1,this.Ng=this.cf?"#00f":"#ff8",this.Og=this.cf?"#222":"#eee",this.p.style.zIndex="100",this.Dc="",this.Xf=0,this.M=this.document.createElement("div"),t({textAlign:"left",whiteSpace:"pre",margin:"1px"},this.M.style),this.z(!0),this.M.onmouseover=function(t){return function(){t.expand(!0)}}(this),this.M.onmouseout=function(t){return function(){t.expand(!1)}}(this),this.p.appendChild(this.M),this.W=this.M,this.Xd=10,this.M.style.display=Mb?"none":"block",Nb(this,"Mibbit")}function Nb(t,e,i){}function Oa(t,e,i,n,s){function o(t){return function(){return Ob(t),!1}}function a(t){return function(e){return Pb(t,e)}}function r(t){return function(e){var i;if(e=e,e||(e=window.event),t.Vc&&9!=e.keyCode&&(t.Vc=!1),9==e.keyCode){if(t.Rb){var n=t.O.value,s=Xa(t),o=n.substring(0,s);if(n=n.substring(s,n.length),t.Vc)o=o.substring(0,o.length-(t.Tc[t.tabIndex]+t.Uc).length),t.tabIndex++,t.tabIndex==t.Tc.length&&(t.tabIndex=0),s=o+t.Tc[t.tabIndex]+t.Uc,t.O.value=s+n,Ta(t,s.length);else if((s=o.match(new RegExp("["+t.Jf+"]+$")))&&1==s.length){s=s[0].toLowerCase(),o=o.substring(0,o.length-s.length),t.Uc=""==o?": ":" ";var a=[];for(nick in t.Rb)t.Rb.hasOwnProperty(nick)&&nick.substring(0,s.length).toLowerCase()==s&&a.push(t.Rb[nick]);if(0!==a.length)if(1==a.length)t.O.value=o+a[0]+t.Uc+n,Ta(t,o.length+(a[0]+t.Uc).length);else{a.sort(t.Kf);for(var r=a[0].length,c=0;c<a.length-1;c++)for(;r>0&&a[c].substring(0,r).toLowerCase()!=a[c+1].substring(0,r).toLowerCase();)r--;r>s.length?(s=o+a[0].substring(0,r).toLowerCase(),t.O.value=s+n,Ta(t,s.length)):(t.Vc=!0,t.Tc=a,t.tabIndex=0,s=o+t.Tc[t.tabIndex]+t.Uc,t.O.value=s+n,Ta(t,s.length))}}}}else e.shiftKey||e.altKey||38!=e.keyCode?!e.shiftKey&&!e.altKey&&40==e.keyCode&&Qb(t):t.Kb<t.history.length-1&&(t.Kb++,t.O.value=t.history[t.Kb],Ta(t,t.O.value.length));return Pb(t,e),i}}function c(t){return function(){t.history[t.Kb]=t.O.value,t.uc&&t.uc(t.O.value)}}this.Hf=n,this.history=[],this.Kb=0,this.maxLength=i,this.O=e,this.Rb={},this.Jf="\\_\\|a-zA-Z0-9\\-\\[\\]\\\\`\\^\\{\\}",this.Kf=s,this.Vc=!1,this.Tc=[],this.tabIndex=0,this.uc=null,e.setAttribute("autocomplete","off"),e.setAttribute("spellcheck","true"),t.addEventListener?(t.addEventListener("submit",o(this),!1),e.addEventListener("keydown",r(this),!1),e.addEventListener("keypress",a(this),!1),e.addEventListener("keyup",c(this),!1)):(t.attachEvent("onsubmit",o(this)),e.attachEvent("onkeydown",r(this)),e.attachEvent("onkeypress",a(this)),e.attachEvent("onkeyup",c(this)))}function Rb(t,e){t.Rb[e.toLowerCase()]=e}function Sb(t,e){delete t.Rb[e.toLowerCase()]}function Ob(t){return t.Vc=!1,t.history[0]=t.O.value,t.O.value="",t.Hf&&t.history[0]==t.history[1]?t.history[0]="":(t.history.length>=t.maxLength&&t.history.pop(),t.history.unshift("")),t.Kb=0,!1}function Qb(t){t.Kb>0&&(t.Kb--,t.O.value=t.history[t.Kb])}function Ta(t,e){try{if("undefined"!=typeof t.O.selectionStart)t.O.setSelectionRange(e,e);else if(t.O.createTextRange){var i=t.O.createTextRange();i.move("character",e),i.select()}}catch(n){}}function Xa(t){try{if("undefined"!=typeof t.O.selectionStart)return t.O.selectionStart;if(t.O.createTextRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2}catch(e){}return v.length}function Pb(t,e){return e||(e=window.event),9==e.keyCode||!e.shiftKey&&!e.altKey&&38==e.keyCode&&0==e.charCode||!e.shiftKey&&!e.altKey&&40==e.keyCode&&0==e.charCode?(e.stopPropagation?(e.stopPropagation(),e.preventDefault()):(e.cancelBubble=!0,e.returnValue=!1),!1):!0}function Tb(e,i,n,s,o,a,r,c,h,l,d,u){this.s=e,this.C=h,this.id=n,this.me=d,this.collapsed=!1,this.$a=!0,this.Rd=this.Qd=!1,this.title=o,this.content=s,this.d=i.ownerDocument,this.Ya=c,this.ec=this.xc=!1,this.J=r,this.he=(new Date).getTime(),this.Zc=l.Cb,this.H=i,this.H.style.cursor="pointer",this.H.style.MozUserSelect="none",this.H.style.Ge="none",this.xa=this.d.createElement("span"),t({display:"block",position:"relative",paddingRight:"4px"},this.xa.style),this.xa.onclick=function(t){return function(e){return e||(e=window.event),e=e.target?e.target:e.srcElement,e!=t.Ob&&e!=t.G&&l.Df(t.id),!1}}(this),this.K=this.d.createElement("span"),t({textDecoration:"none",verticalAlign:"top",position:"relative"},this.K.style),this.J.X&&(this.ic=this.d.createElement("img"),e=this.s.ca-2,i=this.s.ca-2,this.J.Ec&&this.J.$d&&this.J.Ec<i&&(i=this.J.Ec,e=this.J.$d),t({width:e+"px",height:i+"px",display:"inline",marginRight:"3px",verticalAlign:"top"},this.ic.style),C(this.ic,this.J.X,e,i),this.K.appendChild(this.ic)),this.uf=this.d.createTextNode(o),this.K.appendChild(this.uf),this.H.title=a,this.xa.appendChild(this.K),this.H.appendChild(this.xa),u&&(this.Ob=this.d.createElement("span"),this.Ne=this.d.createTextNode(" << "),this.Ob.appendChild(this.Ne),this.K.appendChild(this.Ob),this.Ob.onclick=function(t){return function(){return t.Cd(!t.collapsed),!1}}(this)),l.Me&&(this.G=this.d.createElement("img"),t({cursor:"pointer",width:"12px",height:"12px",marginLeft:"3px",verticalAlign:"top"},this.G.style),this.G.title="Close tab",this.G.onclick=function(t){return function(){return l.Me(t.id),!1}}(this),C(this.G,"https://leoroot.duckdns.org/icon/close-win-grey.png",12,12),this.G.style.border="0",this.G.onmouseover=function(){C(this,"https://leoroot.duckdns.org/icon/close-win-red.png",12,12)},this.G.onmouseout=function(){C(this,"https://leoroot.duckdns.org/icon/close-win-grey.png",12,12)},this.K.appendChild(this.G)),this.z()}function Ub(t,e){t.title=e,t.uf.nodeValue=t.title}function Vb(e){"list"==e.s.ac?(t({styleFloat:"none",cssFloat:"none",marginRight:"0px",textAlign:"left",marginBottom:"1px"},e.H.style),e.xa.style.cssFloat="none",e.xa.style.styleFloat="none",e.G&&(e.K.removeChild(e.G),e.K.insertBefore(e.G,e.K.firstChild),e.G.style.marginLeft="0px",e.G.style.marginRight="4px")):(t({styleFloat:"left",cssFloat:"left",marginRight:e.C.te+"px",textAlign:"center",marginBottom:"0px"},e.H.style),e.xa.style.cssFloat="left",e.xa.style.styleFloat="left",e.G&&(e.K.removeChild(e.G),e.K.appendChild(e.G),e.G.style.marginLeft="4px",e.G.style.marginRight="0px")),e.z()}function Yb(t,e,i,n,s,o,a,r){if(t=(e?"l":"r")+"-"+(i?"1":"0")+"-"+n+"-"+s+"-"+o+"-"+a+"-"+r,Xb[t])return Xb[t];try{var c=document.createElement("canvas");if(!c.getContext)return!1;c.setAttribute("width",n),c.setAttribute("height",s);var h=c.getContext("2d");h.fillStyle=r,h.fillRect(0,0,n,s);var l=h.createLinearGradient(0,0,0,2*s);l.addColorStop(0,a),l.addColorStop(.1,a),l.addColorStop(1,"#000"),h.fillStyle=i?a:l;var d=Math.min(n,s)/3;h.beginPath(),e?(h.moveTo(d,.5),h.lineTo(n-.5,.5),h.lineTo(n-.5,s),h.lineTo(.5,s),h.lineTo(.5,d),h.bezierCurveTo(.5,d/3,d/3,.5,d,.5)):(h.moveTo(n-.5-d,.5),h.lineTo(.5,.5),h.lineTo(.5,s),h.lineTo(n-.5,s),h.lineTo(n-.5,d),h.bezierCurveTo(n-.5,d/2,n-.5-d/2,1,n-.5-d,.5)),h.fill(),h.beginPath(),e?(h.moveTo(.5,s),h.lineTo(.5,d),h.bezierCurveTo(.5,d/2,d/2,.5,d,.5),h.lineTo(n-.5,.5)):(h.moveTo(n-.5,s),h.lineTo(n-.5,d),h.bezierCurveTo(n-.5,d/2,n-.5-d/2,.5,n-.5-d,.5),h.lineTo(.5,.5)),h.strokeStyle=o,h.lineWidth=1,h.lineCap="butt",h.stroke();var u=c.toDataURL();return Xb[t]=u}catch(p){}return!1}function Wb(t,e){function i(t){var e=t.indexOf(" ");return-1!=e&&(t=t.substring(0,e)),e="ffffff","#"==t.charAt(0)?(7==t.length&&(e=t.substring(1,t.length)),4==t.length&&(e=t.substring(1,2)+t.substring(1,2)+t.substring(2,3)+t.substring(2,3)+t.substring(3,4)+t.substring(3,4))):6==t.length&&(e=t),e}t.Ya=e;var n=i(t.J.background),s=i(t.C.background),o=i(t.J.border),a=Yb(t,!0,e,200,t.s.ca,t.J.border,t.J.background,t.C.background),r=Yb(t,!1,e,200,t.s.ca,t.J.border,t.J.background,t.C.background);"top"==t.s.ac&&a&&r?(t.xa.style.background="transparent url('"+r+"') no-repeat scroll right top",t.H.style.background="transparent url('"+a+"') no-repeat scroll left top"):(n="/img/tab?"+("list"==t.s.ac?"vertical&":"")+"color="+n+(o?"&bcolor="+o:"")+(s?"&bgcolor="+s:"")+(e?"&selected=true":""),20!=t.s.ca&&(n+="&height="+t.s.ca),t.xa.style.background="transparent url("+n+"&right=true) no-repeat scroll right top",t.H.style.background="transparent url("+n+") no-repeat scroll left top"),t.K.style.color=e?t.C.color:t.ec?t.C.Qb:t.xc?t.C.Pb:t.C.Ff,t.G&&(t.G.style.display=t.s.Tf?"inline":e?"inline":"none"),t.H.style.marginLeft="list"==t.s.ac&&e?"4px":"0px"}function Zb(t){t.ec&&t.s.dc--,t.xc&&(t.s.yc--,0==t.s.yc?t.s.L(!1):0==t.s.dc&&t.s.L(!0)),t.xc=!1,t.ec=!1}function $b(t,e){e?t.Rd=!0:t.Qd=!0,t.Rd?t.Ob.style.color=t.C.Qb:t.Qd&&(t.Ob.style.color=t.C.Pb)}function ac(t){t.Qd=!1,t.Rd=!1,t.Ob.style.color=t.C.color}function bc(e,i,n,s,o){this.a=i,this.d=e.ownerDocument,this.l={},this.Pe=0,this.u=[],this.dc=this.yc=0,this.Fa=e,this.ac="top",this.Kd=s,this.ca=o,this.Fa.style.textAlign="left",this.V=this.d.createElement("div"),this.V.style.overflow="hidden",this.V.style.zIndex="90",this.bc=this.d.createElement("ul"),t({listStyleType:"none",listStyleImage:"none",listStylePosition:"outside",margin:"0",padding:"0",verticalAlign:"bottom",overflow:"hidden"},this.bc.style),i=this.d.createElement("div"),i.style.position="relative",this.V.appendChild(this.bc),i.appendChild(this.V),e.appendChild(i),(this.fd=n)&&(this.Nb=this.d.createElement("div"),this.Fa.appendChild(this.Nb),t({position:"absolute",right:"0px",top:cc+"px",width:"40px",height:this.ca+"px",textAlign:"right",paddingTop:this.Kd+"px",background:this.a.tabBackgroundColor},this.Nb.style),this.Qa=this.d.createElement("div"),this.Qa.style.display="none",this.Nb.appendChild(this.Qa),this.ab=this.d.createElement("span"),this.ab.appendChild(this.d.createTextNode("<")),t({color:"#eee",fontSize:"15px",fontWeight:"bold",cursor:"pointer",textDecoration:"none"},this.ab.style),this.ab.onclick=function(t){return function(){var e=dc(t);e>0&&ec(t,e-1)}}(this),this.bb=this.d.createElement("a"),this.bb.appendChild(this.d.createTextNode(">")),t({color:"#eee",fontSize:"15px",fontWeight:"bold",cursor:"pointer",textDecoration:"none"},this.bb.style),this.bb.onclick=function(t){return function(){var e=dc(t);e+1<fc(t)&&ec(t,e+1)}}(this),this.Qa.appendChild(this.ab),this.Qa.appendChild(this.d.createTextNode(" ")),this.Qa.appendChild(this.bb),this.V.style.marginRight="40px"),gc(this,"list"==this.ac),this.z()}function hc(t){t.ba=t.d.createElement("li"),t.ba.style.listStyleType="none",t.ba.style.margin="0",t.ba.style.padding="0",t.ba.style.styleFloat="left",t.ba.style.cssFloat="left",t.ba.style.marginRight=t.ja.te+"px",t.ba.style.paddingLeft="4px",t.ba.style.textAlign="center",t.ba.style.display="block",t.ba.style.whiteSpace="nowrap"}function ic(t){try{t.je.parentNode.removeChild(t.je)}catch(e){}}function jc(t){for(i in t.l)t.l.hasOwnProperty(i)&&t.l[i].close()}function kc(t,e,i){if(!t.l[e])return!1;var n=t.l[e];return delete t.l[e],t.l[i]=n,n.id=i,!0}function lc(t,e){if(!t.l[e])return!1;var i=e+".dead"+t.Pe;return kc(t,e,i),Ub(t.l[i],t.l[i].title+" (dead)"),t.l[i].G.onclick=function(t){return function(){mc(t,i)}}(t),t.Pe++,!0}function nc(t,e,i){return i&&(t=t.l[i])&&t.collapsed?!1:!0}function oc(e,i,n,s,o,a,r,c,h,l,d,u){w&&z("addTab","Adding "+i+" : "+d+" "+u,J);try{if(e.l[i]&&w&&z("addTab","We already have a tab of that ID! "+i,A),d){var p=e.l[d];p&&p.collapsed&&(h=!0)}h?n.style.display="none":jc(e);var f=e.d.createElement("li");t({listStyleType:"none",margin:"0",padding:"0",display:"block",position:"relative",whiteSpace:"nowrap"},f.style),f.style.paddingLeft="4px";var b={};b.Cb=a,l&&(b.Me=function(t){return function(e){var i=!0;r&&(i=r(e)),i&&mc(t,e)}}(e)),b.Df=function(t){return function(e){"undefined"!=typeof t.l[e]&&(jc(t),t.l[e].open())}}(e);var m=new Tb(e,f,i,n,s,o,c,!h,e.ja,b,d,u);return Vb(m),w&&z("addTab","setting hidden? "+i+" : "+d+" "+e.l[d],J),d&&(p=e.l[d])&&p.collapsed&&(w&&z("addTab","setting hidden "+i,J),m.H.style.display="none",m.$a=!1),pc(e,m),e.Qa&&e.size()>1&&(e.Qa.style.display="block"),m}catch(g){w&&z("addTab","exception "+g,A)}}function pc(t,e){for(var i,n,s=0;s<t.u.length;s++){var o=t.u[s];if(o.$a&&(n=o),o.id>e.id){i=o.H;break}}n&&"none"==n.H.style.display&&(e.H.style.display="none"),i?t.bc.insertBefore(e.H,i):t.bc.appendChild(e.H),t.l[e.id]=e,t.u.push(e),t.u.sort(function(t,e){return t.id>e.id?1:t.id<e.id?-1:0})}function qc(t,e){t.bc.removeChild(e.H);for(var i=0;i<t.u.length;i++)if(t.u[i]==e){t.u.splice(i,1);break}delete t.l[e.id]}function mc(t,e){if(e=t.l[e],!e)return!1;if(e.content.parentNode.removeChild(e.content),Zb(e),qc(t,e),e.Ya){e=0;var n;for(i in t.l)t.l.hasOwnProperty(i)&&t.l[i].he>e&&(e=t.l[i].he,n=t.l[i]);n&&n.open()}return t.Qa&&t.size()<2&&(t.Qa.style.display="none"),!0}function ec(t,e){for(var i=0,n=0;i<t.u.length;i++){var s=t.u[i];s.$a&&(s.H.style.display=e>n?"none":"block"),s.$a&&n++}}function dc(t){for(var e=0,i=0;e<t.u.length;e++){var n=t.u[e];if(n.$a&&"block"==n.H.style.display)return i;n.$a&&i++}return 0}function fc(t){for(var e=0,i=0;i<t.u.length;i++)t.u[i].$a&&e++;return e}function gc(t,e){if(!rc||!e){"undefined"!=typeof M&&t==M&&(sc=cc+(e?0:t.Kd+t.ca)),t.ac=e?"list":"top",t.Fa.style.height=e?"auto":t.ca+"px",t.Fa.style.overflow=e?"auto":"hidden",t.Fa.style.top=e?sc+"px":"",t.Fa.style.bottom=e?tc+"px":"",t.Fa.style.left=e?"0px":"",t.Fa.style.width=e?E.tabListWidth+"px":"auto",t.Fa.style.position=e?"absolute":"static",t.Fa.style.paddingTop=e?"0px":t.Kd+"px",t.V.style.height=e?"auto":t.ca+"px",t.V.style.marginRight=e?"0px":t.fd?"40px":"0px",t.bc.style.height=e?"auto":t.ca+"px",t.ba&&(t.ba.style.styleFloat=e?"none":"left",t.ba.style.cssFloat=e?"none":"left",t.ba.style.marginRight=(e?"0":t.ja.te)+"px",t.ba.style.marginBottom=e?"1px":"0px",t.ba.style.textAlign=e?"left":"center");for(var i=0;i<t.u.length;i++)Vb(t.u[i]),t.u[i].content.style.top=sc+"px",t.u[i].content.style.left=(e?E.tabListWidth:0)+"px",t.u[i].H.style.display=t.u[i].$a?"block":"none";t.fd&&(t.Nb.style.display=e?"none":"block")}}function uc(t,e,i){this.element=t,this.d=t.ownerDocument,this.a=e,this.Zg=i,this.ud=!1}function vc(t,e){t.ud&&(t.Bc.style.display=e?"none":"block")}function wc(e,i,n,s){if(e.clear(),!s){var o=e.d.createElement("div");t({textAlign:"right",overflow:"hidden",height:"15px",borderBottom:"1px solid #000",padding:"4px",fontSize:"13px",fontWeight:"bold",background:"#ccc"},o.style);var a=e.d.createElement("span");if(t({color:"#222",cursor:"pointer",textDecoration:"underline"},a.style),a.onclick=function(t){return function(){return t.clear(),n(),!1}}(e),a.appendChild(e.d.createTextNode("Cerrar")),i){var r=e.d.createElement("a");r.style.color="#222",r.href=i,r.target="_blank",r.appendChild(e.d.createTextNode("Abrir")),r.onclick=function(t){return function(){return t.clear(),n(),!0}}(e),o.appendChild(r),o.appendChild(e.d.createTextNode(" | "))}o.appendChild(a),e.element.appendChild(o)}return e.Bc=e.d.createElement("div"),t({position:"absolute",top:"24px",bottom:"0px",left:"0px",right:"0px"},e.Bc.style),s&&(e.Bc.style.top="0px"),e.element.appendChild(e.Bc),e.Bc}function xc(t,e,i,n){t.ud=!0,i=wc(t,e,i,n),t.R=t.d.createElement("iframe"),t.R.style.width="100%",t.R.style.height="100%",t.R.style.minHeight="100%",i.appendChild(t.R),t.R.src=e}function yc(t,e,i){xc(t,"https://docs.google.com/viewer?url="+encodeURIComponent(e)+"&embedded=true",i)}function zc(t,e,i,n){t.ud=!1,t=wc(t,i,n),i=100,n=81;try{t.offsetWidth/t.offsetHeight<425/344?(i=t.offsetWidth,n=Math.floor(344*i/425)):(n=t.offsetHeight,i=Math.floor(425*n/344))}catch(s){}t.style.textAlign="center",t.innerHTML='<object style="margin:auto" width="'+i+'" height="'+n+'"><param name="movie" value="https://www.youtube.com/v/'+e+'&hl=en&fs=1"></param><param name="allowFullScreen" value="true"></param><embed src="https://www.youtube.com/v/'+e+'&hl=en&fs=1" type="application/x-shockwave-flash" allowfullscreen="true" width="'+i+'" height="'+n+'"></embed></object>'}function Ac(t,e,i){t.ud=!1;var n=wc(t,e,i),s=t.d.createElement("img");n.style.textAlign="center",n.appendChild(s),s.onload=function(){return function(){if(s.width>n.offsetWidth||s.height>n.offsetHeight)try{n.offsetWidth/n.offsetHeight>s.width/s.height?(s.style.width="auto",s.style.height="100%"):(s.style.width="100%",s.style.height="auto")}catch(t){}}}(),s.src=e}function Bc(t){this.p=t,this.d=t.ownerDocument,this.id=Bc.Jg++,this.loaded=!1,this.R=this.d.createElement("iframe"),this.R.attachEvent?this.R.attachEvent("onload",function(t){return function(){Cc(t)}}(this)):this.R.addEventListener("load",function(t){return function(){Cc(t)}}(this),!1),this.R.style.width="100%",this.R.style.height="100%",this.R.frameBorder="0",t.appendChild(this.R)}function Cc(t){if(t.ce=t.R.contentDocument?t.R.contentDocument:t.R.contentWindow?t.R.contentWindow.document:null,null!=t.ce)try{t.ce.designMode="on",t.loaded=!0,t.R.contentWindow.focus()}catch(e){w&&z("PasteBin","Can't set designMode",A)}else w&&z("PasteBin","Can't find doc...",A)}function Dc(e){t({overflow:"hidden",fontFamily:"Arial,Helvetica,sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:"13px",borderTop:"1px solid #c8c8ff"},e.style),e.setAttribute("valign","top");var i=e.ownerDocument,n=i.createElement("table");t({padding:"2px",border:"1px solid #444",background:"#cce",fontSize:"11px"},n.style),n.border=0,n.setAttribute("border","0"),n.setAttribute("cellpadding","2"),n.setAttribute("cellspacing","0");var s=n.insertRow(-1);t({background:"#aac",borderBottom:"1px solid #444"},s.style),s=s.insertCell(-1),s.setAttribute("colspan","2"),s.colSpan="2",t({fontWeight:"bold",fontSize:"13px",textAlign:"center"},s.style),s.appendChild(i.createTextNode("Mibbit help")),s={help:"Display this help",clear:"Clear the chat output in this channel","query nick [msg]":"Open a PM to a user, with an optional message","ignore nick":"Ignore the user in this channel","unignore nick":"Unignore the user in this channel",ulshow:"Mostrar lista de usuarios",ulhide:"Ocultar lista de usuarios","showurl url":"Show a url/media next to the chat",pastebin:"Show the pastebin","server addr [nick]":"Connect to another server"};for(var o in s)if(s.hasOwnProperty(o)&&s.hasOwnProperty(o)){var a=n.insertRow(-1),r=a.insertCell(-1);r.setAttribute("valign","top"),r.appendChild(i.createTextNode("/"+o)),r.style.color="green",r.style.paddingRight="2px",a=a.insertCell(-1),a.setAttribute("valign","top"),a.appendChild(i.createTextNode(s[o])),a.style.color="#444"}i=i.createElement("div"),i.style.border="none",i.style.padding="5px",i.appendChild(n),e.appendChild(i)}function Ec(e,i,n){return function(s){function o(t,e){var i=v.insertRow(-1),n=i.insertCell(-1);i=i.insertCell(-1),n.setAttribute("valign","top"),n.appendChild(c.createTextNode(t+":")),n.style.color="#464",n.style.textAlign="right",n.style.paddingRight="2px",n.style.whiteSpace="nowrap",i.setAttribute("valign","top"),i.style.color="#000",i.appendChild(c.createTextNode(e))}function a(t,e){var i=v.insertRow(-1),n=i.insertCell(-1);i=i.insertCell(-1),n.setAttribute("valign","top"),n.appendChild(c.createTextNode(t+":")),n.style.color="#464",n.style.textAlign="right",n.style.paddingRight="2px",n.style.whiteSpace="nowrap",i.setAttribute("valign","top"),i.style.color="#000",t=c.createElement("a"),t.href=e,t.target="_blank",t.style.color="blue",t.appendChild(c.createTextNode(e)),i.appendChild(t)}function r(t){return("00"+t).substr(-2)}t({overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",borderTop:"1px solid #c8c8ff"},s.style),s.setAttribute("valign","top");var c=s.ownerDocument,h=c.createElement("table");h.border=0,h.setAttribute("border","0"),h.setAttribute("cellpadding","0"),h.setAttribute("cellspacing","0"),t({fontSize:i.chatFontSize+"px",width:"100%",background:"#bbb",border:"1px solid #222"},h.style);var l=h.insertRow(-1);l.style.borderBottom="1px solid #222";var d=l.insertCell(-1);d.colSpan="2",t({fontWeight:"bold",fontSize:"17px",color:"#6cb12a",padding:"2px",background:"url(https://s3.amazonaws.com/mibbit/gfx/bottom-bg.png)"},d.style),l=c.createElement("img"),l.style.marginRight="4px",C(l,"https://s3.amazonaws.com/mibbit/gfx/magnifier.png",16,16),d.appendChild(l),d.appendChild(c.createTextNode("Whois "+e.nick+"?"));var u=h.insertRow(-1),p=u.insertCell(-1);p.setAttribute("valign","top"),p.style.borderRight="1px solid #222",p.style.width="64px",l=c.createElement("img"),l.style.margin="4px",C(l,"https://s3.amazonaws.com/mibbit/gfx/user"+(e.mibbituser?"_green":"")+".png",64,64),p.appendChild(l),p=u.insertCell(-1),p.setAttribute("valign","top");var f=c.createElement("table");p.appendChild(f);var b={nick:"Nickname",user:"Username",host:"Hostname",realip:"IP",realhost:"Host",idd:"Identified",realname:"Real name",away:"Away message",server:"Server",ssl:"SSL",modes:"Modes",help:"Help",operator:"Operator",serverinfo:"Server info",idle:"Idle time",channels:"Channels",client:"IRC Client",browser:"Browser",backend:"Backend",connectip:"Connect IP"};for(var m in b)if(b.hasOwnProperty(m)&&e.hasOwnProperty(m)){var g=b[m],y=f.insertRow(-1),w=y.insertCell(-1);y=y.insertCell(-1),w.setAttribute("valign","top"),w.style.whiteSpace="nowrap",y.setAttribute("valign","top"),w.appendChild(c.createTextNode(g+":")),w.style.color="#464",w.style.textAlign="right",w.style.paddingRight="2px",n.reset(),n.q+=e[m],n.v(y)}if(e.mibbituser){d.colSpan="3",p.style.borderRight="1px solid #222",p.style.width="45%",w=u.insertCell(-1),w.setAttribute("valign","top");var v=c.createElement("table");if(w.appendChild(v),e.MEGQCHATusername&&o("Megachat username",e.Megachatusername),o("On MegaChat for",e.onlinetime),e.cc&&o("Country",e.cc),e.ct&&e.tz&&(d=new Date(parseInt(e.ct)),d=r(d.getUTCHours())+":"+r(d.getUTCMinutes())+":"+r(d.getUTCSeconds()),u="+",e.tz<0&&(u="-",e.tz=-e.tz),p=r(Math.floor(e.tz/60)),f=r(e.tz-60*p),o("Local time",d+" UTC"+u+p+f)),e.embed&&o("MEGAChat client","Widget"),e.premium&&o("Premium","Yes"),e.profile){d={sex:"Sex",age:"Age",location:"Location",homepage:"http://mibbit.com"},u=aa(e.profile);for(m in d)d.hasOwnProperty(m)&&u.hasOwnProperty(m)&&("homepage"==m?a(d[m],u[m]):o(d[m],u[m]));u.avatar&&(l.src=u.avatar)}}m=c.createElement("div"),m.style.border="none",m.style.padding="5px",m.appendChild(h),s.appendChild(m)}}function Fc(e,i){return function(n){n.setAttribute("valign","top"),t({overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:"13px",borderTop:"1px solid #c8c8ff"},n.style);var s=n.ownerDocument,o=s.createElement("table");t({border:"1px solid #222",background:"#bbb",width:"100%"},o.style),o.border=0,o.setAttribute("border","0"),o.setAttribute("cellpadding","0"),o.setAttribute("cellspacing","0");var a=o.insertRow(-1);a.style.borderBottom="1px solid #222",a=a.insertCell(-1),t({fontWeight:"bold",fontSize:"17px",color:"#ff0",padding:"2px",background:"url(https://s3.amazonaws.com/mibbit/gfx/bottom-bg.png)"},a.style);var r=s.createElement("img");r.style.marginRight="4px",C(r,"https://s3.amazonaws.com/mibbit/gfx/exclamation.png",16,16),a.appendChild(r),a.appendChild(s.createTextNode("Global message from Mibbit")),r=s.createElement("span"),r.style.fontSize="13px",r.style.color="#ddd",r.appendChild(s.createTextNode(" ("+(new Date).toString()+")")),a.appendChild(r),a=o.insertRow(-1).insertCell(-1),a.style.padding="4px",a.style.fontSize="15px",i.reset(),i.q+=e,i.v(a),s=s.createElement("div"),s.style.border="none",s.style.padding="5px",s.appendChild(o),n.appendChild(s)}}function O(){this.Fb=this.fb=null,this.Fe=!0,this.zd=!1,this.Bf={},this.de={},this.j={},this.h={},this.Qf=function(t,e){try{var i="IRCClient:"+t+":"+e;w&&z("embedChannel",i,G);var n=new P(null,"IRCClient:"+t,this,E);n.Wf=!0,this.j["IRCClient:"+t]=n;var s=document.getElementById("chats"),o=document.createElement("div");s.appendChild(o),fulltitle=e+" (channel)";var a=!("#"==e.substring(0,1)||"&"==e.substring(0,1)||"!"==e.substring(0,1)),r=new Gc(i,o,e,"IRCClient:"+t,n,a,E);r.b.S.He=!1,r.b.S.Ie=this.Fe,n.b=r.b,this.h[i]=r,n.h[i]=r;var c=a?{background:E.tabColorPM,border:E.tabBColorPM}:{background:E.tabColorChannel,border:E.tabBColorChannel},h=oc(M,i,o,e,fulltitle,function(){return function(t,e){r.b.Cb(e)}}(this),function(e){return function(){n.ya&&E.confirmServerClose?e.Ud(t):Hc(e,t)}}(this),c,!1,!0);E.focusNewJoins&&this.h[i].b.Cb(!0),this.h[i].U=h,la(Q,i,this.h[i]),la(Q,"IRCClient:"+t,n)}catch(l){w&&z("embedChannel","Exception "+l,A)}},this.tb=function(t){w&&z("IRCClient.recv","p.cmd="+t.cmd,J);try{if("connected"==t.cmd){S&&S.Ub({cmd:"connected"}),this.zd||Ic&&(Mb=!1,Adverts.Dd(!1));var e="IRCClient:"+t.name;if(this.Fb&&this.Fb.toLowerCase()==t.name.toLowerCase())this.Qf(t.name,this.fb);else if(!this.j[e]){var i=!0;Ic&&(i=!1);var n=document.getElementById("chats"),o=document.createElement("div");o.style.display=i?"none":"block",n.appendChild(o);var a=new P(o,e,this,E);this.j[e]=a;var r=t.name;t.network&&(r=t.network),this.j[e].ug=r;var c=oc(M,e,o,r,"IRC server "+t.name,function(){return function(t,e){a.b.Cb(e)}}(this),function(e){return function(){a.ya&&E.confirmServerClose?e.Ud(t.name):Hc(e,t.name)}}(this),{background:E.tabColorServer,border:E.tabBColorServer},i,!0,!1,!0);this.j[e].U=c,la(Q,e,this.j[e]),!Ic&&t.network&&Jc(this.j[e].b,"//clientsearch.mibbit.com/client/channels/"+encodeURIComponent(t.network),!0)}}else if("confailed"==t.cmd)""!=t.name&&this.sf(t.name,t.reason);else if("blacklisted"==t.cmd)w&&z("IRCClient.recv","BLACKLISTED",A),this.Ye();else if("checkconnect"==t.cmd)w&&z("IRCClient.recv","checkconnect "+t.allowed,J),this.Ze(t.allowed);else if("disconnected"==t.cmd){S&&S.Ub({cmd:"disconnected"}),Adverts.Dd(!1),w&&z("IRCClient.recv",t,J),t.force||this.tf(t.name,t.reason);var h="IRCClient:"+t.name;this.j[h]&&(ma(Q,h),this.j[h].closed(!!t.reason&&!t.force),delete this.j[h]),Kc("ircdisconnect")}else if("keyaccept"==t.cmd)ic(M),this.zd=!0,w&&z("server","PREMIUM",A),Adverts.od(),Mb=!1;else if("sysmsg"==t.cmd)w&&z("server",t.data,G);else if("status"==t.cmd)Lc("irc",t.connections,t.pending,t.pendingDNS,t.hostname,t.pendingSettings,t.readyToConnect),w&&z("server","Status: "+s(t),G);else if("linkinfo"==t.cmd){w&&z("IRCClient.recv","Link info: "+t,G),i=document.getElementById(t.linkid);var l=document.getElementById(t.linkid+"_i");if(i&&l){if(e="",t.followed)e=t.followed;else for(var d in t.idata)t.idata.hasOwnProperty(d)&&"thumb"!=d&&(e=e+d.toUpperCase()+": "+t.idata[d]+" \n");i.title=e,i.style.color=E.Pg,l.title=e,t.idata.thumb&&(i.src=t.idata.thumb)}else w&&z("IRCClient.recv","Link not found :/ "+t.linkid,A)}else w&&z("IRCClient.recv",t,J)}catch(u){w&&z("IRCClient.recv","exception "+t+":"+u,A)}},this.Vg=function(){w&&z("IRCClient.notifyServersDisconnect","notifyServersDisconnect",G),Kc("ircdisconnect");try{for(rname in this.j)this.j.hasOwnProperty(rname)&&this.j[rname].gc()}catch(t){w&&z("IRCClient.notifyServersDisconnect","exception ",A)}},this.ig=function(){Kc("ircdisconnect");for(rname in this.j)this.j.hasOwnProperty(rname)&&this.j[rname].closed(!1);this.j={}},this.We=0,this.$g=function(t){var e="GLOB"+this.We;this.We++;var i=function(t){return function(){for(rname in t.j)t.j.hasOwnProperty(rname)&&Mc(t.j[rname],e)}}(this);for(rname in this.j)this.j.hasOwnProperty(rname)&&Nc(this.j[rname],e,t,i)},this.qg=function(t){for(rname in this.j)this.j.hasOwnProperty(rname)&&(Oc(this.j[rname],t),this.j[rname].Wf||this.j[rname].tb(t))},this.Vf=function(){for(rname in this.j)if(this.j.hasOwnProperty(rname))return!0;return!1},this.ah=function(t){Pc=t;for(var e in this.j)this.j.hasOwnProperty(e)&&(this.j[e].b.B(),U(this.j[e].b));for(e in this.h)this.h.hasOwnProperty(e)&&(this.h[e].b.B(),U(this.h[e].b))},this.Ef=function(t){w&&z("closedchannel","Added ignore for : "+t,G),this.de[t]=!0},this.Gf=function(t){w&&z("closedchannel","Removed ignore for : "+t,G),delete this.de[t]},this.Lc=function(t){w&&z("IRCClient.prefsUpdated","prefsUpdated",G);for(var e in this.h)if(this.h.hasOwnProperty(e)){this.h[e].Lc(t);var i=this.h[e].za,n=this.h[e].U;n.J={background:i?E.tabColorPM:E.tabColorChannel,border:i?E.tabBColorPM:E.tabBColorChannel},Wb(n,n.Ya)}if(null==this.Fb)for(e in this.j)this.j.hasOwnProperty(e)&&(this.j[e].Lc(t),i=this.j[e].U,i.J={background:E.tabColorServer,border:E.tabBColorServer},Wb(i,i.Ya))}}function Hc(t,e){var i="IRCClient:"+e;t.j[i].ya?V.Y({channel:"IRCClient",cmd:"disconnect",data:e}):t.j[i]&&(t.j[i].closed(!1),delete t.j[i])}function Qc(t,e,i,n,o,a,r,c,h){try{""!=i&&""!=e&&(t={channel:"IRCClient",cmd:"connect"},"!"==e.substring(0,1)&&(t.proxied=!0,e=e.substring(1,e.length)),e=e.replace(/\s+/g,"").replace(/\.+/g,".").replace(/^\./,"").replace(/\.$/,"").toLowerCase(),i=i.replace(/\s+/g,""),n=n.replace(/\s+/g,""),o=o.replace(/\n/g,""),o=o.replace(/\r/g,""),t.data=e,t.nick=i,t.pass=null!=n&&n?n:"",t.authmethod=c,o&&null!=o||(o=""),t.joinchannels=o,h&&(t.charset=h),r&&(t.forced=!0),w&&z("connect",s(t),G),V.Y(t))}catch(l){w&&z("irc.connectServer","exception "+l,A)}}function Rc(t,e,i){try{if("typing"==i.cmd)return!1;if(t.h[e])return!1;for(ii in Q.N)if(Q.N.hasOwnProperty(ii)&&ii.toLowerCase()==e.toLowerCase())return Q.N[ii].tb(i),!1;if(t.de[e])return w&&z("newCHandler","Ignored : "+e,G),!1;if("part"==i.cmd)return!1;if("infobar"==i.cmd)return!1;if("log"==i.channeltype)return!0;var n=!!t.Bf[e],s="pm"==i.channeltype;if(s&&!E.allowIncommingPMs)return w&&z("newCHandler","Ignored PM : "+e,G),!1;s&&E.blurPMs&&(n=!0),s||E.focusNewJoins||(n=!0),s&&i.userInitiated&&(n=!1),fulltitle=s?e+"(pm)":e+" (channel)";var o=e,a=e.indexOf(":",10);a&&(o=o.substring(0,a));var r=t.j[o],c=document.getElementById("chats"),h=document.createElement("div");n&&(h.style.display="none"),c.appendChild(h),n||(nc(M,e,o)?jc(M):M.l[o]&&M.l[o].Cd(!1));var l=new Gc(e,h,i.localchannel,o,r,s,E);t.h[e]=l,r.h[e]=l;var d=oc(M,e,h,i.localchannel,fulltitle,function(){return function(t,e){l.b.Cb(e)}}(t),function(t){return function(e){return t.h[e]&&Sc(t.h[e]),!0}}(t),{background:s?E.tabColorPM:E.tabColorChannel,border:s?E.tabBColorPM:E.tabBColorChannel},n,!0,o,!1);(s||E.focusNewJoins)&&(n||t.h[e].b.Cb(!0)),t.h[e].U=d,n&&d.qa(),la(Q,e,t.h[e]),s&&Kc("newpm"),Tc&&s&&Tc.Ug(e,i.localchannel)}catch(u){w&&z("newCHandler","Exception "+u,A)}return!0}function Uc(t,e){try{var i=e.split(" ");t={channel:"IRCClient",cmd:"connect"},t.data=i[0],t.nick=Vc(),myuser&&(t.nick=myuser),i[1]&&(t.nick=i[1]),t.pass="",t.authmethod="",t.joinchannels="",w&&z("connect","to "+t.data+" nick="+t.nick+" pass="+t.pass+" authmethod="+t.authmethod,G),V.Y(t)}catch(n){w&&z("irc.connectServer","exception "+n,A)}}function Gc(t,e,i,n,s,o,a){function r(t){return function(e){t.U&&t.U.qa(e),S&&S.alert(e?D.k("AlertsMyName"):D.k("AlertsGeneral"))}}function c(t){return function(e){t.A.send({cmd:"text",chan:this.f,data:"/join "+e})}}function h(t){return function(e){t.tc?(""==e||"/"==e.substring(0,1)&&"//"!=e.substring(0,2))&&t.Zb(!1):""==e||"/"==e.substring(0,1)&&"//"!=e.substring(0,2)||t.Zb(!0)}}function l(t){return function(e,i){if("usermenu"==i.substring(0,8)){if(i=parseInt(i.substring(8,i.length)),t.a.usermenus[i]){var n=t.a.usermenus[i].command;n=n.replace(/\$nick/g,e);var s=t.b.S.D[e.toLowerCase()];if(s&&(s.user&&(n=n.replace(/\$user/g,s.user)),s.host&&(n=n.replace(/\$host/g,s.host))),new Wc({command:n,match:t.a.usermenus[i].title}).execCommand({f:t.f,g:t.A.Xa},[],function(){return function(e){t.Ba(e)}}(),function(){return function(){t.b.focus()}}(),"",0,0))return}}else if("banu"==i)(s=t.b.S.D[e.toLowerCase()])&&s.user&&(t.A.send({cmd:"text",chan:t.f,data:"/mode "+t.f+" +b "+s.user+"@*"}),t.A.send({cmd:"text",chan:t.f,data:"/kick "+e}));else if("banh"==i)(s=t.b.S.D[e.toLowerCase()])&&s.host&&(t.A.send({cmd:"text",chan:t.f,data:"/mode "+t.f+" +b *@"+s.host}),t.A.send({cmd:"text",chan:t.f,data:"/kick "+e}));else if("ignore"==i)Xc(t.b,e,!0);else if("unignore"==i)Xc(t.b,e,!1);else if("getoptions"==i){for(n=[],i=0;i<t.a.usermenus.length;i++)n.push({id:"usermenu"+i,desc:t.a.usermenus[i].title});return t.xd&&t.b.S.D[e.toLowerCase()]&&(s=t.b.S.D[e.toLowerCase()],"true"==s.mibbituser?"Mibbit"!=s.user&&"cgiirc"!=s.user?s.user&&n.push({id:"banu",desc:"Ban "+s.user+"@*"}):s.host&&n.push({id:"banh",desc:"Ban *@"+s.host}):(s.user&&n.push({id:"banu",desc:"Ban "+s.user+"@*"}),s.host&&n.push({id:"banh",desc:"Ban *@"+s.host}))),Yc(t.b,e)?n.push({id:"unignore",desc:D.k("UMenu_Unignore")}):n.push({id:"ignore",desc:D.k("UMenu_Ignore")}),n}t.b.focus()}}function d(t){return function(e){t.sa.hc=e}}function u(t){return function(){try{if(!t.ya)return!1;t.Ba(t.b.n.fa.value)}catch(e){w&&z("submit",e,A)}return!1}}w&&z("ChatChannel","ch="+t+", chan="+i+", sname="+n+", sobj="+s,G),this.oa=t,this.f=i,this.Mb=n,this.A=s,this.za=o,this.ya=!0,this.a=a,this.xd=this.tc=!1,w&&z("ChatChannel","New chat channel for "+i,G),this.Wb=0,this.sa=new Zc,e.style.background=o?this.a.tabColorPM:this.a.tabColorChannel,t={},t.Bd=u(this),t.uc=h(this),t.Hg=l(this),t.db=c(this),t.L=r(this),t.jc=function(t){return function(e,i,n){i=new Wc({command:e,match:i}),w&&z("processCommand",e,G),i.execCommand({f:t.f,g:n?n:t.A.Xa},[],function(){return function(e){t.Ba(e)}}(),function(){return function(){t.b.focus()}}(),"",0,0)}}(this),this.Qe=t.jc,t.se=d(this),t.sg=function(t){return function(e){""!=e&&V.Y({cmd:"paste",channel:"PasteBin",returnchannel:t.oa,data:e})}}(this),t.rg=function(t){return function(e){""!=e&&V.Y({cmd:"minify",channel:"LinkManager",returnchannel:t.oa,url:e})}}(this),t.Gg=function(t){return function(e){t.A.send({cmd:"text",chan:t.f,data:"/mode "+t.f+" -b "+e}),t.b.focus()}}(this),this.a.ircNickClick&&(t.fg=function(t){return function(e){e&&(0==Xa(t.b.n.ea)?t.b.n.Tb(e+": "):t.b.n.Tb(e+" "),t.b.focus())}}(this)),t.rf=function(t){return function(e){if($c){if(!Ic){var i=PermalinkInfo.create(t.b.d,t.Mb.substring(10,t.Mb.length),t.f);e("Link to channel",function(){qa($c,{element:i})})}t.xd&&e("Set topic",function(){$c.alert("Set topic for "+t.f,function(e){e&&e!=t.b.S.Dc&&t.Ba("/topic "+e)},!0,t.b.S.Dc)})}for(var n=0;n<t.a.channelmenus.length;n++){var s=t.a.channelmenus[n];e(s.title,function(e){return function(){var i=new Wc({command:e.command,match:e.title});w&&z("setupoptions","Running ch menu... "+e.command,G),i.execCommand({f:t.f,g:t.A.Xa},[],function(){return function(e){t.Ba(e)}}(),function(){return function(){t.b.focus()}}(),"",0,0)}}(s))}}}(this),t.nf=function(t){return function(e){V.Y({cmd:"plugin",channel:t.oa,data:e})}}(this),t.ff=function(t){return function(){t.A.rd("Change nickname",function(){return function(e){e&&t.A.send({cmd:"text",data:"/nick "+e})}}())}}(this),this.b=new W(e,!this.za,this.a,t,!0,o?this.a.tabColorPM:this.a.tabColorChannel),this.b.f=this.oa,this.b.qc(this.A.Xa),Nb(this.b.Wa,ad,this.b.we);try{this.b.n.fa.maxLength=361}catch(p){}!this.za&&bd&&(this.b.S.vd=bd,this.b.S.wc=!0),!this.za&&this.a.noUListInChannels&&cd(this.b,!1),this.za&&(this.b.$[this.f.toLowerCase()]=this.f,this.b.$[this.b.g.toLowerCase()]=this.b.g,Rb(this.b.n.ea,this.f),Rb(this.b.n.ea,this.b.g))}function dd(t){!Ic&&!t.za&&ed.match(">"+t.A.ug+">"+t.f,{f:t.f,g:t.A.Xa},function(t){return function(e){t.Ba(e)}}(t),function(){return q()}(t),function(t){return function(){t.b.focus()}}(t))}function Sc(t){!t.za&&fd(t.b)&&(t.A.send({cmd:"text",chan:t.f,data:"/part "+t.f}),t.A.fe.Ef(t.oa)),t.remove(!1)}function P(t,e,i,n){function s(t){return function(){t.U&&t.U.qa(!1),S&&S.alert("Server stuff !")}}function o(t){return function(e){t.send({cmd:"text",chan:this.f,data:"/join "+e})}}function a(t){return function(){try{if(!t.ya)return!1;t.Ba(t.b.n.fa.value)}catch(e){w&&z("IRCServerTab","onsubmit "+e,A)}return!1}}this.Mb=this.f=e,this.Xa="unknown",this.xd=!1,this.ya=!0,this.Wc=1,this.a=n,this.gh=new H,this.i=new Ha(function(t){return function(e){t.send({cmd:"text",chan:t.f,data:"/join "+e})}}(this),new Ca(new La(new H),this.a),this.a),this.fe=i,this.h={},e={},e.Bd=a(this),e.db=o(this),e.L=s(this),e.ff=function(t){return function(){t.rd("Change nickname",function(){return function(e){e&&t.send({cmd:"text",data:"/nick "+e})}}())}}(this),t&&(t.style.background=this.a.tabColorServer,this.b=new W(t,!1,this.a,e,!1,this.a.tabColorServer),Nb(this.b.Wa,ad,this.b.we))}function rd(t,e){t.Xa=e,t.b.qc(t.Xa)}function qd(t,e){for(ch in t.h)if(t.h.hasOwnProperty(ch)&&t.h[ch].U.Ya)return t.h[ch].tb(e),!0;return!1}function Nc(t,e,i,n){t.Pf||sd(t.b,e,new Fc(i,t.b.Ae),n);for(ch in t.h)t.h.hasOwnProperty(ch)&&sd(t.h[ch].b,e,new Fc(i,t.b.Ae),n)}function Mc(t,e){t.Pf||va(t.b.ma,e);for(ch in t.h)t.h.hasOwnProperty(ch)&&va(t.h[ch].b.ma,e)}function Oc(t,e){for(ch in t.h)t.h.hasOwnProperty(ch)&&t.h[ch].tb(e)}function od(t,e){w&&z(t.f,"Removing channel: "+e,G),delete t.h[e],delete t.fe.h[e]}function td(){this.reset()}function ud(t){t.chatOutputShowTimes=!1,t.showJoinsParts=!1,t.showAwaysBacks=!1,t.sizeSmiliesToText=!0,t.chatOutputShowNicks=!1,t.userListShowSingleMode=!0,t.userListShowIcons=!1,t.tabBackgroundColor="#ffffff",t.parseYouTubes=!1,t.parseMOTDChannels=!1}function vd(e,i,n){try{e.autoconnects=[];for(var s in i){var o=i[s];"autoconnects"==s&&o?(e.autoconnects=o,w&&z("UserPrefs","Loading autos ("+e.autoconnects+") "+e.autoconnects.length,G)):"sounds"==s?t(o,e[s]):e.hasOwnProperty(s)&&(("true"==o||"false"==o)&&(o="true"==o?!0:!1),e[s]=o)}}catch(a){w&&z("UserPrefs",a,A)}n||wd(e)}function xd(t,e){w&&z("UserPrefs","ADD listener... ("+t.Gc.length+")",G),t.Gc.push(e)}function wd(t,e){w&&z("UserPrefs","Telling listeners... ("+t.Gc.length+")",G);for(var i=0;i<t.Gc.length;i++)try{t.Gc[i](e)}catch(n){w&&z("UserPrefs",n,A)}}function t(t,e){for(v in t)t.hasOwnProperty(v)&&(e[v]=t[v])}function Lb(t){if(!t)return!0;try{if("#"==t.substring(0,1)){t=t.substring(1,t.length);var e,i,n;if(6==t.length)return n=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),n+i+e>384;if(3==t.length)return n=parseInt(t.substring(0,1),16),i=parseInt(t.substring(1,2),16),e=parseInt(t.substring(2,3),16),n+i+e>24}}catch(s){}return!0}function zd(){if("Microsoft Internet Explorer"==navigator.appName){var t=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);if(null!=t)return parseFloat(t[1])}return-1}function Ad(){this.Sc=[],this.Nd=[],this.Pa={}}function Bd(t,e,i){if(Cd(t,e,i),e=e.match(/[^\s\#\!\@\$\%\^\&\*\(\)\_\+\-\=\{\}\[\]\:\;\"\'\,\.\/\<\>\?\~\|\\]+/g))for(var n=0;n<e.length;n++){var s=e[n].toLowerCase();i&&i[s]||-1==" the and for are but not you all any can had her was one our out day get has him his how man new now old see two way who boy did its let put say she too use lol ftw hey that with have this will your from they know want been good much some time very when come here just like long make many more only over such take than them well were  what book cool  there their which ".indexOf(" "+s+" ")&&s.length>=3&&!s.match(/^[0-9]+$/)&&(Dd(t,s,t.Sc),t.Sc.length>15&&t.Sc.shift())}}function Dd(t,e,i){if(e){for(t=0;t<i.length;t++)if(i[t]==e)return;i.push(e)}}function Cd(t,e,i){if(e=e.match(/[^\s\#\!\@\$\%\^\&\*\(\)\_\+\-\=\{\}\[\]\:\;\"\'\,\.\/\<\>\?\~\|\\]+/g))for(var n=0;n<e.length;n++)if(!i||!i[e[n].toLowerCase()]){var s=e[n];s=s.toLowerCase(),-1!=" the and for are but not you all any can had her was one our out day get has him his how man new now old see two way who boy did its let put say she too use lol ftw hey that with have this will your from they know want been good much some time very when come here just like long make many more only over such take than them well were  what book cool  there their which ".indexOf(" "+s+" ")||s.length<3||s.match(/^[0-9]+$/)||(t.Nd.push(s),t.Pa[s]?t.Pa[s]++:t.Pa[s]=1,t.Nd.length>500&&(s=t.Nd.shift(),t.Pa[s]--,0==t.Pa[s]&&delete t.Pa[s]))}}function nd(t,e){for(var i=[],n=0;n<Math.min(t.Sc.length,15);n++)i.push(t.Sc[n]);var s={};for(n=0;e>n;n++){var o;o=null;var a=0;for(var r in t.Pa)t.Pa.hasOwnProperty(r)&&!s[r]&&t.Pa[r]>a&&(a=t.Pa[r],o=r);if(o=o,null==o)break;s[o]=t.Pa[o],Dd(t,o,i)}return i}function Kc(t){E.sounds[t]&&E.sounds[t].enabled&&jd(E.sounds[t].sound)}function Ed(t){return"http://"==t.substr(0,7)||"https://"==t.substr(0,8)?t:"//static.mibbit.com/sounds/"==t.substr(0,27)?"https://s3.amazonaws.com/mibbit/sounds/"+t.substr(27):"/sounds/"==t.substr(0,8)?"https://s3.amazonaws.com/mibbit"+t:t}function jd(t){try{if(id){var e="",i=t.lastIndexOf(".");if(-1!=i){var n=t.substring(i,t.length).toLowerCase();(".mp3"==n||".wav"==n||".ogg"==n||".m4a"==n)&&(e=n,t=t.substring(0,i))}if("Audio"in window){var s=new Audio;""==e&&(e=s.canPlayType&&s.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")?".ogg":s.canPlayType&&s.canPlayType("audio/mpeg;").replace(/no/,"")?".mp3":s.canPlayType&&s.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")?".m4a":".mp3",w&&z("Sounds","Picked "+e+" for file "+t,G)),s.src=Ed(t+e),s.autoplay=!0,s.play&&s.play()}else{""==e&&(e=".mp3");var o=document.getElementById("current_sound");o&&o.parentNode.removeChild(o),o=document.createElement("bgsound"),o.id="current_sound",o.setAttribute("src",Ed(t+e)),o.setAttribute("loop",1),document.appendChild(o)}}}catch(a){w&&z("Sounds","Source "+t+" "+a,A)}}function Fd(){this.zc=[]}function Wc(t){this.dd=t.match,this.Oe=t.command.split(/\s\|\s/)}function Gd(t,e,i,n){return""==e?n:e+(i?" ":"")+n}function Hd(){this.ra=[]}function Zc(){this.xe=this.bold=!1,this.gd=this.hc=null}function hd(t,e){var i="";t.bold&&(i+=""),t.xe&&(i+="");var n="";return null!=t.hc&&(n+=t.hc),null!=t.gd&&(n+=","+t.gd),""!=n&&(i+=""+n),t=i.substring(i.length-1,i.length),n=e.substring(0,1),t>="0"&&"9">=t&&n>="0"&&"9">=n&&(i+=" "),i+=e}function Id(t,e,i,n){this.a=n,this.window=t,this.sd=!1,this.Qg=0,this.cd=!1,this.Zd=0,this.Ve=e,this.Ke=i,this.Ub=function(t){window!=window.parent&&window.parent.postMessage&&window.parent.postMessage(s(t),"*")},this.alert=function(t){if(0==this.a.windowAlertMaxFlashes)return!1;if(this.cd)return!1;if(this.sd)return!1;this.window.document.title="* "+t+" *",this.cd=!0,this.Zd=0;var e=!0,i=this.window.setInterval(function(n){return function(){n.sd?(n.window.document.title=n.Ve,n.cd=!1,n.window.clearInterval(i)):n.Zd>n.a.windowAlertMaxFlashes?(n.window.document.title="[ "+t+" ]",n.cd=!1,n.window.clearInterval(i)):(n.Zd++,n.window.document.title=e?n.Ke:"* "+t+" *",e=!e)}}(this),this.a.windowAlertPeriod);return!0},this.ag=0,this.Od=function(t){this.ag++;var e=function(t){return function(){return t.sd=!0,t.window.document.title=t.Ve,!0}}(this),i=function(t){return function(){return t.sd=!1,t.window.document.title=t.Ke,!0}}(this);t.addEventListener?(t.addEventListener("focus",e,!1),t.addEventListener("blur",i,!1)):(t.attachEvent("onfocus",e),t.attachEvent("onblur",i))}}function W(e,i,n,s,o,a,r){function c(t){return function(){t.focus()}}try{this.mf=r,this.yd=this.ke=this.le=!1,this.p=e,this.a=n,this.d=e.ownerDocument,this.t=s,this.aa=this.a.extraContentWidth,this.S=new Jd(this),this.g="unknown",this.$={},this.Wc=0,this.Fc=!0,this.Je=o,pd(this),this.sc=new H,this.ob=new La(new H),this.ob=new Ca(this.ob,this.a),Ic||(this.ob=new Ha(s.db,this.ob,this.a)),this.ob=new Ja(this.ob),n={},n.Sg=function(t){t=t.substring(6,t.length);var e="",i=t.indexOf("/");-1!=i&&(e=t.substring(i+1,t.length),t=t.substring(0,i),-1=="#&+".indexOf(e.substring(0,1))&&(e="#"+e));try{i="mib_"+Kd,myuser&&(i=myuser);var n="",s="",o=E.defaultCharset;if(myaccount){var a=myaccount.Uf;if(a)for(var r=0;r<a.length;r++)if(a[r].zf==t){i=a[r].g,n=a[r].mg,s=a[r].Af,o=a[r].charset;break}}Qc(F,t,i,n,e,!1,!1,s,o)}catch(c){}},this.Ae=new Ha(s.db,new Ca(new H,this.a,n),this.a),this.Cf=new Ha(s.db,new Ca(new La(new H)),this.a),o={},t(this.a,o),o.Yg=!1,this.we=new Ja(new Ha(s.db,new Ca(new La(new H),o,n),this.a)),t({border:"0",fontSize:"13px",position:"absolute",textAlign:"left",overflow:"hidden"},e.style),this.lb={left:0,right:0,top:sc,bottom:tc},!rc&&this.a.useTabList&&(this.lb.left=this.a.tabListWidth),t({top:this.lb.top+"px",bottom:this.lb.bottom+"px",left:this.lb.left+"px",right:this.lb.right+"px"},e.style),this.Q=Ld(this),t({display:"block",overflow:"auto",overflowX:"hidden"},this.Q.style),ya&&(this.Q.style.marginRight="15px"),e.appendChild(this.Q),this.Hb=this.d.createElement("div"),t({padding:"0",margin:"0",position:"absolute",top:"0px",left:"0px",right:"0px",overflow:"hidden"},this.Hb.style),this.Wa=new Kb(this.Hb,this.a,a),e.appendChild(this.Hb),i&&(this.pa=!0,this.V=this.d.createElement("div"),t({position:"absolute",right:"0px",overflow:"auto",overflowX:"hidden",textAlign:"left"},this.V.style),e.appendChild(this.V),this.c=new fb(this.V,s.Hg,this.a)),this.ia=this.d.createElement("div"),t({position:"absolute",overflow:"hidden",bottom:"0px",left:"0px",right:"0px"},this.ia.style),s.bg=function(t){return function(e){t.t.rg(e)}}(this),s.Fd=function(t){return function(){t.Fd(!0)}}(this),s.Sf=function(t){return function(){t.Fd(!1)}}(this),s.tg=function(t){return function(){t.t.sg(t.Kc.value())}}(this),i&&(s.df=function(t){return function(){Md(t,!t.va)}}(this),this.Z=this.d.createElement("div"),t({position:"absolute",right:"0px",overflow:"auto",overflowX:"hidden",textAlign:"left"},this.Z.style),this.Z.style.display="none",this.va=!1,e.appendChild(this.Z)),s.Nf=function(t){return function(e,i){var n=t.c.c[e],s=t.c.c[i];if("idle"==t.a.chatInputTabSort&&n&&s){if(n.Ia>s.Ia)return-1;if(n.Ia<s.Ia)return 1}else{if(i>e)return-1;if(e>i)return 1}return 0}}(this),this.qd=this.d.createElement("form"),this.qd.style.display="inline",this.qd.setAttribute("accept-charset","UTF-8"),this.qd.onsubmit=s.Bd,this.n=new Na(this.ia,this.a,this.qd,s,this.a.showInputOptions&&this.Je),e.appendChild(this.ia),this.qb=Ld(this),this.Kc=new Bc(this.qb),e.appendChild(this.qb),this.gb=Ld(this),this.gb.style.background="white";var h=function(t){return function(e){t.t.nf&&t.t.nf(e)}}(this);for(this.Ga=new uc(this.gb,this.a,h),e.appendChild(this.gb),this.vb=this.d.createElement("div"),t({padding:"0",position:"absolute",right:"0px",bottom:"0px",cursor:"pointer",textAlign:"center",fontSize:"13px",verticalAlign:"middle"},this.vb.style),this.vb.onclick=function(t){return function(){s.Bd(),Ob(t.n.ea),t.focus()}}(this),this.vb.appendChild(document.createTextNode(D.k("SendButton"))),e.appendChild(this.vb),rc&&(this.onresize=function(t){return function(){Nd(t)}}(this),window.attachEvent?window.attachEvent("onresize",this.onresize):window.addEventListener("resize",this.onresize,!1),window.setTimeout(function(t){return function(){t.B(),Nd(t)}}(this),100)),this.ma=new sa(this.Q,this.a,c(this)),e=0;40>e;e++)ua(this.ma,this.Wc++,X(this));this.z(),U(this),S&&S.Od(this.n.fa)}catch(l){w&&z("ChatGuiModule",l,A)}}function Ld(e){return e=e.d.createElement("div"),t({position:"absolute",overflow:"hidden",display:"none",left:"0px",right:"0px"},e.style),e}function Y(t,e){t.Sa=e,t.a.hideULonEC&&cd(t,!e),t.B(),U(t)}function cd(t,e){t.Kc.wb()||(e&&t.va&&Md(t,!1),t.c&&(t.pa=e,t.Ad=e,t.B(),U(t)))}function Md(e,i){function n(e,i,n){var o=e.ownerDocument.createElement("div");t({border:"1px solid #888",background:"#ccc",padding:"3px",margin:"2px",fontFamily:"sans-serif",cursor:"pointer",fontSize:"13px",borderRadius:"3px",MozBorderRadius:"3px",WebkitBorderRadius:"3px"},o.style),o.appendChild(e.ownerDocument.createTextNode(i)),o.onmouseover=function(){t({border:"1px solid #ccc",background:"#eee"},this.style)},o.onmouseout=function(){t({border:"1px solid #888",background:"#ccc"},this.style)},o.onclick=function(){s(),n&&n()},e.appendChild(o)}if(!e.Kc.wb()){if(i&&e.pa&&(e.Ad=!0,e.pa=!1),i||e.pa||!e.Ad||(e.pa=!0),e.va=i,e.va){for(;e.Z.firstChild;)e.Z.removeChild(e.Z.firstChild);var s=function(t){return function(){Md(t,!1)}}(e);n(e.Z,e.Ad?"Ocultar lista de usuarios":"Mostrar lista de usuarios",function(t){return function(){cd(t,!t.Ad)}}(e)),n(e.Z,e.a.needSendButton?"Ocultar botón Enviar":"Mostrar botón Enviar",function(t){return function(){t.a.needSendButton=!t.a.needSendButton,wd(t.a)}}(e)),e.t.rf&&e.t.rf(function(t){return function(e,i){n(t,e,i)}}(e.Z),e.Z)}e.B(),U(e),e.focus()}}function U(t){t.Q.scrollTop=t.Q.scrollHeight}function Od(t){return t.Q.scrollTop+t.Q.clientHeight>=t.Q.scrollHeight-t.a.chatFontSize}function Pd(){}function fd(t){return t.c?t.c.c[t.g]:null}function md(t){t.ma.clear();for(var e=0;40>e;e++)ua(t.ma,t.Wc++,X(t));U(t)}function ld(t,e){sd(t,t.Wc++,e)}function sd(t,e,i,n){var s=Od(t);ta(t.ma,e,i,n),s&&U(t)}function Yc(t,e){return"undefined"!=typeof t.S.Gb[e]}function Xc(t,e,i){var n=null;t.c&&(n=t.c.c[e]),i?(t.S.Gb[e]=!0,n&&(n.kf=n.X,Fb(n,{name:"ignored",title:"Ignored"}))):(delete t.S.Gb[e],n&&n.kf&&Fb(n,n.kf))}function Nd(t){var e=document.body.clientHeight-t.lb.top-t.lb.bottom,i=document.body.clientWidth-t.lb.left-t.lb.right;t.p.style.height=e+"px",t.p.style.width=i+"px";var n=e-(t.n.Ua()+2+t.Wa.Ua()+4*E.cgmMargins+4);i=i-2-2*E.cgmMargins,w&&z("size","height="+e+" "+n,G),t.Q.style.height=n-2*t.a.chatPaneRounding+"px",t.pa&&(t.V.style.height=n-2*t.a.ulistPaneRounding+"px"),t.va&&(t.Z.style.height=n-2*t.a.ulistPaneRounding+"px"),t.gb.style.height=n+"px",t.qb&&(t.qb.style.height=n-2*t.a.chatPaneRounding+"px",t.qb.style.width=i-2*t.a.chatPaneRounding+"px"),e=parseInt(t.Q.style.left),n=parseInt(t.Q.style.right),t.Q.style.width=i-2*t.a.chatPaneRounding-e-n+"px",e=parseInt(t.ia.style.left),n=parseInt(t.ia.style.right),t.ia.style.width=i-e-n+"px",e=parseInt(t.Hb.style.left),n=parseInt(t.Hb.style.right),t.Hb.style.width=i-e-n+"px"}function Qd(t,e,i,n,s,o){t=t.a.cgmMargins+"px",i&&(e.style.marginTop=t),n&&(e.style.marginRight=t),s&&(e.style.marginBottom=t),o&&(e.style.marginLeft=t)}function Sd(t,e){for(var i=0;i<Rd.length;i++){var n=Rd[i],s=e.match(n.match);if(s)return{be:n.be,ae:n.ae,X:n.X,Db:n.Db,nd:n.nd,pd:n.pd,match:s,enabled:t.a&&t.a[n.of],ge:n.ge}}return!1}function Jc(t,e,i){var n=Sd(t,e);n?(Y(t,!0),"youtube"==n.Db&&zc(t.Ga,n.match[1],e,function(t){return function(){Y(t,!1)}}(t))):(Y(t,!0),n=function(t){return function(){Y(t,!1)}}(t),i&&(n=q()),xc(t.Ga,e,n,i))}function pd(t){t.i=Td(t,t.t),t.a.parseSimple&&(t.Mc=new Ja(t.Mc)),t.a.parseSmilies&&(t.Mc=new Fa(t.Mc,t.a)),t.a.parseLinks&&(t.Mc=new Ca(t.Mc,t.a,Ud(t))),w&&z("createRenderer","Created a new renderer",G)}function Ud(t){var e={};return e.youtube=function(t){return function(e,i){e[1]&&(Y(t,!0),zc(t.Ga,e[1],i,function(){Y(t,!1)}))}}(t),e.web=function(t){return function(e){Y(t,!0),xc(t.Ga,e,function(){Y(t,!1)})}}(t),e.gview=function(t){return function(e){Y(t,!0),yc(t.Ga,e,function(){Y(t,!1)})}}(t),e.showImage=function(t){return function(e){Y(t,!0),Ac(t.Ga,e,function(){Y(t,!1)})}}(t),e.mediaCheck=function(t){return function(e){return e=Sd(t,e),e.enabled?e:!1}}(t),e.ircLink=function(t){t=t.substring(6,t.length);var e="",i=t.indexOf("/");-1!=i&&(e=t.substring(i+1,t.length),t=t.substring(0,i),-1=="#&+".indexOf(e.substring(0,1))&&(e="#"+e));try{var n=Vc();myuser&&(n=myuser);var s=i="",o=E.defaultCharset;if(myaccount){var a=myaccount.Uf;if(a)for(var r=0;r<a.length;r++)if(a[r].zf==t){n=a[r].g,i=a[r].mg,s=a[r].Af,o=a[r].charset;break}}Qc(F,t,n,i,e,!1,!1,s,o)}catch(c){}},e}function Td(t,e){var i=new H;return t.Xg&&(i=new Ma(i)),t.a.parseSimple&&(i=new Ja(i)),t.a.parseNicks&&(i=new Ga(t.$,i,function(t){return function(e,i){Vd(t,e,i)}}(t))),t.a.parseColor&&(i=new La(i)),t.a.parseSmilies&&(i=new Fa(i,t.a)),t.a.parseChannels&&e.db&&(i=new Ha(e.db,i,t.a)),t.a.parseLinks&&(i=new Ca(i,t.a,Ud(t))),i}function Vd(t,e,i){try{var n=e==t.g.toLowerCase();if(i.style.color=n?t.a.nickHighlightMe:t.a.nickHighlight,i.style.fontWeight=n?"bold":"normal",t.a.chatBackgroundHighlight){var s=t.ma,o=t.a;i.onmouseover=function(){return function(){e&&wa(s,e.toLowerCase(),{background:o.chatBackgroundHighlight})}}(),i.onmouseout=function(){return function(){e&&wa(s,e.toLowerCase(),{background:o.chatBackground})}}()}}catch(a){}}function X(t,e,i,n,s,o,a,r,c,h,l){n||(n=t.a.colorChat);var d=t.a,u=t.t.fg,p=t.ma,f=l?l:o?t.a.nickColorMe:h?t.a.nickColorGuest:c?t.a.nickColorNotice:t.a.nickColor;return{ub:function(t){za(p,t,d,s,f,u,n,a,e,i)},lc:function(t){p.lc(t,d,s,f,u)},mc:function(t){p.mc(t,d,r)}}}function Jd(t){this.b=t,this.a=t.a,this.Lg=this.Ie=this.He=!0,this.wc=!1,this.Yc=!0,this.D={},this.Gb={},this.Pd=[],this.Dc=""}function Wd(t,e,i){return t={name:"user",title:""},e&&(i?"ipod"==i?t={name:"ipod",title:"iPod Mibbitian"}:"iphone"==i?t={name:"iphone",title:"iPhone Mibbitian"}:"wii"==i&&(t={name:"wii",title:"Wii Mibbitian"}):t={name:"mibbituser",title:"Mibbitian"}),t}function z(t,e){try{console.log("DEBUG: "+t+": "+e)}catch(i){}}function te(){window.setInterval(function(){Q.Jc&&(w&&z("ping","Sending ping",J),V.Y({cmd:"nping",m:"checking"}))},12e4)}function ue(){w&&z("startupclient","Starting up... "+fe+" resuming="+de,G);var t=new Date,e=-t.getTimezoneOffset();t={cmd:"clientinfo",localtime:t.getTime()+6e4*e,tzoffset:e},e={},$("csUserIcon")&&(e.userIcon=$("csUserIcon")),$("csUserListColorNormal")&&(e.userListColorNormal=$("csUserListColorNormal")),t.clientinfo=s(e),V.Y(t),w&&z("startupclient","Sending clientinfo"+s(t),G),t={channel:"IRCClient",cmd:"embed",referrer:document.referrer?document.referrer:""},$("settings",!1)!==!1&&(t.settings=$("settings")),t.premium="true",V.Y(t),V.Y({channel:"LoginManager",cmd:"guest",uagent:navigator.userAgent,version:"undefined"==typeof VERSION?"dev":VERSION}),de||(fe?Qc(F,he,ke,le,je?ie+" "+je:ie,null,ge,me,ne):ve())}function ve(){we(qe,function(t,e,i){ke=t,le=e,je=i,fe=ge=!0,0==Q.Ca?Q.start():ue()},oe)}function Lc(t,e,i,n,s,o,a){w&&z("setClientStatus","Status"+e+":"+i+":"+n+" "+s+" "+o+" "+a,J),null!=pe&&window.clearTimeout(pe),t="",e>0&&!o?t="Connected":(a||(t+="Checking blacklists..."),s||(t+="Looking up your hostname..."),n>0&&(t+="Resolving hostname..."),i>0&&(t+="Connecting to MEGAChat  server...")),xe(t),a&&s&&0==n&&0==i&&0==e&&(pe=window.setTimeout(function(){ve()},3e3)),e>0&&ye(!1,!1,!0)}function ze(){if(Yd&&Kd&&Z){Q.fh();var t=new Date;t=new Date(t.getTime()+1e3*Zd),document.cookie="resume"+Z+"="+Kd+"; expires="+t.toGMTString()+"; path=/;"}else Q.stop()}function Vc(){for(var t="mib_",e=0;6>e;e++)t+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(36*Math.random());return t}function Ae(){for(var t in E)if("autoconnects"!=t&&E.hasOwnProperty(t)){var e=typeof E[t],i=t;"undefined"!=typeof $(i)&&(E[t]="number"==e?parseInt($(i)):"boolean"==e?"true"==$(i)||"1"==$(i):$(i))}wd(E)}function $(t,e){try{var i="&"+window.location.search.substring(1),n=i.toLowerCase().indexOf("&"+t.toLowerCase()+"=");if(-1!=n){n+=t.length+2;var s=i.indexOf("&",n);return decodeURIComponent(i.substring(n,-1==s?i.length:s))}if(n=i.toLowerCase().indexOf("&amp;"+t.toLowerCase()+"="),-1!=n)return n+=t.length+2+4,s=i.indexOf("&",n),decodeURIComponent(i.substring(n,-1==s?i.length:s))}catch(o){}return e}function Be(){try{for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var i=t[e].replace(/^\s*/,"").replace(/\s*$/,""),n=i.indexOf("="),s=n>-1?i.substr(0,n):i;if("uid"!=s&&"__qca"!=s&&"resume"!=s.substring(0,6)){var o=new Date;o.setTime(o.getTime()-1),document.cookie=s+"=;domain=."+window.location.host+";path=/;expires="+o.toGMTString(),document.cookie=s+"=;domain=.mibbit.com;path=/;expires="+o.toGMTString()}}}catch(a){}}function De(){try{if(Yd&&Z)for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var i=t[e].replace(/^\s*/,"").replace(/\s*$/,""),n=i.indexOf("="),s=n>-1?i.substring(0,n):i,o=n>-1?i.substring(n+1,i.length):"";if("resume"==s.substr(0,6)&&s.substr(6,s.length)==Z){ce=o,de=!0;var a=new Date;a.setTime(a.getTime()-1),document.cookie=s+"=;path=/;expires="+a.toGMTString()}}}catch(r){}}function Ge(){var t=$("settings",null);if(null!=t){Ee=window.setTimeout(function(){He()},5e3);var e=document.createElement("script");e.src="http://do-dear.com/chat/js/green.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)}else He()}function He(){if(w&&z("init_postsettings","postsettings "+Fe+" "+Ee,G),null!=Ee&&window.clearTimeout(Ee),!Fe){Fe=!0;var e=document.createElement("div");if(e.id="tabs",t({textAlign:"left",paddingTop:"2px",height:"20px",overflow:"hidden"},e.style),document.body.appendChild(e),e=document.createElement("div"),e.id="chats",t({clear:"both",zIndex:"100"},e.style),document.body.appendChild(e),e=zd(),-1!=e&&(Hb=!1,ya=!0,7>e&&(Xd=!0)),window.onunload=ze,document.documentElement.clientHeight<20||document.documentElement.clientWidth<20)Ie("Window too small "+document.documentElement.clientWidth+" x "+document.documentElement.clientHeight);else{if($("viewport",!1)&&(e=document.createElement("meta"),e.setAttribute("name","viewport"),e.setAttribute("content",$("viewport")),document.getElementsByTagName("head")[0].appendChild(e)),e=document.createElement("div"),e.id="errorlog",document.body.appendChild(e),$c=new oa(e),Z=$("settings"))for(e=0;e<Z.length;e++)if(-1=="0123456789abcdefABCDEF".indexOf(Z.charAt(e))){Z=!1;break}E=new td,ud(E),ed=new Fd,ed.load(E.aliases),gd=new Hd,gd.load(E.filters),"undefined"!=typeof LOADED_SETTINGS&&null!=LOADED_SETTINGS&&"{}"!=s(LOADED_SETTINGS)&&(E.reset(),vd(E,LOADED_SETTINGS),ed.load(E.aliases),gd.load(E.filters),Ae()),F=new O;try{if("undefined"!=typeof PREMIUM_DOMAIN&&""!=PREMIUM_DOMAIN){var i=document.referrer;null!=i.match(new RegExp(PREMIUM_DOMAIN,"i"))&&(w&&z("init","IS PREMIUM "+PREMIUM_DOMAIN,A),M&&ic(M),F.zd=!0,Adverts.od(),Mb=!1,ee=!0)}}catch(n){w&&z("init","Premium issue "+n,A)}Zd=parseInt($("sessiontimeout","30")),0==Zd&&(Yd=!1),De(),Be(),Je(),Ke(),O.prototype.sf=function(t,e){Ie("Connection failed ("+e+")")},O.prototype.Ye=function(){Ie("Your IP address is listed in a blacklist. You may have a virus, trojan or be running an open proxy. Please check http://dronebl.org for details")},O.prototype.Ze=function(t){t||ve()},O.prototype.tf=function(t,e){for(t=document.getElementById("serror");t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e)),ve()},P.prototype.rd=function(t,e){we(qe+" ("+t+")",e,ke,!0)},O.prototype.Ud=function(t){$c.alert("Are you sure you want to disconnect from "+t+"?",function(e){e&&Hc(F,t)})},Fd.prototype.prompt=function(t,e){$c.alert("Alias "+t+":",e,!0)},qe=E.nickprompt;var o=["http://thainame.net/weblampang/","unitedalb.info","njoftohu.net","albastar.net","dashurohu.com","meemira.com","dardania.de","dardaniamp3.com","vizitori.com","mistreci.com","sportsnmore.tv",".argetohu.com","http://thainame.net/weblampang/alpa/","dereferer.org"];for(i=document.referrer.toLowerCase(),e=0;e<o.length;e++)if(-1!=i.indexOf(o[e]))return void Ie("");"#xalpax"==$("channel")||"mibbit.mistreci.com"==$("server")||"n00bs.dardania.de:6944"==$("server")||"78fc2d1bbafc598356525b0bd5adf619"==Z||"3dcfa90e3d8ae417465c87b20651fd71"==Z||"499299a8441607cc1d44bfbe027d515e"==Z||"0a38eec88ecf49c0f25731a5e8935d6b"==Z||"9605227dc50eeeb59c9002f0c7c679c9"==Z?Ie(""):"true"==$("autoconnect")||"1"==$("autoconnect")?window.setTimeout(Le,1e3*Math.max(2,$("delay",1))):Le()}}}function Me(t){w&&z("ooHandler","oo="+t,G),null!=ae&&window.clearTimeout(ae),t||(ae=window.setTimeout(function(){window.location="http://widget.mibbit.com/"+window.location.search+window.location.hash},$d))}function Ne(t){w&&z("globalCHandler",s(t),J),"global"==t.cmd?F.qg(t):"resumefailed"==t.cmd?(de=!1,ue()):"wrongbackend"==t.cmd&&Ie("Your browser does not seem to have cookies enabled. Please enable them and reload.")}function Oe(t,e){return w&&z("newCHandler","New channel "+t+" ("+e+")",G),"IRCClient:"==t.substring(0,10)?Rc(F,t,e):!1}function Pe(t,e){V.Oa=t,V.reset(),w&&z("sessionSetHandler","mysession="+Kd+" s="+t,G),e&&e.cc&&(be=e.cc,w&&z("sessionSetHandler","mycountry="+be,G)),Kd&&F.ig(),Kd=t,(new Date).getTime(),null!=ce?(w&&z("sessionSetHandler","Requesting a resume ("+ce+")",G),V.Y({cmd:"resumesession",id:ce}),ce=null):ue()}function Qe(){ie=$("channel",""),he=$("server","irc.mibbit.net"),me=$("authmethod","nickserv"),ne=$("charset","UTF-8"),ke=$("nick",Vc()),"undefined"!=typeof CONNECT_SERVER&&null!=CONNECT_SERVER&&""!=CONNECT_SERVER&&(he=CONNECT_SERVER),"undefined"!=typeof CONNECT_CHANNEL&&null!=CONNECT_CHANNEL&&""!=CONNECT_CHANNEL&&(ie=CONNECT_CHANNEL);var t=ke;ke="";for(var e=0;e<t.length;e++){var i=t.charAt(e);ke+="?"==i?""+"0123456789".charAt(Math.floor(10*Math.random())):i}oe=ke,"undefined"!=typeof $("noServerNotices")&&(F.Fe=!("true"==$("noServerNotices")||"1"==$("noServerNotices"))),"undefined"!=typeof $("noServerMotd")&&(E.showMOTD=!("true"==$("noServerMotd")||"1"==$("noServerMotd")))}function Le(){ad="",xd(E,function(t){F.Lc(t)}),bd=new Ad,Xd&&(rc=!0),tc=0,sc=22,cc=0,M=new bc(document.getElementById("tabs"),E,!0,2,20),ee||hc(M),M.Nb.style.paddingTop="2px",xd(E,function(){M.z(),gc(M,E.useTabList)}),S=new Id(window,"Mibbit","[ Mibbit ]",E),S.Od(window,"window"),S.Od(window.document,"doc"),Qe(),Ae(),Q=new ia("/j/mibbit",{nch:Oe,gph:Ne,ooh:Me,ssh:Pe}),V=new ea("/j/mibbit",{recv:function(t){return function(e){da(t,e)}}(Q),psh:null}),("undefined"==typeof VERSION||$("debug"))&&kd(),("WebSocket"in window||"MozWebSocket"in window)&&null==$("nowebsocket")&&(w&&z("init","Using Websocket...",G),ba(Q,V)),la(Q,"IRCClient",F),te();var t=!0;if("undefined"!=typeof $("noServerTab")&&(t="true"==$("noServerTab")||"1"==$("noServerTab")),t){if(""==ie)return void Ie("No server tab, and no channel specified.");F.fb=ie,t=F.fb.indexOf(","),-1!=t&&(F.fb=F.fb.substr(0,t)),t=F.fb.indexOf(" "),-1!=t&&(F.fb=F.fb.substr(0,t)),F.Fb=he,t=F.Fb.indexOf(":"),-1!=t&&(F.Fb=F.Fb.substr(0,t)),w&&z("init","Embed info:"+F.Fb+" "+F.fb,G)}t={b6e7eb73af60ab656ef2494833884bc1:!0,bfa9cc793e103ca867a58b8a01799130:!0,a36161039325081878395953ba30902c:!0,ef01da3196d1cc2411e65bd2265ec3f3:!0,a763aedd7ad7e562c7bb40d119e367aa:!0,"77f6df023548527b7848e5fdca340526":!0,"5bdd603b047fe1bb6cf02fb814d791df":!0,"4ef20015d7babb47c3215bf832a1a4e8":!0,"9fa951ffbe54e3c6e4d2b034070aa38b":!0,a61b704fb24ce99b5cc11d428ebb9bcb:!0,"5b347af10430c945be19a92125505b3e":!0,"444a6ea94b69b91f87c5b8b36f247fc4":!0,"7128f682fa86585f7ca2de6b4c058753":!0,f628bb8d6c3fc2518b0f183cfb4b6bac:!0,a9887cf2003a8a5038f949065738b05e:!0},fe="true"==$("autoConnect")||"1"==$("autoConnect"),(t[document.referrer]||t[$("settings","")])&&(fe=!1),ce||fe?Q.start():ve()}function ye(t,e,i){document.getElementById("connecting").style.display=t?"block":"none",document.getElementById("nickprompt").style.display=e?"block":"none",document.getElementById("chats").style.visibility=i?"visible":"hidden",document.getElementById("tabs").style.visibility=i?"visible":"hidden",Adverts.Dd(i)}function xe(e){ye(!0,!1,!1);var i=document.getElementById("connectdetail");t({fontSize:"13px",fontFamily:"monospace",color:"#cc0"},i.style);var n=i.firstChild;n||(n=document.createTextNode(""),i.appendChild(n)),n.nodeValue=e}function Ie(t){document.getElementById("connecting").innerHTML=t,ye(!0,!1,!1)}function Ke(){var e=document.createElement("div");e.id="connecting",document.body.appendChild(e),t({fontSize:"19px",textAlign:"center",fontWeight:"bold",color:"#ccc",display:"none",position:"absolute",padding:"10px",left:"0px",right:"0px",top:"0px",bottom:"0px",width:"100%",height:"100%",background:"#000"},e.style),e.style.background=E.waitingbackground,e.style.color=E.waitingcolor;var i=document.createElement("table");e.appendChild(i),i.style.height="100%",i.style.width="100%",e=i.insertRow(-1).insertCell(-1),e.setAttribute("valign","middle"),e.setAttribute("align","center"),i=document.createElement("span"),i.id="connectspan",e.appendChild(i),e.appendChild(document.createElement("br")),i=document.createElement("img"),i.id="loadingimage",i.src="http://do-dear.com/emo/loading.gif",e.appendChild(i),e.appendChild(document.createElement("br")),i=document.createElement("span"),i.style.color="#666",i.appendChild(document.createTextNode("[ ")),e.appendChild(i),i=document.createElement("span"),i.id="connectdetail",e.appendChild(i),i=document.createElement("span"),i.style.color="#666",i.appendChild(document.createTextNode(" ]")),e.appendChild(i),document.getElementById("loadingimage").src=E.waitingimage,document.getElementById("connectspan").appendChild(document.createTextNode(E.customloading))}function Je(){var e=document.createElement("div");e.id="nickprompt",document.body.appendChild(e),t({fontSize:"19px",textAlign:"center",fontWeight:"bold",color:"#222",display:"none",position:"absolute",padding:"10px",left:"0px",right:"0px",top:"0px",bottom:"0px",width:"100%",height:"100%",background:"#eee"},e.style),e.style.background=E.promptbackground,e.style.color=E.promptcolor;var i=document.createElement("table");e.appendChild(i),i.style.height="100%",i.style.width="100%",i=i.insertRow(-1).insertCell(-1),i.setAttribute("valign","middle"),i.setAttribute("align","center"),e=document.createElement("form"),e.id="newnickform",i.appendChild(e),""!=E.customprompt&&(i=document.createElement("span"),i.id="custprompt",e.appendChild(i),e.appendChild(document.createElement("br")),i.appendChild(document.createTextNode(E.customprompt))),i=document.createElement("span"),i.id="newnicktext",i.appendChild(document.createTextNode("Please select a nickname")),e.appendChild(i),e.appendChild(document.createElement("br")),i=document.createElement("input"),t({background:"#fff",textAlign:"center",padding:"3px",fontFamily:"Sans-Serif",fontSize:"15px",color:"#222",border:"2px solid #aaa",hd:"6px",MozBorderRadius:"6px",WebkitBorderRadius:"6px"},i.style),i.id="newnick",i.type="text",i.size=16,e.appendChild(i),e.appendChild(document.createElement("br")),i=document.createElement("div"),i.id="askpass",i.style.display="none",e.appendChild(i);var n=document.createElement("span");n.id="newpasstext",n.appendChild(document.createTextNode("Password")),i.appendChild(n),i.appendChild(document.createElement("br")),n=document.createElement("input"),t({background:"#fff",textAlign:"center",padding:"3px",fontFamily:"Sans-Serif",fontSize:"15px",color:"#222",border:"2px solid #aaa",hd:"6px",MozBorderRadius:"6px",WebkitBorderRadius:"6px"},n.style),n.id="newpass",n.type="password",n.size=16,i.appendChild(n),i.appendChild(document.createElement("br")),i=document.createElement("div"),i.id="askkey",i.style.display="none",e.appendChild(i),n=document.createElement("span"),n.id="newkeytext",n.appendChild(document.createTextNode("Channel key")),i.appendChild(n),i.appendChild(document.createElement("br")),n=document.createElement("input"),t({background:"#fff",textAlign:"center",padding:"3px",fontFamily:"Sans-Serif",fontSize:"15px",color:"#222",border:"2px solid #aaa",hd:"6px",MozBorderRadius:"6px",WebkitBorderRadius:"6px"},n.style),n.id="newkey",n.type="password",n.size=16,i.appendChild(n),i.appendChild(document.createElement("br")),e.appendChild(document.createElement("br")),i=document.createElement("input"),i.type="image",i.id="connectimage",i.src="https://s3.amazonaws.com/mibbit/gfx/button_connect.png",e.appendChild(i),i=document.createElement("div"),i.id="serror",i.style.color="red",i.style.fontSize="13px",e.appendChild(i),i=document.createElement("a"),i.href="http://mibbit.com",t({color:"#ff0",textShadow:"#000 2px 2px 0px",fontFamily:"sans-serif",fontSize:"11px",textDecoration:"none"},i.style),e.appendChild(i),e.appendChild(document.createElement("br")),document.getElementById("connectimage").src=E.promptimage}function we(t,e,i,n){ge=!0,document.getElementById("newpass").value="",n?(document.getElementById("askpass").style.display="none",document.getElementById("askkey").style.display="none"):("undefined"!=typeof $("promptPass")&&(document.getElementById("askpass").style.display="block"),"undefined"!=typeof $("promptChannelKey")&&(document.getElementById("askkey").style.display="block")),ye(!1,!0,!1),document.getElementById("newnicktext").firstChild.nodeValue=t,i&&(document.getElementById("newnick").value=i),document.getElementById("newnickform").onsubmit=function(){return function(){try{""!=document.getElementById("newnick").value&&(F.Vf()?ye(!1,!1,!0):ye(!0,!1,!1),e(document.getElementById("newnick").value,document.getElementById("newpass").value,document.getElementById("newkey").value))}catch(t){}return!1}}()}function kd(){var t={};t.Bd=function(){var t=se.n.fa.value;if("/global "==t.substring(0,8)){var e=t.indexOf(" ",8);if(-1!=e){var i=t.substring(8,e);t=t.substring(e+1,t.length),e=(new Date).getTime(),se.e("::log",X(se,"Sending global...",{},re.INFO,"",!1,se.sc,e)),V.Y({cmd:"global",pw:i,msg:t})}}return!1},t.uc=q(),t.L=q();var e=document.getElementById("chats"),i=document.createElement("div");i.style.background="#ccc",i.style.display="none",e.appendChild(i),se=new W(i,!1,yd,t,!1,"#ccc",{gg:!0}),Nb(se.Wa,"Debug console",se.sc),oc(M,".Log",i,"Log","Debug Log",function(t,e){se.Cb(t,e),Adverts.P&&Adverts.Dd(!e)},null,{background:"#ccc",border:"#888"},!0,!1),z=function(t,e,i){try{console.log("DEBUG: "+t+": "+e)}catch(n){}var s=(new Date).getTime();se.e("::log",X(se,e,{},re[i],t,!1,se.sc,s))},w=!0}var colors=["#344E6E","#34676E","#3A346E","#7A393C","#7C7A3A","#386F34"];VERSION=4142;var s,aa;!function(){function b(t){return 10>t?"0"+t:t}function c(t){return f.lastIndex=0,f.test(t)?'"'+t.replace(f,function(t){var e=k[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function d(t,e){var i,n,s,o=g,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof l&&(a=l.call(e,t,a)),typeof a){case"string":return c(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(g+=j,s=[],"[object Array]"===Object.prototype.toString.apply(a)){for(n=a.length,t=0;n>t;t+=1)s[t]=d(t,a)||"null";return e=0===s.length?"[]":g?"[\n"+g+s.join(",\n"+g)+"\n"+o+"]":"["+s.join(",")+"]",g=o,e}if(l&&"object"==typeof l)for(n=l.length,t=0;n>t;t+=1)i=l[t],"string"==typeof i&&(e=d(i,a))&&s.push(c(i)+(g?": ":":")+e);else for(i in a)Object.hasOwnProperty.call(a,i)&&(e=d(i,a))&&s.push(c(i)+(g?": ":":")+e);return e=0===s.length?"{}":g?"{\n"+g+s.join(",\n"+g)+"\n"+o+"}":"{"+s.join(",")+"}",g=o,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,j,k={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!=typeof s&&(s=function(t,e,i){var n;if(j=g="","number"==typeof i)for(n=0;i>n;n+=1)j+=" ";else"string"==typeof i&&(j=i);if((l=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return d("",{"":t})}),"function"!=typeof aa&&(aa=function(h,m){function o(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.hasOwnProperty.call(s,i)&&(n=o(s,i),void 0!==n?s[i]=n:delete s[i]);return m.call(t,e,s)}if(e.lastIndex=0,e.test(h)&&(h=h.replace(e,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+h+")"),"function"==typeof m?o({"":h},""):h;throw new SyntaxError("JSON.parse")})}(),ea.prototype.Y=function(t){t=s(t)+"\n";var e=encodeURIComponent(t).replace(/%../g,"x").length;e>64e3?this.onerror("That packet will never get through! Too big. (MAX_POST_LEN=64000)"):(this.Lb.push({data:t,size:e,stime:(new Date).getTime()}),this.Pc||this.Za||this.Na(200))},ea.prototype.Na=function(t){if(this.onerror("Retry("+t+")"),this.Za&&window.clearTimeout(this.Za),this.pc&&(window.clearTimeout(this.pc),this.pc=null),this.r)try{this.r.abort()}catch(e){}this.r=fa(),this.Pc=null,this.Za=window.setTimeout(function(t){return function(){t.Za=null,ha(t)}}(this),t)},ea.prototype.Ee=function(){this.onerror("xhrError was called!"),this.Na(5e3)},ea.prototype.De=function(){this.onerror("xhrChange...");try{if(4==this.r.readyState){if(200!=this.r.status)throw new Error("Server status "+this.r.status);try{this.hb.psh&&this.hb.psh(this.Yb)}catch(t){}this.yf+=this.Yb;for(var e=0;e<this.Yb;e++)this.Lb.shift();this.Yb=0,window.clearTimeout(this.pc),this.pc=null;var i=(new Date).getTime()-this.qf;this.hb.recv(this.r.responseText),this.wf++,this.Fg+=i,this.xf+=this.Oc.length,this.Pc=null,ha(this)}}catch(n){this.onerror("xhrChange Exception "+n),this.Na(5e3)}},ea.prototype.reset=function(){this.onerror("reset called"),this.Nc=0,this.Lb=[]},ia.prototype.reset=function(){this.Oa=""},ia.prototype.stop=function(){if(0!=this.Ca){this.eh=(new Date).getTime(),this.Ca=!1;try{for(var t in this.N)this.N.hasOwnProperty(t)&&this.N[t].close&&this.N[t].close();this.nc&&this.r.abort();var e=ja();e.open("POST",this.URL+"-s"+(""==this.Oa?"":"-"+this.Oa),!1),e.send('{"cmd":"shutdown"}\n')}catch(i){this.onerror("Shutdown failed "+i)}}},ia.prototype.start=function(){this.onerror("Starting..."),this.Ca?this.onerror("Already running..."):(this.Ca=!0,ka(this))},ia.prototype.Na=function(){if(this.Za&&window.clearTimeout(this.Za),this.oc&&(window.clearTimeout(this.oc),this.oc=null),this.nc=null,this.Ca){if(this.r)try{this.r.abort()}catch(t){}this.r=ja(),this.Za=window.setTimeout(function(t){return function(){t.Za=null,ka(t)}}(this),5e3)}},ia.prototype.Ee=function(){this.onerror("xhrError was called!"),ca(this,!1),this.Na()},ia.prototype.De=function(){try{if(this.onerror("xhrChange "+this.r.readyState),4==this.r.readyState){if(window.clearTimeout(this.oc),this.oc=null,this.onerror("xhrChange status="+this.r.status),200!=this.r.status)throw new Error("Status "+this.r.status);this.nc="Parsing response...",this.Dg++,this.Eg+=(new Date).getTime()-this.qe;var t=this.r.responseText,e=""!==this.vg;try{da(this,t)}catch(i){}var n=""!==this.vg;e||n||(this.onerror("Could not get session ID!"),this.stop()),ca(this,!0),this.nc=null,this.Ca&&window.setTimeout(function(t){return function(){ka(t)}}(this),10)}else 1==this.r.readyState&&(this.Ld=!0)}catch(s){t=(new Date).getTime()-this.qe,this.onerror("xhrChange "+s+" "+this.Ld+" "+t),(!this.Ld||5e3>t)&&ca(this,!1),this.Na()}},oa.prototype.alert=function(e,i,n,s){var o=document.createElement("div");t({border:"1px solid #ccc",background:"#eee",margin:"2px",padding:"4px",fontSize:"15px",textAlign:"center",color:"#000",fontWeight:"bold"},o.style),o.appendChild(this.document.createTextNode(e));var a;if(i){if(n){o.appendChild(this.document.createElement("br"));var r=this.document.createElement("form");r.style.display="inline",r.onsubmit=function(t){return function(){try{i(a.value)}catch(e){w&&z("ErrorLog","Issue "+e,A)}return pa(t),!1}}(this),o.appendChild(r),a=this.document.createElement("input"),s&&(a.value=s),a.style.marginRight="4px",a.style.marginLeft="4px",t({type:"text",size:32},a),t({background:"#fff",padding:"2px",fontFamily:"Sans-Serif",fontSize:"13px",color:"#222",border:"1px solid #444",hd:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},a.style),r.appendChild(a),s=this.document.createElement("div"),t({cursor:"pointer",textDecoration:"underline"},s.style),s.onclick=function(t){return function(){try{i(a.value)}catch(e){w&&z("ErrorLog","Issue "+e,A)}pa(t)}}(this),s.appendChild(this.document.createTextNode("OK"))}else o.appendChild(this.document.createElement("br")),s=this.document.createElement("span"),t({cursor:"pointer",textDecoration:"underline",fontSize:"19px",fontWeight:"bold",color:"#c00"},s.style),s.onclick=function(t){return function(){i(!1),pa(t)}}(this),s.appendChild(this.document.createTextNode("Cancel")),o.appendChild(s),o.appendChild(this.document.createTextNode(" | ")),s=this.document.createElement("span"),t({cursor:"pointer",textDecoration:"underline",fontSize:"19px",fontWeight:"bold",color:"#0c0"},s.style),s.onclick=function(t){return function(){i(!0),pa(t)}}(this),s.appendChild(this.document.createTextNode("Yes"));o.appendChild(s)}e={msg:e,cb:i},n&&(e.isprompt=!0),e={element:o,closecb:function(){i&&i(!1)},initcb:function(){if(a)try{a.focus()}catch(t){}}},qa(this,e)},oa.prototype.Ed=function(t){this.fc.style.display="block",this.Ja.style.display="block";var e=this.document.createElement("div");e.style.textAlign="right",e.style.height="16px",this.Ja.appendChild(e);var i=this.document.createElement("img");C(i,"https://leoroot.duckdns.org/icon/close-win-red.png",12,12),i.onclick=function(e){return function(){t.closecb&&t.closecb(),pa(e)}}(this),i.style.margin="2px",i.title="Close window",e.appendChild(i),this.fc.onclick=i.onclick,this.rc=t.element,this.Ja.appendChild(this.rc),t.initcb&&t.initcb()},oa.prototype.Fc=function(){return null!=this.rc};var D={};D.k=function(t){return D[E.language]&&D[E.language][t]?D[E.language][t]:D.en[t]},window.DisplayStrings=D,Adverts={},Adverts.ee=0,Adverts.af=0,Adverts.wg=function(t,e){Adverts.P&&(Adverts.P.style.left=t+"px",Adverts.P.style.right=t+"px",Adverts.P.style.top=e+"px"),Adverts.ee=t,Adverts.af=e},Adverts.Dd=function(t){},Adverts.od=function(){Adverts.P&&(Adverts.Id&&(window.clearInterval(Adverts.Id),Adverts.Id=null),document.body.removeChild(Adverts.P),Adverts.P=null)},Adverts.create=function(){},sa.prototype.clear=function(){for(;this.ga.rows.length>0;)this.ga.deleteRow(0),this.e.shift()},sa.prototype.z=function(){this.ga.style.background=this.a.chatOutputBackground;var t=this.e;for(this.e=[];this.ga.rows.length>0;)this.ga.deleteRow(0);for(var e=0;e<t.length;e++)t[e].pf?ta(this,t[e].id,t[e].pf,t[e].Db):t[e].Le?ua(this,t[e].id,t[e].Le):this.$c(t[e].id)},sa.prototype.$c=function(t){var e=this.ga.insertRow(-1);this.e.push({id:""+t}),t=e.insertCell(-1),ya&&(t.style.paddingRight="15px"),t.colSpan=1+(this.a.chatOutputShowTimes?1:0)+(this.a.chatOutputShowNicks?1:0),t.style.borderTop="1px solid red",xa(this)},sa.prototype.lc=function(e,i,n,s,o){t({overflow:"hidden",fontFamily:i.nickFontFamily,paddingBottom:i.chatPaddingBottom+"px",paddingTop:i.chatPaddingTop+"px",paddingRight:"3px",fontSize:i.nickFontSize+"px",background:i.nickBackground,color:s},e.style),o&&(e.onclick=function(){o(n)}),""!=i.chatBackgroundLines&&(e.style.borderTop="1px solid "+i.nickBackground),i.nickBorderRight&&(i.chatOutputRTL?e.style.borderLeft="1px solid "+i.nickBorderRight:e.style.borderRight="1px solid "+i.nickBorderRight),e.setAttribute("align",i.chatOutputRTL?"left":"right"),e.setAttribute("valign",i.nickVerticalAlign),i.chatOutputRTL&&(e.style.direction="rtl"),e.appendChild(e.ownerDocument.createTextNode(n?n:" ")),i.chatBackgroundHighlight&&(e.onmouseover=function(t){return function(){n&&wa(t,n.toLowerCase(),{background:i.chatBackgroundHighlight})}}(this),e.onmouseout=function(t){return function(){n&&wa(t,n.toLowerCase(),{background:i.chatBackground})}}(this))},sa.prototype.mc=function(e,i,n){function s(t,e,i){for(t=""+t;t.length<e;)t=i+t;return t}function o(t,e){return e=e.replace(/%H/g,s(t.getHours(),2,"0")),e=e.replace(/%I/g,s(t.getHours()%12||12,2,"0")),e=e.replace(/%k/g,s(t.getHours(),2," ")),e=e.replace(/%l/g,s(t.getHours()%12||12,2," ")),e=e.replace(/%M/g,s(t.getMinutes(),2,"0")),e=e.replace(/%p/g,t.getHours()>11?"PM":"AM"),e=e.replace(/%P/g,t.getHours()>11?"pm":"am"),e=e.replace(/%S/g,s(t.getSeconds(),2,"0")),e=e.replace(/%Y/g,t.getFullYear()),e=e.replace(/%y/g,s(t.getYear()%100,2,"0")),e=e.replace(/%m/g,s(t.getMonth()+1,2,"0")),e=e.replace(/%b/g,a[t.getMonth()].substring(0,3)),e=e.replace(/%B/g,a[t.getMonth()]),e=e.replace(/%a/g,r[t.getDay()].substring(0,3)),e=e.replace(/%A/g,r[t.getDay()]),e=e.replace(/%d/g,s(t.getDate(),2,"0")),e=e.replace(/%e/g,s(t.getDate(),2," ")),e=e.replace(/%%/g,"%")}t({overflow:"hidden",fontFamily:i.timeFontFamily,paddingBottom:i.chatPaddingBottom+"px",paddingTop:i.chatPaddingTop+"px",paddingLeft:"2px",fontSize:i.timeFontSize+"px",color:i.timeColor,background:i.timeBackground},e.style),""!=i.chatBackgroundLines&&(e.style.borderTop="1px solid "+i.timeBackground),i.timeBorderRight&&(i.chatOutputRTL?e.style.borderLeft="1px solid "+i.timeBorderRight:e.style.borderRight="1px solid "+i.timeBorderRight),e.setAttribute("align",i.chatOutputRTL?"right":"left"),e.setAttribute("valign",i.nickVerticalAlign),i.chatOutputRTL&&(e.style.direction="rtl");var a=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(n){var c=new Date;c.setTime(n),n=new Date;var h="";h=c.getYear()==n.getYear()&&c.getMonth()==n.getMonth()&&c.getDate()==n.getDate()?o(c,i.formatTime):o(c,i.formatDate),e.appendChild(e.ownerDocument.createTextNode(h))}else e.appendChild(e.ownerDocument.createTextNode(" "))},H.prototype.reset=function(){this.o&&this.o.reset(),this.q=""},Ca.prototype=new H;var Ea="https://api.thumbalizr.com",Da=/((http[s]?:\/\/|ftp:\/\/|irc:\/\/)([0-9a-zA-Z\$\-\#\~\_\.\+\!\*\'\[\]\{\}\|\\\^\`\,\/\%\;\:\@\&\?\=]+))|(.+?)/gi;Fa.prototype=new H,Ga.prototype=new H,Ha.prototype=new H;var Ia=/(\#([\S]+))|(.+?)/g;Ja.prototype=new H;var Ka=/([\/\_\*a-zA-Z0-9]+)|(.+?)/g;La.prototype=new H,Ma.prototype=new H,Na.prototype.qc=function(t){for(this.g=t;this.Jb.firstChild;)this.Jb.removeChild(this.Jb.firstChild);this.Jb.appendChild(this.d.createTextNode(t+" :")),this.B()},Na.prototype.z=function(){try{t({padding:this.a.chatInputPadding+"px",margin:this.a.chatInputSpacing+"px",background:this.a.chatInputBackground,border:"1px solid "+this.a.chatInputBorder},this.ia.style),t({background:this.a.chatInputBackground,color:this.a.chatInputColor,fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px"},this.fa.style),t({borderRadius:this.a.chatInputRounding+"px",MozBorderRadius:this.a.chatInputRounding+"px",WebkitBorderRadius:this.a.chatInputRounding+"px",color:this.a.colorInText,background:this.a.chatInputBarBackground,border:"1px solid "+this.a.chatInputBarBorder},this.p.style),t({position:"absolute",top:this.a.chatInputSpacing+"px",left:this.a.chatInputSpacing+"px"},this.ua.style),t({textAlign:"right",paddingTop:this.a.chatInputPadding+"px",paddingBottom:this.a.chatInputPadding+"px"},this.ua.style),t({fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px",color:this.a.chatInputNickColor},this.ua.style),this.ua.style.display=this.a.chatInputShowNick?"block":"none",Pa(this),this.xb&&(this.p.removeChild(this.xb),delete this.xb),this.eb&&(this.p.removeChild(this.eb),delete this.eb),this.rb&&(this.p.removeChild(this.rb),delete this.rb),this.nb&&(this.p.removeChild(this.nb),delete this.nb),this.pb&&(this.p.removeChild(this.pb),delete this.pb,delete this.mb),delete this.ef,Qa(this)}catch(e){w&&z("RichInputElement.redraw(2)",s(e),A)}},Na.prototype.B=function(){try{if(this.td&&(this.lf=this.mb.offsetHeight),this.F.content==this.La&&(this.gf=this.ua.offsetWidth,window.getComputedStyle)){var t=window.getComputedStyle(this.ua,null).getPropertyValue("width");"px"==t.substring(t.length-2,t.length)&&(this.gf=parseFloat(t.substring(0,t.length-2)))}if(t=!1,this.F.content==this.La&&0!=this.fa.offsetHeight&&this.fa.offsetHeight!=this.wd){if(this.wd=this.fa.offsetHeight,this.ib=this.ia.offsetHeight,window.getComputedStyle){var e=window.getComputedStyle(this.fa,null).getPropertyValue("height");"px"==e.substring(e.length-2,e.length)&&(this.wd=parseFloat(e.substring(0,e.length-2)));var i=window.getComputedStyle(this.ia,null).getPropertyValue("height");"px"==i.substring(i.length-2,i.length)&&(this.ib=parseFloat(i.substring(0,i.length-2)))}t=!0}return this.a.chatInputShowNick&&""!=this.g&&(this.ia.style.marginLeft=2*this.a.chatInputSpacing+this.gf+"px"),this.ua.style.height=2+this.ib+"px",t}catch(n){w&&z("RichInputElement.layout","Exception: "+s(n),A)}return!1},Na.prototype.Ua=function(){var t=this.wd;return t+=2*this.a.chatInputPadding,t+=2*this.a.chatInputSpacing,t+=2,this.td&&(t+=this.lf,t+=this.a.chatInputSpacing,t+=2),t},Na.prototype.Tb=function(t){window.setTimeout(function(e){return function(){e.ea.Tb(t)}}(this),100)};var bb=[{code:0,color:"#3A336E"},{code:1,color:"#000000"},{code:2,color:"#000080"},{code:3,color:"#008000"},{code:4,color:"#ff0000"},{code:5,color:"#800040"},{code:6,color:"#800080"},{code:7,color:"#ff8040"},{code:8,color:"#9E9E00"},{code:9,color:"#59B400"},{code:10,color:"#008080"},{code:11,color:"#00B4B4"},{code:12,color:"#0000ff"},{code:13,color:"#ff00ff"},{code:14,color:"#808080"},{code:15,color:"#7A393B"},{code:16,color:"#7B5139"},{code:17,color:"#FF4C4C"},{code:18,color:"#7A2526"}];fb.prototype.od=function(){window.clearInterval(this.Id)},fb.prototype.clear=function(){kb(this);for(var t in this.c)this.c.hasOwnProperty(t)&&lb(this,this.c[t]);this.c={},delete this.T},fb.prototype.z=function(){kb(this);for(var e in this.c)this.c.hasOwnProperty(e)&&(this.c[e].z(),lb(this,this.c[e]));for(;this.w.firstChild;)this.w.removeChild(this.w.firstChild);gb(this);for(e in this.c)this.c.hasOwnProperty(e)&&ob(this,this.c[e]);t({background:this.a.ulistPaneBackground,border:"1px solid "+this.a.ulistPaneBorder,borderRadius:this.a.ulistPaneRounding+"px",MozBorderRadius:this.a.ulistPaneRounding+"px",WebkitBorderRadius:this.a.ulistPaneRounding+"px",padding:this.a.ulistPaneRounding+"px"},this.w.style)},fb.prototype.size=function(){for(var t=0,e=0;e<this.vc.length;e++)t+=this.vc[e].Ic;return t},fb.prototype.ad=function(t){var e={};e.click=function(t){return function(e){return qb(t,e),!1}}(this),e.dg=function(t){return function(e){t.T&&t.T==e||rb(e,!0)}}(this),e.cg=function(t){return function(e){t.T&&t.T==e||rb(e,!1)}}(this),e.Vd=function(t){return function(){"icon"==t.Bb?t.Bb="flag":"flag"==t.Bb?t.Bb="time":"time"==t.Bb&&(t.Bb="icon");var e={};e[t.Bb]=!0;for(var i in t.c)t.c.hasOwnProperty(i)&&sb(t.c[i],e)}}(this),t=new tb(t.id,t,this.d,this.a,e),e={},e[this.Bb]=!0,sb(t,e),"undefined"!=typeof this.c[t.zb]&&this.kc(t.zb),ob(this,t),this.c[t.zb]=t},fb.prototype.kc=function(t){return"undefined"==typeof this.c[t]?!1:(this.T&&this.T==this.c[t]&&delete this.T,lb(this,this.c[t]),delete this.c[t],!0)},jb.prototype.update=function(){Bb(this),this.ed.style.display=0==this.Ic&&this.Rf?"none":"block"},jb.prototype.kc=function(t){this.W.removeChild(t.w);for(var e=0;e<this.yb.length;e++)if(this.yb[e]==t){this.Ic--,this.yb.splice(e,1);break}this.update()},jb.prototype.ad=function(t){var e=Cb(this.yb,this.xg,t,0,this.yb.length);this.Ic++,e==this.yb.length?(this.W.appendChild(t.w),this.yb.push(t)):(this.W.insertBefore(t.w,this.yb[e].w),this.yb.splice(e,0,t)),this.update()},tb.prototype.z=function(){for(;this.I.firstChild;)this.I.removeChild(this.I.firstChild);this.I.onmouseover=function(t){return function(){t.da.dg(t)}}(this),this.I.onmouseout=function(t){return function(){t.da.cg(t)}}(this),delete this.ha,delete this.Va,delete this.la,delete this.Vb,delete this.Ka,this.ha=this.d.createElement("img"),t({marginRight:"2px",verticalAlign:this.a.userListIconAlign,display:this.$b.time?"inline":"none"},this.ha.style),this.ha.onclick=function(t){return function(){return t.da.Vd(),!1}}(this),Eb(this),this.Va=this.d.createElement("img"),t({marginRight:"2px",verticalAlign:this.a.userListIconAlign,display:this.$b.flag?"inline":"none"},this.Va.style),this.Va.onclick=function(t){return function(){return t.da.Vd(),!1}}(this),this.Cc&&(this.Va.title=this.Cc),C(this.Va,this.Cc?"https://s3.amazonaws.com/mibbit/flags/"+this.Cc.toLowerCase()+".png":"https://s3.amazonaws.com/mibbit/gfx/mode_none.png",this.a.userListIconWidth,this.a.userListIconHeight),this.X&&this.a.userListShowIcons?(this.la=this.d.createElement("img"),this.la.style.marginRight="2px",this.la.style.display=this.$b.icon?"inline":"none",this.la.onclick=function(t){return function(){return t.da.Vd(),!1}}(this),Fb(this,this.X)):delete this.la,this.I.onclick=function(t){return function(e){return e||(e=window.event),e=e.target?e.target:e.srcElement,e!=t.ha&&e!=t.Va&&e!=t.la?(t.da.click(t),!1):void 0}}(this),this.Sb=this.d.createElement("span"),t({fontFamily:this.a.userListFontFamily,fontSize:this.a.userListFontSize+"px",cursor:"pointer",whiteSpace:"nowrap"},this.Sb.style),this.Sb.appendChild(this.d.createTextNode(this.g)),this.a.userListShowPrefixChars?(this.Vb=this.d.createElement("span"),t({fontFamily:this.a.userListFontFamily,fontSize:this.a.userListFontSize+"px",color:this.a.userListColorNormal,fontWeight:"bold",cursor:"pointer"},this.Vb.style)):this.a.userListShowSingleMode&&(this.Ka=this.d.createElement("img"),this.Ka.style.verticalAlign=this.a.userListModeIconAlign,C(this.Ka,"https://s3.amazonaws.com/mibbit/gfx/mode_none.png",this.a.userListModeIconWidth,this.a.userListModeIconHeight)),this.la&&this.I.appendChild(this.la),this.Va&&this.I.appendChild(this.Va),this.ha&&this.I.appendChild(this.ha),this.Vb&&this.I.appendChild(this.Vb),this.Ka&&this.a.userListShowModesLeft&&(this.I.appendChild(this.Ka),this.Ka.style.paddingRight=this.a.userListModeSpacing+"px"),this.I.appendChild(this.Sb),this.Ka&&!this.a.userListShowModesLeft&&(this.I.appendChild(this.Ka),this.Ka.style.paddingLeft=this.a.userListModeSpacing+"px"),this.I.style.whiteSpace="nowrap",this.I.style.padding=this.a.userListPadding+"px",wb(this,this.description),this.na={};for(var e=0;e<I.length;e++)yb(this,I[e],this.ta[I[e]]);this.w.style.overflow="hidden",this.ub()},tb.prototype.ub=function(){var t=this.Sb.style;this.a.userListBoldOnChat&&(t.fontWeight=this.Ra?"bold":"normal"),t.color=this.qa?this.tc&&""!=this.a.userListColorTyping?this.a.userListColorTyping:this.a.ciUserListColorNormal&&this.jd&&this.jd.userListColorNormal?this.jd.userListColorNormal:this.a.userListColorNormal:this.a.userListColorInactive},tb.prototype.Zb=function(t){this.tc=t,this.ub()},tb.prototype.setActive=function(t){this.qa=t,this.ub()};var I=["owner","admin","op","halfop","voice"];Kb.prototype.Ua=function(){return Mb?Adverts.height:this.Xd-21},Kb.prototype.z=function(t){},Kb.prototype.B=function(){try{if(this.M&&0!=this.M.offsetHeight&&this.M.offsetHeight!=this.Xd)return this.Te||(this.Xd=this.M.offsetHeight),!0}catch(t){w&&z("Infobar.layout",t,A)}return!1},Kb.prototype.expand=function(t){},Kb.prototype.clear=function(){for(;this.M.firstChild;)this.M.removeChild(this.M.firstChild)};var Mb=!1;Oa.prototype.Tb=function(t){var e=this.O.value,i=Xa(this);this.O.value=e.substring(0,i)+t+e.substring(i,e.length),Ta(this,i+t.length)},Tb.prototype.Cd=function(t){this.s.Cd(this.id,t),this.Ne.nodeValue=this.collapsed?" >> ":" << "},Tb.prototype.z=function(){if(this.H.style.height=this.s.ca+"px",this.xa.style.height=this.s.ca+"px",this.xa.style.fontSize=this.C.fontSize+"px",this.xa.style.lineHeight=this.C.fontSize+"px",this.K.style.fontSize=this.C.fontSize+"px",this.K.style.lineHeight=this.C.fontSize+"px",this.K.style.fontFamily=this.C.fontFamily,this.K.style.fontWeight=this.C.fontWeight,this.K.style.marginLeft=this.C.padding+"px",this.K.style.marginRight=this.C.padding+"px",this.K.style.top=this.C.padding+"px",this.J.X){var t=this.s.ca-2,e=this.s.ca-2;this.J.Ec&&this.J.$d&&this.J.Ec<e&&(e=this.J.Ec,t=this.J.$d),this.ic.style.width=t+"px",this.ic.style.height=e+"px",C(this.ic,this.J.X,t,e)}Wb(this,this.Ya)};var Xb={};Tb.prototype.close=function(){this.Ya&&(this.Zc&&this.Zc(this.id,!1),this.content.style.display="none",Wb(this,!1))},Tb.prototype.open=function(){return this.Ya?!1:(this.content.style.display="block",Wb(this,!0),this.Zc&&this.Zc(this.id,!0),this.he=(new Date).getTime(),Zb(this),!0)},Tb.prototype.qa=function(t){if(!this.Ya){if(!this.ec&&t){var e=this.s.dc;this.s.dc++,0==e&&this.s.L(!0),this.ec=!0,this.K.style.color=this.C.Qb}this.xc||(0==this.s.yc&&this.s.L(!0),this.s.yc++,this.xc=!0,this.ec||(this.K.style.color=this.C.Pb)),!this.$a&&this.me&&$b(this.s.l[this.me],t)}},Tb.prototype.Ua=function(){return 2*this.C.padding+this.K.offsetHeight},bc.prototype.Cd=function(t,e){w&&z("setCollapse","Channel "+t+" : "+e,J);var i=this.l[t];(i.collapsed=e)&&(i.Md=!1),e||ac(i);for(var n=0;n<this.u.length;n++)this.u[n].me==t&&(w&&z("setCollapse","CH "+this.u[n].id,J),this.u[n].H.style.display=e?"none":"block",this.u[n].$a=!e,this.u[n].Ya&&e&&(this.u[n].close(),i.Md=this.u[n],i.open()));!e&&i.Md&&(jc(this),i.Md.open())},bc.prototype.size=function(){return this.u.length},bc.prototype.L=function(t){if(this.Qa){var e=this.dc>0;t?(this.ab.style.color=e?this.ja.Qb:this.ja.Pb,this.bb.style.color=e?this.ja.Qb:this.ja.Pb):(this.ab.style.color=this.ja.kd,this.bb.style.color=this.ja.kd)}},bc.prototype.z=function(){this.Tf=this.a.tabIndividualCloses,this.ja={fontFamily:this.a.tabFontFamily,fontSize:this.a.tabFontSize,fontWeight:"bold",padding:this.a.tabPadding,color:this.a.tabTextColor,Qb:this.a.tabTextColorActivityMe,Pb:this.a.tabTextColorActivity,Ff:this.a.tabTextColorInactive,te:this.a.tabSpacing,kd:this.a.tabTextColorArrows,background:this.a.tabBackgroundColor},this.Fa.style.background=this.a.tabBackgroundColor,this.Nb&&t({top:cc+"px",height:this.ca+"px",paddingTop:this.Kd+"px",background:this.a.tabBackgroundColor},this.Nb.style),this.fd&&(this.dc>0?(this.ab.style.color=this.ja.Qb,this.bb.style.color=this.ja.Qb):this.yc>0?(this.ab.style.color=this.ja.Pb,this.bb.style.color=this.ja.Pb):(this.ab.style.color=this.ja.kd,this.bb.style.color=this.ja.kd));for(i in this.l)this.l.hasOwnProperty(i)&&(this.l[i].C=this.ja,Vb(this.l[i]));var e=0;for(i in this.l)if(this.l.hasOwnProperty(i)){var n=this.l[i].Ua();n>e&&(e=n)}0!=e&&e!=this.ca&&(this.ca=e,gc(this,"list"==this.ac))},uc.prototype.clear=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)},uc.prototype.pe=function(t){try{this.R.contentWindow.mibbit_recv(t)}catch(e){}},Bc.prototype.Ed=function(t){this.p.style.display=t?"block":"none",t&&(this.loaded||(this.R.src="/e.html"),window.setTimeout(function(t){return function(){t.loaded||Cc(t)}}(this),100))},Bc.prototype.wb=function(){return"block"==this.p.style.display},Bc.prototype.value=function(){var t=this.ce.body.innerHTML;return t=t.replace(/<br>/gi,"\n"),t=t.replace(/<p>/i,""),t=t.replace(/<p>/gi,"\n"),t=t.replace(/<\/td>/gi,"	"),t=t.replace(/<\/tr>/gi,"\n"),t=t.replace(/<\/div>/gi,"\n"),t=t.replace(/<\/pre>/gi,"\n"),t=t.replace(/<.*?>/g,""),t=t.replace(/&nbsp;/gi," "),t=t.replace(/&lt;/gi,"<"),t=t.replace(/&gt;/gi,">"),t=t.replace(/&amp;/gi,"&")},O.prototype.Ze=q(),O.prototype.Ye=function(){alert("Your IP address is listed in a blacklist. You may have a virus, trojan or be running an open proxy.\nYou will now be redirected to dronebl.org for more information."),window.location="http://dronebl.org/lookup"},O.prototype.Ud=function(t){window.confirm("Are you sure you want to disconnect from "+t+"?")&&Hc(this,t)},O.prototype.sf=function(t,e){e&&alert(t+": "+e)},O.prototype.tf=function(t,e){e&&alert(t+": "+e)},Gc.prototype.Ba=function(t){if(this.Wb>3)w&&z("ChatChannel","Max recurse. Bad alias? ("+t+")"+this.Wb,A);else{if(this.Wb++,t){var e=t.toLowerCase(),i=t;if("/me "==i.toLowerCase().substring(0,4)){if(!this.za&&!fd(this.b))return this.Wb--,!1;var n=i.substring(4);if(n=gd.apply(n,!1,this.Qe))return e={cmd:"emote",idd:!0,local:!0,emote:hd(this.sa,n),nick:this.b.g},this.A.send({cmd:"text",chan:this.f,data:"/me "+hd(this.sa,n)}),this.b.Ma(e),this.Zb(!1),this.Wb--,!1}else if("//"==i.substring(0,2)||"/"!=i.substring(0,1)){if("//"==i.substring(0,2)&&(i=i.substring(1,t.length)),(i=gd.apply(i,!1,this.Qe))&&(this.za||fd(this.b))){if(e={cmd:"msg",nick:this.b.g,local:!0,idd:!0,msg:hd(this.sa,i)},"/"==i.substring(0,1)&&(i="/"+i),this.a.parseChannels&&i.match(/^([\s]*)\#([\S]+)([\s]*)$/g)){w&&z("CHANNEL","Matched regexp...",A);var s={Yd:!1};s.zg=window.setTimeout(function(t){return function(){t.A.send({cmd:"text",chan:t.f,data:hd(t.sa,i)}),s.Yd=!0}}(this),5e3),e.channelclick=function(t){return function(e){if(!s.Yd){window.clearTimeout(s.zg),s.Yd=!0;var i=X(t.b,"^^ "+e+" was not sent to this channel. Please use /join to join channels.",{},t.a.colorSystem,null,!1,t.b.i);t.b.e("error",i)}t.b.t.db(e)}}(this)}else this.A.send({cmd:"text",chan:this.f,data:hd(this.sa,i)});this.b.Ma(e),this.Zb(!1)}return this.Wb--,!1}if("/style "==e.substring(0,7))for(t=t.substring(7,t.length),n=t.split(" "),this.sa.reset(),e=0;e<n.length;e++){"bold"==n[e]&&(this.sa.bold=!0),"underline"==n[e]&&(this.sa.xe=!0);var o=parseInt(n[e]);isNaN(o)||(null===this.sa.hc?this.sa.hc=o:this.sa.gd=o)}else if("/style"==e)this.sa.reset();else if("/redraw"==e)this.b.z();else if("/mute"==e)id=!1,n=X(this.b,"Sounds off",{},this.a.colorSystem,null,!1,this.b.i),this.b.e("sounds",n);else if("/unmute"==e)id=!0,n=X(this.b,"Sounds on",{},this.a.colorSystem,null,!1,this.b.i),this.b.e("sounds",n);else if("/splay "==e.substring(0,7))jd(t.substring(7,t.length));else if("/echo "==e.substring(0,6))this.b.Ma({cmd:"msg",nick:"*",local:!0,idd:!0,msg:t.substring(6,t.length)});else if($c&&!this.za&&"/permalink"==e)n=PermalinkInfo.create(this.b.d,this.Mb.substring(10,this.Mb.length),this.f),$c&&qa($c,{element:n});else if("/umode "==e.substring(0,7))this.A.send({cmd:"text",chan:this.f,data:"/mode "+this.b.g+" "+t.substring(7,t.length)});else if("/query "==e.substring(0,7))n=t.substring(7,t.length),o=null,e=n.indexOf(" "),-1!=e&&(o=n.substring(e+1,n.length),n=n.substring(0,e)),e={channeltype:"pm",userInitiated:!0},e.channel=this.Mb+":"+n.toLowerCase(),e.localchannel=n,Rc(F,e.channel,e),o&&this.A.h[e.channel].Ba(o);else if("/minify "==e.substring(0,8))n=t.substring(8,t.length),V.Y({channel:"LinkManager",cmd:"minify",url:n,returnchannel:this.oa});else if("/server "==e.substring(0,8))Uc(F,t.substring(8,t.length));else if("/debug"==e)kd();else if("/notify on"==e)this.b.S.Yc=!0,n=X(this.b,"Notifications on",{},this.a.colorSystem,null,!1,this.b.i),this.b.e("notify",n);else if("/notify off"==e)this.b.S.Yc=!1,n=X(this.b,"Notifications off",{},this.a.colorSystem,null,!1,this.b.i),this.b.e("notify",n);else if("/togglemenu smilies"==e)Wa(this.b.n,"smilies");else if("/togglemenu colors"==e)Wa(this.b.n,"colors");else if("/togglemenu pastebin"==e)Wa(this.b.n,"pastebin");else if("/togglemenu minify"==e)Wa(this.b.n,"minify");else if("/ulshow"==e)cd(this.b,!0);else if("/ulhide"==e)cd(this.b,!1);else if("/help"==e)ld(this.b,Dc);else if("/remove "==e.substring(0,8))va(this.b.ma,t.substring(8,t.length)),U(this.b);else if("/clear"==e)md(this.b);else if("/showurl "==e.substring(0,9))n=t.substring(9,t.length),Jc(this.b,n);else if("/ignore "==e.substring(0,8))n=t.substring(8,t.length),Xc(this.b,n,!0);else if("/unignore "==e.substring(0,10))n=t.substring(10,t.length),Xc(this.b,n,!1);else if("/pastebin"==e)Va(this.b.n,"pastebin");else if("/bbon "==e.substring(0,6))o=(new Date).getTime(),n=t.substring(6,t.length),this.b.S.Pd[n]=!0,this.b.e("bb",X(this.b,"Bridgebot on: "+n,{},this.a.colorNotice,null,!1,this.b.i,o));else if("/bboff "==e.substring(0,7))o=(new Date).getTime(),n=t.substring(7,t.length),delete this.b.S.Pd[n],this.b.e("bb",X(this.b,"Bridgebot off: "+n,{},this.a.colorNotice,null,!1,this.b.i,o));else if("/hints"==e){o=(new Date).getTime();var a=nd(bd,20);for(e=0;e<a.length;e++)n="Hint: "+a[e],this.b.e("hints",X(this.b,n,{},this.a.colorNotice,null,!1,this.b.i,o))}else ed.match(t,{f:this.f,g:this.A.Xa},function(t){return function(e){t.Ba(e)}}(this),function(e){return function(){e.A.send({cmd:"text",chan:e.f,data:t})}}(this),function(t){return function(){t.b.focus()}}(this)),this.Zb(!1)}this.Wb--}},Gc.prototype.Zb=function(t){if(this.A.ya&&(this.za||fd(this.b))){t!=this.tc&&V.Y({cmd:"typing",channel:this.oa,typing:t});var e=this.b;e.c&&Ab(e.c,e.g,t)}this.tc=t},Gc.prototype.remove=function(t){this.ya=!1,this.b.close(),ma(Q,this.oa),od(this.A,this.oa),t?this.U&&lc(M,this.U.id):this.U&&mc(M,this.U.id)},Gc.prototype.gc=function(){this.b.gc()},Gc.prototype.tb=function(t){if(this.ya)try{if(this.b.Ma(t),t.nick==this.b.g&&("usermode"==t.cmd||"join"==t.cmd)||"nicklist"==t.cmd){var e=fd(this.b);e&&(this.xd=e.ta.owner||e.ta.admin||e.ta.op)}if(t.nick==this.b.g&&"join"==t.cmd&&dd(this),"changenick"==t.cmd&&t.nick.toLowerCase()==this.f.toLowerCase()){var i=this.Mb+":"+t.newnick.toLowerCase();if((M.l[i]?!0:!1)&&lc(M,i),this.U){e=M;var n=this.oa;if(e.l[n]){var s=e.l[n];qc(e,s),s.id=i,pc(e,s)}Ub(this.U,t.newnick.toLowerCase())}delete this.b.$[this.f.toLowerCase()],ma(Q,this.oa),this.f=t.newnick.toLowerCase(),this.oa=i,this.b.f=this.oa,la(Q,this.oa,this),this.b.$[this.f.toLowerCase()]=this.f}if(this.a.showChannelTabUsers&&this.b.c){var o=this.b.c.size();Ub(this.U,this.f+" ("+o+")")}}catch(a){w&&z("recv",a+"( "+t+" )",A)}},Gc.prototype.Lc=function(t){w&&z("ChatChannel","prefsUpdated: "+t,G),t&&"CGMlayout"==t?(this.b.B(),U(this.b)):(pd(this.b),this.b.z(),U(this.b),this.b.p.style.background=this.za?this.a.tabColorPM:this.a.tabColorChannel,this.b.c&&Ub(this.U,this.f+(this.a.showChannelTabUsers?" ("+this.b.c.size()+")":"")))};var ad="For the latest news checkout the blog: http://blog.mibbit.com";P.prototype.Ba=function(t){if(t){var e=t.toLowerCase();if("/query "==e.substring(0,7)){var i=t.substring(7,t.length);e=null;var n=i.indexOf(" ");-1!=n&&(e=i.substring(n+1,i.length),i=i.substring(0,n)),n={channeltype:"pm",userInitiated:!0},n.channel=this.Mb+":"+i.toLowerCase(),n.localchannel=i,Rc(F,n.channel,n),e&&(i=this.h[n.channel])&&i.Ba(e)}else"/debug"==e?kd():"/help"==e?ld(this.b,Dc):"/clear"==e?md(this.b):"/redraw"==e?this.b.z():"/mute"==e?(id=!1,e=X(this.b,"Sounds off",{},this.a.colorSystem,null,!1,this.b.i),this.b.e("sounds",e)):"/unmute"==e?(id=!0,e=X(this.b,"Sounds on",{},this.a.colorSystem,null,!1,this.b.i),this.b.e("sounds",e)):"/splay "==e.substring(0,7)?jd(t.substring(7,t.length)):"/echo "==e.substring(0,6)?this.b.Ma({cmd:"msg",nick:"*",local:!0,idd:!0,msg:t.substring(6,t.length)}):"/umode "==e.substring(0,7)?this.A.send({cmd:"text",chan:this.f,data:"/mode "+this.b.g+" "+t.substring(7,t.length)}):"/server "==e.substring(0,8)?Uc(F,t.substring(8,t.length)):"/showurl "==e.substring(0,9)?(e=t.substring(9,t.length),Jc(this.b,e)):ed.match(t,{f:"",g:this.Xa},function(t){return function(e){t.Ba(e)}}(this),function(e){return function(){e.send({cmd:"text",chan:e.f,data:t})}}(this))}},P.prototype.close=q(),P.prototype.send=function(t){t.channel=this.f,V.Y(t)},P.prototype.tb=function(t){this.ya=!0;try{var e=!1;"whoisreply"==t.cmd&&(t.user?e=qd(this,t):(e=!0,this.b.Ma({cmd:"log",nick:"",message:t.nick+" is away ("+t.away+")"}))),("channellist"==t.cmd||"whowas"==t.cmd||"who"==t.cmd||"invite"==t.cmd)&&(e=qd(this,t)),"whoisreply"==t.cmd&&Oc(this,{cmd:"userdetails",nick:t.nick,user:t.user,host:t.host}),"notice"!=t.cmd&&"ctcp"!=t.cmd||!this.a.noticesToActiveTab||(e=qd(this,t)),"error"==t.cmd&&this.a.errorsToActiveTab&&(e=qd(this,t)),("infobar"==t.cmd||"away"==t.cmd||"part"==t.cmd||"changenick"==t.cmd||"init"==t.cmd)&&("infobar"==t.cmd&&this.b.Ma(t),Oc(this,t),e=!0),"nickprompt"==t.cmd&&this.rd(t.reason,function(t){return function(e){e&&t.send({cmd:"text",data:"/nick "+e})}}(this)),"changenick"==t.cmd?t.nick==this.Xa&&rd(this,t.newnick):"init"==t.cmd?rd(this,t.nick):"closedchannel"==t.cmd&&(w&&z("closedchannel","cc cmd for : "+t.chan,G),this.fe.Gf(t.chan)),e||this.b.Ma(t)}catch(i){w&&z(this.f+" (recv)",i+" ("+t+")",A)}},P.prototype.gc=function(){this.ya=!1,this.b.gc();for(ch in this.h)this.h.hasOwnProperty(ch)&&this.h[ch].gc()},P.prototype.closed=function(t){this.ya=!1,ma(Q,this.f);var e=(new Date).getTime();this.b.e(X(this.b,"- - - - Disconnected - - - -",{},"red",null,!1,this.i,e)),this.b.close(),t?this.U&&lc(M,this.f):this.U&&mc(M,this.U.id);for(ch in this.h)this.h.hasOwnProperty(ch)&&this.h[ch].remove(!1);for(ch in this.h)this.h.hasOwnProperty(ch)&&od(this,ch)},P.prototype.Lc=function(){pd(this.b),this.b.z(),this.b.p.style.background=this.a.tabColorServer},P.prototype.rd=function(t,e){t=window.prompt("Please choose a new nickname ("+t+")"),e(t)},td.prototype.reset=function(){this.userListColorNormal="#263A52",this.userListColorTyping="#ff0000",this.userListColorInactive="#809FC4",this.userListMenuColor="#24365C",this.userListMenuBackground="#eef5ff",this.userListMenuBackgroundHover="#C6D4E4",this.userGroupColor="#24365C",this.userGroupBackground="#2c629a",this.userListHover="#C6D4E4",this.ulistPaneBorder="#fafafa",this.ulistPaneBackground="#fafafa",this.userListSelected="#C6D4E4",this.userListWidth=128,this.userListPadding=1,this.userListGroups=[{def:"",title:"",hideOnEmpty:!0,startHidden:!1}],this.userListSort="owner,admin,op",this.userListFontSize=13,this.userListFontFamily="Arial,Helvetica,sans-serif",this.userListMenuFontSize=13,this.userListMenuFontFamily="Arial,Helvetica,sans-serif",this.userGroupFontSize=13,this.userGroupFontFamily="Arial,Helvetica,sans-serif",this.userListMenuAutoCloseTime=3e3,this.doubleClickTime=400,this.userListBoldOnChat=this.doubleClickToPM=!0,this.userListChattingTime=600,this.userListShowIcons=!1,this.userListIconWidth=this.userListIconHeight=16,this.userListShowPrefixChars=!1,this.userListModeIconWidth=this.userListModeIconHeight=16,this.userListShowModesLeft=!1,this.userListShowSingleMode=!0,this.userListModeSpacing=2,this.iconModeOwner="https://s3.amazonaws.com/mibbit/gfx/mode_owner.png",this.iconModeAdmin="https://s3.amazonaws.com/mibbit/gfx/mode_admin.png",this.iconModeOp="https://s3.amazonaws.com/mibbit/gfx/mode_op.png",this.iconModeHalfop="https://s3.amazonaws.com/mibbit/gfx/mode_halfop.png",this.iconModeVoice="https://s3.amazonaws.com/mibbit/gfx/mode_voice.png",this.ulicon_user="https://s3.amazonaws.com/mibbit/gfx/user.png",this.ulicon_mibbituser="https://s3.amazonaws.com/mibbit/gfx/user_green.png",this.ulicon_ignored="https://s3.amazonaws.com/mibbit/gfx/user_gray.png",this.ulicon_ipod="https://s3.amazonaws.com/mibbit/gfx/user_ipod.png",this.ulicon_iphone="https://s3.amazonaws.com/mibbit/gfx/user_iphone.png",this.ulicon_wii="https://s3.amazonaws.com/mibbit/gfx/user_wii.png",this.userListModeIconAlign=this.userListIconAlign="bottom",this.ulistPaneRounding=0,this.chatInputBarBorder="#b5b8c8",this.chatInputBarBackground="#dfe8f6",this.chatInputColor="#000000",this.chatInputFontFamily="Arial,Helvetica,sans-serif",this.chatInputFontSize=15,this.chatInputBorder="#b5b8c8",this.chatInputBackground="#ffffff",this.chatInputSpacing=4,this.chatInputPadding=2,this.chatInputNickColor="#008800",this.needSendButton=!0,this.chatInputShowNick=!1,this.sendButtonBorder="#b5b8c8",this.sendButtonBackground="#dfe8f6",this.sendButtonColor="#000",this.showInputOptions=!0,this.colorInMenuSep="#0000aa",this.colorInMenu="#2E2E2E",this.colorInMenuActive="#000000",this.colorInLinks="#0000ff",this.colorInText="#000000",this.ioMinify=this.ioPastebin=!1,this.ioColors=this.ioSmilies=!0,this.ioCustomMenus=[{title:"Emoticones",command:"/togglemenu smilies"},{title:"Color letra",command:"/togglemenu colors"},{title:"Negrita",command:"/style bold"},{title:"Letra normal",command:"/style"},{title:"Cambiar nick",command:"/nick $?"},{title:"Salir",command:"/quit"}],this.chatInputMenuFontFamily="Arial,Helvetica,sans-serif",this.chatInputMenuFontSize=11,this.chatInputRounding=6,this.chatInputTabSort="alpha",this.chatOutputShowTimes=!1,this.timeBorderRight="#888888",this.timeBackground="#eeeeee",this.formatTime="%H:%M",this.timeFontFamily="Arial,Helvetica,sans-serif",this.timeFontSize=11,this.timeColor="#444444",this.chatOutputTimeWidth=30,this.formatDate="%a",this.chatOutputShowNicks=!0,this.nickBorderRight="#888888",this.nickBackground="#cccccc",this.chatOutputNickLeft="",this.nickFontFamily="Arial,Helvetica,sans-serif",this.nickFontSize=14,this.nickColor="#58346E",this.chatOutputNickWidth=110,this.chatOutputNickRight="→ ",this.nickColorMe="#386F34",this.nickColorGuest="#344E6E",this.nickColorNotice="#E30B1C",this.nickVerticalAlign="middle",this.chatBackground="#fafafa",this.chatPaneBorder="#fafafa",this.chatPaneBackground="#fafafa",this.chatBackgroundHighlight="#ffffaa",this.chatFontFamily="Arial,Helvetica,sans-serif",this.chatFontSize=14,this.chatPaddingBottom=this.chatPaddingTop=3,this.chatBackgroundLines="#fafafa",this.chatOutputBackground="transparent",this.chatOutputRTL=!1,this.chatPaneRounding=0,this.infobarFontFamily="Arial,Helvetica,sans-serif",this.infobarFontSize=15,this.infobarPadding=3,this.infobarColor="#000",this.infobarBackground="transparent",this.infobarBorder="",this.infobarColorHighlight="#444",this.infobarBackgroundHighlight="#ccc",this.infobarBorderHighlight="#444",this.cgmMargins=6,this.extraContentPosition="middle",this.extraContentWidth=400,this.hideULonEC=!0,this.chatOutputMaxLines=1000,this.showMarkers=!1,this.showChannelUsers=!0,this.noUListInChannels=!1,this.showChannelOptions=!0,this.tabColorServer="#5ecf96",this.tabColorChannel="#dfe8f6",this.tabColorPM="#dfe8f6",this.tabBColorPM="#202124",this.tabBColorChannel="#202124",this.tabBColorServer="#aaaaaa",this.iconSmileysBase="http://do-dear.com/emo/",this.iconSmileysWidth=this.iconSmileysHeight=21,this.iconSmileys=[{code:":dancingchicken",src:"184.gif"},{code:":zzzz",src:"158.gif"},{code:":noescucho",src:"99.gif"},{code:":ayyy",src:"56.gif"},{code:":dancingm",src:"42.gif"},{code:":boom",src:"12.gif"},{code:":dancingw",src:"155.gif"},{code:":nooo",src:"76.gif"},{code:":noveo",src:"180.gif"},{code:":stop",src:"167.gif"},{code:":pelea",src:"140.gif"},{code:":bailando",src:"134.gif"},{code:":dedo",src:"132.gif"},{code:":pizza",src:"130.gif"},{code:":yes",src:"124.gif"},{code:"(n)",src:"123.gif"},{code:":kiss",src:"108.gif"},{code:":ardilla",src:"79.gif"},{code:":running",src:"70.gif"},{code:":flower",src:"63.gif"},{code:":dog",src:"44.gif"},{code:":devil",src:"41.gif"},{code:":dancing",src:"40.gif"},{code:":ruborized",src:"10.gif"},{code:"(y)",src:"203.gif"},{code:":risa",src:"68.gif"},{code:":monkey",src:"114.gif"},{code:"<3",src:"78.gif"},{code:":)",src:"160.gif"},{code:":-)",src:"160.gif"},{code:":(",src:"148.gif"},{code:":-(",src:"148.gif"},{code:":D",src:"08.gif"},{code:":-D",src:"08.gif"},{code:":s",src:"49.gif"},{code:":-s",src:"49.gif"},{code:":/",src:"113.gif"},{code:":-/",src:"113.gif"},{code:":P",src:"182.gif"},{code:":-P",src:"182.gif"},{code:":p",src:"182.gif"},{code:":-p",src:"182.gif"},{code:":O",src:"170.gif"},{code:":-O",src:"170.gif"},{code:":o",src:"170.gif"},{code:":-o",src:"170.gif"},{code:";)",src:"197.gif"},{code:";-)",src:"197.gif"}],this.colorChatMe=this.colorChat="#000000",this.colorEmoteMe=this.colorEmote="#cc4444",this.nickHighlight="#880000",this.nickHighlightMe="#44aa44",this.colorChatRecent="#ffffff",this.colorEmoteRecent="#ee8888",this.colorJoin="#72A372",this.colorPart="#AD7979",this.colorBack="#66cc66",this.colorAway="#cc6666",this.colorKick="#880000",this.colorInvite="#6666cc",this.colorTopic="#000088",this.colorTopicWho="#008888",this.colorChangeNick="#888800",this.colorNotice=this.colorSystem="#880000",this.colorBan="#2222cc",this.colorUserMode="#666622",this.colorLinks="#0000ff",this.colorIRCLinks="#ff0000",this.colorChannels="#008800",this.parseSmilies=!0,this.sizeSmiliesToText=!1,this.parseChannels=!1,this.parseSimple=this.parseColor=this.parseNicks=this.parseLinks=!0,this.openLinksInExtra=!1,this.parseReplaceImages=!1,this.parseReplaceImagesHeight=this.parseReplaceImagesWidth=32,this.showJoinsParts=!1,this.showAwaysBacks=!1,this.parseGoogleViewer=this.parseYouTubes=!0,this.showPartInfo=this.showJoinInfo=!1,this.showRecentChat=!0,this.showCTCP=!0,this.showMOTD=!1,this.showUserModes=!0,this.showBans=!1,this.waitingbackground="#fafafa",this.waitingcolor="#000000",this.waitingimage="http://do-dear.com/emo/loading.gif",this.customloading="Connecting...",this.promptbackground="#fafafa",this.promptcolor="#000000",this.promptimage="http://do-dear.com/emo/enter.gif",this.customprompt="Pakistani Chat! (http://do-dear.com)",this.nickprompt="Choose a nickname",this.tabColorGeneral="#dfe8f6",this.tabColorYServer="#dfe8f6",this.tabColorYChannel="#c0f3c0",this.tabBColorGeneral="#b5b8c8",this.tabBColorYServer="#b5b8c8",this.tabBColorYChannel="#c0f3c0",this.tabTextColor="#000000",this.tabBackgroundColor="#dfe8f6",this.tabTextColorInactive="#222222",this.tabTextColorActivityMe="#ff0000",this.tabTextColorActivity="#ff0000",this.tabTextColorArrows="#000000",this.tabFontFamily="Arial,Helvetica,sans-serif",this.tabSpacing=2,this.tabPadding=2,this.tabFontSize=11,this.colorLinksWait="#aaaacc",this.useTabList=!1,this.tabListWidth=160,this.logChannels=this.logPMs=!1,this.ircNickClick=!0,this.confirmUnload=this.confirmServerClose=this.allowIncommingPMs=!0,this.autoAway=7200,this.autoAwayMessage="Estoy ausente",this.blurPMs=this.autoBack=!0,this.focusNewJoins=!1,this.windowAlertPeriod=500,this.windowAlertMaxFlashes=3,this.desktopNotifications=!1,this.errorsToActiveTab=this.noticesToActiveTab=!0,this.language="es",this.inputHistorySize=550,this.allowChatRemoval=!0,this.defaultCharset="UTF-8",this.showChannelTabUsers=!0,this.tabIndividualCloses=!0,this.autoconnects=[],this.aliases=[{match:"/j",command:"/join $1-"},{match:"/cs",command:"/msg ChanServ $1-"},{match:"/ns",command:"/msg NickServ $1-"},{match:"/ms",command:"/msg MemoServ $1-"},{match:"/os",command:"/msg OperServ $1-"},{match:"/bs",command:"/msg BotServ $1-"},{match:"/voice",command:"/mode # +v $1"},{match:"/unvoice",command:"/mode # -v $1"},{match:"/devoice",command:"/mode # -v $1"},{match:"/ban",command:"/mode # +b $1"},{match:"/unban",command:"/mode # -b $1"},{match:"/deban",command:"/mode # -b $1"},{match:"/op",command:"/mode # +o $1"},{match:"/unop",command:"/mode # -o $1"},{match:"/deop",command:"/mode # -o $1"},{match:"/halfop",command:"/mode # +h $1"},{match:"/unhalfop",command:"/mode # -h $1"},{match:"/dehalfop",command:"/mode # -h $1"},{match:"/admin",command:"/mode # +a $1"},{match:"/unadmin",command:"/mode # -a $1"},{match:"/deadmin",command:"/mode # -a $1"},{match:"/owner",command:"/mode # +q $1"},{match:"/unowner",command:"/mode # -q $1"},{match:"/deowner",command:"/mode # -q $1"},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""},{match:"",command:""}],this.filters=[{reg:"\\bmibbiturl\\b",replacement:"http://chat.mibbit.com",replacein:!0,replaceout:!0,block:!1,cmd:"/splay http://static.mibbit.com/sounds/beep1 | /echo cool eh"}],this.channelmenus=[],this.usermenus=[{title:"Privado",command:"/query $nick"}],this.sounds={newpm:{sound:"https://s3.amazonaws.com/mibbit/sounds/ribbit",enabled:!1},ircdisconnect:{sound:"https://s3.amazonaws.com/mibbit/sounds/beep1",enabled:!1},mentionednick:{sound:"https://s3.amazonaws.com/mibbit/sounds/beep2",enabled:!1},newmsg:{sound:"https://s3.amazonaws.com/mibbit/sounds/msg",enabled:!1},userjoin:{sound:"https://s3.amazonaws.com/mibbit/sounds/join",enabled:!1},userpart:{sound:"https://s3.amazonaws.com/mibbit/sounds/part",enabled:!1}},this.ciUserListColorNormal=this.ciUserIcon=!1},td.prototype.load=function(t,e){try{w&&z("UserPrefs","Loading prefs ("+t+")",G);var i=aa(t);vd(this,i,e)}catch(n){w&&z("UserPrefs",n,A)}},td.prototype.Gc=[];var yd=new td,id=!0;Fd.prototype.clear=function(){this.zc=[]},Fd.prototype.load=function(t){this.zc=[];for(var e=0;e<t.length;e++)this.zc.push(new Wc(t[e]))},Fd.prototype.match=function(t,e,i,n,s){try{for(var o=0;o<this.zc.length;o++)if(this.zc[o].exec(t,e,i,s))return}catch(a){w&&z("aliases","Issue running match "+a,G)}n&&n()},Fd.prototype.prompt=function(t,e){e&&e("")},Wc.prototype.execCommand=function(t,e,i,n,s,o,a){for(var r=o;r<this.Oe.length;r++){o=this.Oe[r].split(/\s/);var c=s,h=!0;s="";for(var l=a;l<o.length;l++){var d=o[l];if(0!=l||"/say"!=d.toLowerCase())if(d.match(/^\#?\$?\$\d+$/)){if(a=d.match(/^\#?\$?\$(\d+)$/)[1],a>e.length||1>a){if(d.match(/^\#?\$\$/)){c="";break}return!1}c=Gd(this,c,h,("#"==d.substring(0,1)?"#":"")+e[a-1]),h=!0}else if(d.match(/^\$\d+\-\d+$/)){if(d=d.match(/^\$(\d+)\-(\d+)$/),a=d[1],d=d[2],a>e.length||d>e.length||a>d||1>a||1>d)return!1;for(a=a;d>=a;a++)c=Gd(this,c,h,e[a-1]),h=!0}else if(d.match(/^\$\d+\-$/)){if(a=d.match(/^\$(\d+)\-$/)[1],a>e.length||1>a)return!1;for(a=a;a<=e.length;a++)c=Gd(this,c,h,e[a-1]),h=!0}else if("#"==d)c=Gd(this,c,h,t.f),h=!0;else if(d.match(/^\$me([\.\,\!\?]?)/i))a=d.match(/^\$me([\.\,\!\?]?)/i),c=Gd(this,c,h,t.g+a[1]),h=!0;else{if("$?"==d)return s=function(s){return function(o){c=Gd(s,c,h,o),s.execCommand(t,e,i,n,c,r,l+1)}}(this),Fd.prototype.prompt(this.dd,s),!0;if("$+"==d)h=!1;else{if("\\u"==d.substring(0,2)||"\\x"==d.substring(0,2))try{c=Gd(this,c,h,String.fromCharCode(parseInt(d.substring(2,d.length),16)))}catch(u){}else c=Gd(this,c,h,d);h=!0}}}""!=c&&i(c),a=0}return n&&n(),!1},Wc.prototype.exec=function(t,e,i,n){var s=t.split(/\s/);return this.dd&&s.length>0&&(s[0].toLowerCase()==this.dd.toLowerCase()||t.toLowerCase()==this.dd.toLowerCase())?(s.shift(),this.execCommand(e,s,i,n,"",0,0),!0):!1},Hd.prototype.load=function(t){this.ra=[];for(var e=0;e<t.length;e++)try{this.ra.push({reg:t[e].reg,replacement:t[e].replacement,replacein:t[e].replacein,replaceout:t[e].replaceout,block:t[e].block,cmd:t[e].cmd})}catch(i){}},Hd.prototype.apply=function(t,e,i,n){for(var s=0;s<this.ra.length;s++)if(e&&this.ra[s].replacein||!e&&this.ra[s].replaceout){var o=new RegExp(this.ra[s].reg,"g");if(!Ic&&i&&this.ra[s].cmd&&o.test(t)&&i(this.ra[s].cmd,this.ra[s].reg,n),w&&z("filters.apply","d="+t+" isin="+e+" block="+this.ra[s].block,G),this.ra[s].block){if(w&&z("filters.apply","block d="+t+" rg="+o+" match="+o.test(t),G),o.test(t))return!1}else t=t.replace(o,this.ra[s].replacement)}return t},Zc.prototype.reset=function(){this.xe=this.bold=!1,this.gd=this.hc=null};var Pc;W.prototype.z=function(){if(this.Fc){this.le=!1,this.c&&this.c.z(),this.ma.z(),this.n.td=this.a.showInputOptions&&this.Je,this.n.z(),this.Wa.z(),t({background:this.a.sendButtonBackground,border:"1px solid "+this.a.sendButtonBorder,color:this.a.sendButtonColor,fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px",padding:this.a.chatInputPadding+"px",hd:this.a.chatInputRounding+"px",MozBorderRadius:this.a.chatInputRounding+"px",WebkitBorderRadius:this.a.chatInputRounding+"px"},this.vb.style);var e={background:this.a.chatPaneBackground,border:"1px solid "+this.a.chatPaneBorder};e.borderRadius=this.a.chatPaneRounding+"px",e.MozBorderRadius=this.a.chatPaneRounding+"px",e.WebkitBorderRadius=this.a.chatPaneRounding+"px",e.padding=this.a.chatPaneRounding+"px",t(e,this.Q.style),t(e,this.gb.style),t(e,this.qb.style),this.B()}else this.le=!0},W.prototype.Fd=function(t){this.Kc.Ed(t),this.B(),U(this)},W.prototype.focus=function(){try{this.n.fa.focus()}catch(t){}},W.prototype.$c=function(){this.bd||(this.bd=!0,this.ma.$c("--MARKER--"))},W.prototype.e=function(t,e,i){var n=Od(this);i||this.Fc||!this.a.showMarkers||this.bd||this.$c(),ua(this.ma,t+" "+this.Wc++,e,i),!i&&n&&U(this)},W.prototype.Ac=function(){this.c?(this.$={},this.n.ea.Rb={},this.S.Ac(),this.c.clear(),pd(this)):(delete this.$[this.g.toLowerCase()],Sb(this.n.ea,this.g))},W.prototype.close=function(){this.c&&this.c.od(),this.onresize&&(window.detachEvent?window.detachEvent("onresize",this.onresize):window.removeEventListener("resize",this.onresize,!1))},W.prototype.Cb=function(t){(this.Fc=t)&&this.le&&this.z(),t&&this.ke&&this.B(),t?(this.n.B()||this.Wa.B())&&this.B():this.bd&&(this.bd=!1,va(this.ma,"--MARKER--"));try{t?(U(this),window.setTimeout(function(t){return function(){t.focus()}}(this),200)):window.focus()}catch(e){w&&z("activecb",e,A)}},W.prototype.B=function(){if(this.Fc){this.ke=!1;try{this.n.B(),this.Wa.B();var e=!0;rc&&(e=!1);var i=this.n.Ua()+2+2*this.a.cgmMargins,n=this.Wa.Ua(),s=this.a.cgmMargins+n,o=this.a.cgmMargins+2+this.a.userListWidth;e&&(this.Ea||(this.Ea=this.d.createElement("div"),this.Ea.onmousedown=function(t){return function(e){return e||(e=window.event),t.yd=!0,t.Lf=e.clientX,t.Mf=t.a.userListWidth,t.Sa&&vc(t.Ga,!0),document.onmousemove=function(){return function(e){return e||(e=window.event),t.a.userListWidth=t.Mf+(t.Lf-e.clientX),t.a.userListWidth<0&&(t.a.userListWidth=0),e=document.body.clientWidth-2-2-3*t.a.cgmMargins,t.Sa&&(e-=t.aa+2+t.a.cgmMargins),!rc&&t.a.useTabList&&(e-=t.a.tabListWidth),t.a.userListWidth>e&&(t.a.userListWidth=e),t.B(),!1}}(),document.onmouseup=function(){t.yd=!1,document.onmousemove=null,document.onmouseup=null,vc(t.Ga,!1),t.B(),U(t),t.focus(),wd(t.a,"CGMlayout")},!1}}(this),this.p.appendChild(this.Ea),t({position:"absolute",cursor:"move"},this.Ea.style),this.Ea.onmouseover=function(){this.style.background="#888"},this.Ea.onmouseout=function(){this.style.background="transparent"}),this.Ea.style.width=this.a.cgmMargins+"px",this.Ea.style.top=s+this.a.cgmMargins+"px",this.Ea.style.bottom=i+"px",this.Ea.style.right=(this.Sa&&"right"==this.a.extraContentPosition?o+this.aa+2+this.a.cgmMargins:o)+"px",this.Ea.style.display=this.pa||this.va?"block":"none"),t({padding:"0",margin:"0",position:"absolute",top:"0px",left:"0px",height:n+"px",right:"0px",overflow:"hidden"},this.Hb.style),Qd(this,this.Hb,1,1,0,1);var a=this.a.cgmMargins;if(!rc&&this.a.useTabList&&(a+=this.a.tabListWidth),this.mf&&this.mf.gg||Adverts.wg(a,this.a.cgmMargins+sc),t({position:"absolute",overflow:"auto",bottom:"0px",left:"0px",height:this.n.Ua()+"px",right:(this.a.needSendButton?o:0)+"px"},this.ia.style),Qd(this,this.ia,0,1,1,1),this.vb.style.display=this.a.needSendButton?"block":"none",this.vb.style.height=this.n.Ua()-2*this.a.chatInputPadding+"px",this.vb.style.width=this.a.userListWidth-2*this.a.chatInputPadding+"px",Qd(this,this.vb,0,1,1,0),this.Kc.wb())this.qb.style.top=s+"px",this.qb.style.bottom=i+"px",Qd(this,this.qb,1,1,0,1),this.Q.style.display="none",this.pa&&(this.V.style.display="none"),this.va&&(this.Z.style.display="none"),this.Sa&&(this.gb.style.display="none");else{var r=document.body.clientWidth-2-2-3*this.a.cgmMargins;if((this.pa||this.va)&&(r-=this.a.userListWidth+this.a.cgmMargins+2),!rc&&this.a.useTabList&&(r-=this.a.tabListWidth),this.aa>r&&(this.aa=r),ya&&(this.Q.style.marginRight="15px"),t({display:"block",top:s+"px",bottom:i+"px"},this.Q.style),this.Q.style.left=(this.Sa&&"left"==this.a.extraContentPosition?this.aa+2+this.a.cgmMargins:"0")+"px",this.Q.style.right=(this.pa||this.va?o:0)+(this.Sa&&"left"!=this.a.extraContentPosition?this.aa+2+this.a.cgmMargins:0)+"px",Qd(this,this.Q,1,1,0,1),this.V&&Qd(this,this.V,1,1,0,0),this.Z&&Qd(this,this.Z,1,1,0,0),this.pa?(t({position:"absolute",right:(this.Sa&&"right"==this.a.extraContentPosition?this.aa+2+this.a.cgmMargins:"0")+"px",overflow:"auto",display:"block",top:s+"px",bottom:i+"px",width:this.a.userListWidth-2*this.a.ulistPaneRounding+"px",overflowX:"hidden",textAlign:"left"},this.V.style),this.Z&&(this.Z.style.display="none")):this.va?(t({position:"absolute",right:(this.Sa&&"right"==this.a.extraContentPosition?this.aa+2+this.a.cgmMargins:"0")+"px",overflow:"auto",display:"block",top:s+"px",bottom:i+"px",width:this.a.userListWidth-2*this.a.ulistPaneRounding+"px",padding:this.a.ulistPaneRounding+"px",overflowX:"hidden",textAlign:"left"},this.Z.style),this.V&&(this.V.style.display="none")):(this.V&&(this.V.style.display="none"),this.Z&&(this.Z.style.display="none")),this.Sa){if(t({display:"block",top:s+"px",bottom:i+"px",width:this.aa+"px",left:"left"==this.a.extraContentPosition?"0px":"auto",right:"left"==this.a.extraContentPosition?"auto":((this.pa||this.va)&&"right"!=this.a.extraContentPosition?o:0)+"px"},this.gb.style),Qd(this,this.gb,1,1,0,1),e){if(this.ka||(this.ka=this.d.createElement("div"),this.ka.onmousedown=function(t){return function(e){return e||(e=window.event),t.yd=!0,t.Re=e.clientX,t.Se=t.aa,t.Sa&&vc(t.Ga,!0),document.onmousemove=function(){return function(e){return e||(e=window.event),t.aa="left"==t.a.extraContentPosition?t.Se-(t.Re-e.clientX):t.Se+(t.Re-e.clientX),t.aa<0&&(t.aa=0),e=document.body.clientWidth-2-2-3*t.a.cgmMargins,(t.pa||t.va)&&(e-=t.a.userListWidth+t.a.cgmMargins+2),!rc&&t.a.useTabList&&(e-=t.a.tabListWidth),t.aa>e&&(t.aa=e),t.B(),!1}}(),document.onmouseup=function(){t.yd=!1,document.onmousemove=null,document.onmouseup=null,vc(t.Ga,!1),t.B(),U(t),t.focus()},!1}}(this),this.p.appendChild(this.ka),t({position:"absolute",cursor:"move"},this.ka.style),this.ka.onmouseover=function(){this.style.background="#888"},this.ka.onmouseout=function(){this.style.background="transparent"}),"left"==this.a.extraContentPosition)this.ka.style.right="auto",this.ka.style.left=this.aa+2+this.a.cgmMargins+"px";else if("middle"==this.a.extraContentPosition){var c=this.pa||this.va?this.a.userListWidth+this.a.cgmMargins+2:0;c+=this.aa+2+this.a.cgmMargins,this.ka.style.left="auto",this.ka.style.right=c+"px"}else this.ka.style.left="auto",this.ka.style.right=this.aa+2+this.a.cgmMargins+"px";t({width:this.a.cgmMargins+"px",top:s+this.a.cgmMargins+"px",bottom:i+"px",display:"block"},this.ka.style)}}else this.ka&&(this.ka.style.display="none"),this.gb.style.display="none"}rc&&Nd(this)}catch(h){w&&z("ChatGuiModule.layout",h,A)}}else this.ke=!0},W.prototype.gc=function(){try{var t=(new Date).getTime();this.e("system",X(this,"You have disconnected from the server",{},"red","system",!1,this.sc,t)),this.Ac()}catch(e){w&&z("disconnected","disconnected error... "+e,A)}};var Rd=[{of:"parseYouTubes",Db:"youtube",nd:"Show YouTube video",X:"https://s3.amazonaws.com/mibbit/gfx/youtube.png",be:42,ae:30,match:/youtube\.com\/watch\?.*v\=([a-zA-Z0-9\_\-]*)/i,pd:!0},{of:"parseGoogleViewer",Db:"gview",nd:"gview",match:/.*\.(pdf|ppt|doc|xls|xlsx|pptx|pages|ai|psd|dxf|svg|eps|ps|ttf|xps)/i,ge:"View next to chat",pd:!1}];W.prototype.Ma=function(t){this.S.Ma(t)};var cc=94,sc=120,tc=0,rc=!1;W.prototype.pe=function(t){this.Ga.pe(t)},W.prototype.qc=function(t){this.g=t,this.n.qc(t)},Jd.prototype.Ac=function(){this.D={},this.Gb={}},Jd.prototype.Ma=function(e){function i(t,e,i,n){return i+" "+D.k("ModeChange1")+" "+D.k(t?"ModeGiven":"ModeTaken")+" "+e+" "+D.k(t?"ModeTo":"ModeFrom")+" "+n}try{var n=(new Date).getTime(),o=e.channel;if(o){var a=o.indexOf(":",10);o=o.substring(a+1,o.length)}if("whoisreply"==e.cmd)ld(this.b,new Ec(e,this.a,this.b.Ae));else if("motd"==e.cmd&&this.a.showMOTD){var r=X(this.b,e.motd,{},"#888",null,!1,this.b.i,n);r.ub=function(i){var n=i.a;return function(s){t({overflow:"hidden",fontFamily:"monospace",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:n.chatFontSize+"px",color:"#888",background:n.chatBackground},s.style),s.setAttribute("valign","top"),i.ob.reset(),i.ob.q+=e.message,i.ob.v(s)}}(this.b),this.b.e("motd",r),this.wc&&Cd(this.vd,e.message,this.b.$)}else if("infobar"==e.cmd)"announcement"==e.type?this.b.Wa.bh(e.message):"topic"==e.type&&(Nb(this.b.Wa,e.topic,this.b.we),this.b.B());else if("whowas"==e.cmd){var c=">>> "+e.nick+" was "+e.user+"@"+e.host+" "+e.realname;this.b.e("whowas",X(this.b,c,{},this.a.colorNotice,null,!1,this.b.i,n))}else if("who"==e.cmd)c=">>> "+e.nick+" ("+e.user+"@"+e.host+" "+e.realname+") "+e.serv+" ("+e.hops+" hops) "+e.chan+" "+e.flag,this.b.e("who",X(this.b,c,{},this.a.colorNotice,null,!1,this.b.i,n));else if("channellist"==e.cmd)c=e.name+" ("+e.users+") "+e.topic,this.b.e("channellist",X(this.b,c,{},this.a.colorNotice,null,!1,this.b.Cf,n));else if("invite"==e.cmd)this.b.e(e.nick,X(this.b,"%%% "+e.nick+" "+D.k("InviteText")+" "+e.localchannel,{},this.a.colorInvite,null,!1,this.b.i,n)),this.b.t.L&&this.b.t.L();else if("notice"==e.cmd&&this.Ie)Yc(this.b,e.nick)||(this.b.e(e.nick.toLowerCase(),X(this.b,e.notice,{},this.a.colorNotice,e.nick,e.nick==this.b.g,this.b.i,n,!0)),this.b.t.L&&this.b.t.L(-1!=e.notice.indexOf(this.b.g)));else if("ctcp"==e.cmd&&this.a.showCTCP)Yc(this.b,e.nick)||(this.b.e(e.nick.toLowerCase(),X(this.b,e.data,{},this.a.colorNotice,e.nick,e.nick==this.b.g,this.b.i,n,!0)),this.b.t.L&&this.b.t.L(-1!=e.data.indexOf(this.b.g)));else if("ban"==e.cmd)this.a.showBans&&this.b.e("::ban",X(this.b,"--- "+e.by+" "+D.k("BanText")+" "+e.nick,{},this.a.colorBan,null,!1,this.b.i,n));else if("unban"==e.cmd)this.a.showBans&&this.b.e("::ban",X(this.b,"--- "+e.by+" "+D.k("UnbanText")+" "+e.nick,{},this.a.colorBan,null,!1,this.b.i,n));else if("typing"==e.cmd)this.b.c?Ab(this.b.c,e.nick,e.typing):Ra(this.b.n,e.typing);else if("topic"==e.cmd){if(this.Dc=e.topic,this.b.e("::topic",X(this.b,e.topic,{},this.a.colorTopic,null,!1,this.b.i)),e.nick){var h=new Date;this.b.e("::topic",X(this.b,D.k("TopicText")+" "+e.nick+" "+D.k("TopicText2")+" "+h,{},this.a.colorTopicWho,null,!1,this.b.i))}this.wc&&Bd(this.vd,e.topic,this.b.$)}else if("topicwho"==e.cmd)h=new Date,h.setTime(1e3*e.date),this.b.e("topic",X(this.b,D.k("TopicText")+" "+e.creator+" "+D.k("TopicText2")+" "+h,{},this.a.colorTopicWho,null,!1,this.b.i));else if("away"==e.cmd){if(this.b.c&&this.b.c.c[e.nick]){var l=this.b.c.c[e.nick];e.reason?(wb(l,e.reason),ub(this.b.c,e.nick,!1),this.a.showAwaysBacks&&this.b.e(e.nick.toLowerCase(),X(this.b,"--- "+e.nick+" "+D.k("AwayText")+" ("+e.reason+")",{},this.a.colorAway,null,!1,this.b.i,n))):(wb(l,e.nick),ub(this.b.c,e.nick,!0),this.a.showAwaysBacks&&this.b.e(e.nick.toLowerCase(),X(this.b,"--- "+e.nick+" "+D.k("BackText"),{},this.a.colorBack,null,!1,this.b.i,n)))}}else if("msg"==e.cmd){if(this.b.c&&(Ab(this.b.c,e.nick,!1),vb(this.b.c,e.nick)),!Yc(this.b,e.nick)){-1!=e.msg.toLowerCase().indexOf(this.b.g.toLowerCase())&&Kc("mentionednick"),Kc("newmsg"),S&&S.Ub({Sd:"newmsg"}),this.Yc&&Tc&&Tc.hg(e.channel,o);var d=n;if(e.dtime&&(d=n-e.dtime),e.local||(e.msg=gd.apply(e.msg,!0,this.b.t.jc,e.nick)),e.msg){if(n=!1,this.Pd[e.nick])if("[**"==e.msg.substring(0,3)){if(a=e.msg.indexOf(" "),-1!=a)return void this.Ma({cmd:"emote",nick:e.msg.substring(3,a),emote:e.msg.substring(a+1,e.msg.length-2),Tg:"#844"})}else"["==e.msg.substring(0,1)&&(a=e.msg.indexOf("]"),-1!=a&&(e.nick=e.msg.substring(1,a),e.msg=e.msg.substring(a+2,e.msg.length),n="#844"));var u=this.b.i;e.channelclick&&(a={},a.db=e.channelclick,u=Td(this.b,a)),this.b.e(e.nick.toLowerCase(),X(this.b,e.msg,"undefined"==typeof e.md?{}:e.md,e.nick==this.b.g?this.a.colorChatMe:this.a.colorChat,e.nick,e.nick==this.b.g,u,d,!1,!e.idd,n)),this.b.t.L&&this.b.t.L(-1!=e.msg.toLowerCase().indexOf(this.b.g.toLowerCase()))}}this.wc&&Cd(this.vd,e.msg,this.b.$)}else if("emote"==e.cmd)this.b.c&&(Ab(this.b.c,e.nick,!1),vb(this.b.c,e.nick)),e.local||(e.emote=gd.apply(e.emote,!0,this.b.t.jc,e.nick)),e.emote&&!Yc(this.b,e.nick)&&(-1!=e.emote.toLowerCase().indexOf(this.b.g.toLowerCase())&&Kc("mentionednick"),Kc("newmsg"),S&&S.Ub({Sd:"newmsg"}),this.Yc&&Tc&&Tc.hg(e.channel,o),this.b.e(e.nick.toLowerCase(),X(this.b,e.nick+" "+e.emote,{},e.nick==this.b.g?this.a.colorEmoteMe:this.a.colorEmote,null,e.nick==this.b.g,this.b.i,n,!1,!e.idd)),this.b.t.L&&this.b.t.L(-1!=e.emote.toLowerCase().indexOf(this.b.g.toLowerCase()))),this.wc&&Cd(this.vd,e.emote,this.b.$);else if("rmsg"==e.cmd)e.local||(e.msg=gd.apply(e.msg,!0,this.b.t.jc,e.nick)),e.msg&&!Yc(this.b,e.nick)&&this.b.e(e.nick.toLowerCase(),X(this.b,e.msg,{},this.a.colorChatRecent,e.nick,!1,this.b.i,n-e.dtime));else if("remote"==e.cmd)e.local||(e.emote=gd.apply(e.emote,!0,this.b.t.jc,e.nick)),e.emote&&!Yc(this.b,e.nick)&&this.b.e(e.nick.toLowerCase(),X(this.b,e.nick+" "+e.emote,{},this.a.colorEmoteRecent,null,!1,this.b.i,n-e.dtime));else if("mode"==e.cmd)this.a.showUserModes&&this.b.e("::mode",X(this.b,"+++ "+e.msg,{},this.a.colorUserMode,null,!1,this.b.i,n));else if("usermode"==e.cmd)"undefined"!=typeof e.owner&&(this.b.c&&xb(this.b.c,e.nick,"owner",e.owner),this.a.showUserModes&&this.b.e("::mode",X(this.b,"+++ "+i(e.owner,D.k("ModeOwner"),e.by,e.nick),{},this.a.colorUserMode,null,!1,this.b.i,n))),"undefined"!=typeof e.admin&&(this.b.c&&xb(this.b.c,e.nick,"admin",e.admin),this.a.showUserModes&&this.b.e("::mode",X(this.b,"+++ "+i(e.admin,D.k("ModeAdmin"),e.by,e.nick),{},this.a.colorUserMode,null,!1,this.b.i,n))),"undefined"!=typeof e.halfop&&(this.b.c&&xb(this.b.c,e.nick,"halfop",e.halfop),this.a.showUserModes&&this.b.e("::mode",X(this.b,"+++ "+i(e.halfop,D.k("ModeHalfop"),e.by,e.nick),{},this.a.colorUserMode,null,!1,this.b.i,n))),"undefined"!=typeof e.op&&(this.b.c&&xb(this.b.c,e.nick,"op",e.op),this.a.showUserModes&&this.b.e("::mode",X(this.b,"+++ "+i(e.op,D.k("ModeOp"),e.by,e.nick),{},this.a.colorUserMode,null,!1,this.b.i,n))),"undefined"!=typeof e.voice&&(this.b.c&&xb(this.b.c,e.nick,"voice",e.voice),this.a.showUserModes&&this.b.e("::mode",X(this.b,"+++ "+i(e.voice,D.k("ModeVoice"),e.by,e.nick),{},this.a.colorUserMode,null,!1,this.b.i,n)));else if("nicklist"==e.cmd){var p=[];for(u=0;u<e.nicks.length;u++){d=e.nicks[u];var f=Wd(this,d.mibbituser,d.device),b={};d.info&&(b=aa(d.info)),this.a.ciUserIcon&&b.userIcon&&(f={title:"Custom icon",src:b.userIcon});var m=d.nick;d.mibbitaway&&(m=d.mibbitaway);var g={};if(g.admin=!!d.admin,g.op=!!d.op,g.halfop=!!d.halfop,g.voice=!!d.voice,g.owner=!!d.owner,g.active=!d.mibbitaway,this.b.c){var y=-1;d.hasOwnProperty("idletime")&&(y=parseInt(d.idletime)),this.b.c.ad({id:d.nick,ci:b,countrycode:d.cc,localtime:d.ct,timezone:d.tz,nick:d.nick,icon:f,desc:m,modes:g,idleTime:y})}this.b.$[d.nick.toLowerCase()]=d.nick,Rb(this.b.n.ea,d.nick),this.D[d.nick.toLowerCase()]?t({device:d.device,mibbituser:d.mibbituser,embed:d.embed,host:d.host},this.D[d.nick.toLowerCase()]):this.D[d.nick.toLowerCase()]={device:d.device,mibbituser:d.mibbituser,embed:d.embed,host:d.host}}this.b.c&&Pd(this.b,this.b.c.size()+" "+D.k("UserCount"))}else if("userinfo"==e.cmd){var v=e.id?e.id:e.nick;if(f=Wd(this,e.mibbituser,e.device),b={},e.info&&(b=aa(e.info)),this.a.ciUserIcon&&b.userIcon&&(f={title:"Custom icon",src:b.userIcon}),m=e.nick,e.mibbitaway&&(m=e.mibbitaway),e.status&&(m=e.status),this.b.c){y=-1,e.hasOwnProperty("idletime")&&(y=parseInt(e.idletime));var C=this.b.c.c[v];C&&(C.Cc=e.cc,C.ie=parseInt(e.ct)-(new Date).getTime(),C.ue=e.tz,C.X=f,C.description=m,C.Ia=Math.floor((new Date).getTime()/1e3)-y,C.jd=b,C.qa=!e.mibbitaway,e.hasOwnProperty("awaystate")&&(thuser.qa=!e.awaystate),ib(this.b.c,v),C.z())}this.D[e.nick.toLowerCase()].device=e.device,this.D[e.nick.toLowerCase()].embed=e.embed,this.D[e.nick.toLowerCase()].mibbituser=e.mibbituser}else if("join"==e.cmd)Kc("userjoin"),S&&S.Ub({Sd:"userjoin"}),v=e.id?e.id:e.nick,f=Wd(this,e.mibbituser,e.device),b={},e.info&&(b=aa(e.info)),this.a.ciUserIcon&&b.userIcon&&(f={title:"Custom icon",src:b.userIcon}),m=e.nick,e.mibbitaway&&(m=e.mibbitaway),e.status&&(m=e.status),this.b.c&&(y=-1,e.hasOwnProperty("idletime")&&(y=parseInt(e.idletime)),g={},g.admin=!1,g.op=!1,g.halfop=!1,g.voice=!1,g.owner=!1,g.active=!e.mibbitaway,e.hasOwnProperty("awaystate")&&(g.active=!e.awaystate),this.b.c&&this.b.c.ad({id:v,ci:b,countrycode:e.cc,localtime:e.ct,timezone:e.tz,nick:e.nick,icon:f,desc:m,modes:g,idleTime:y}),Pd(this.b,this.b.c.size()+" "+D.k("UserCount"))),this.a.showJoinsParts&&(c="*** "+e.nick+" "+D.k("JoinText")+" ",this.a.showJoinInfo&&(c+=" "+e.user+"@"+e.host+" ",e.mibbituser&&(e.device&&(c+=" ["+e.device+"]"),c+=e.embed?" (Widget)":" (Mibbit)")),this.b.e(e.nick.toLowerCase(),X(this.b,c,{},this.a.colorJoin,null,!1,this.b.i,n))),this.b.$[v.toLowerCase()]=e.nick,Rb(this.b.n.ea,e.nick),this.D[e.nick.toLowerCase()]={user:e.user,host:e.host,device:e.device,embed:e.embed,mibbituser:e.mibbituser};else if("userdetails"==e.cmd)this.D[e.nick.toLowerCase()]&&(this.D[e.nick.toLowerCase()]?(this.D[e.nick.toLowerCase()].user=e.user,this.D[e.nick.toLowerCase()].host=e.host):this.D[e.nick.toLowerCase()]={user:e.user,host:e.host});else if("part"==e.cmd)this.b.c&&this.b.c.c[e.id?e.id:e.nick]&&(Kc("userpart"),S&&S.Ub({cmd:"userpart"}),v=e.id?e.id:e.nick,this.b.c.kc(v),Pd(this.b,this.b.c.size()+" "+D.k("UserCount")),delete this.b.$[v.toLowerCase()],Sb(this.b.n.ea,e.nick),delete this.D[v.toLowerCase()],delete this.Gb[e.nick],this.a.showJoinsParts&&(e.quit?c="*** "+e.nick+" Quit ":(c="*** "+e.nick+" "+D.k("LeftText"),c+=e.localchannel?" "+e.localchannel:".",e.message&&(c+=" ("+e.message+")")),this.a.showPartInfo&&(c+=" "+e.user+"@"+e.host+" ",e.mibbituser&&(e.device&&(c+=" ["+e.device+"]"),c+=e.embed?" (Widget)":" (Mibbit)")),this.b.e(e.nick.toLowerCase(),X(this.b,c,{},this.a.colorPart,null,!1,this.b.i,n)))),e.nick==this.b.g&&(this.b.e(e.nick.toLowerCase(),X(this.b,"!!! You left "+e.localchannel,{},this.a.colorPart,null,!1,this.b.i,n)),this.b.Ac());else if("kick"==e.cmd)this.b.c&&this.b.c.c[e.nick]&&(Kc("userpart"),S&&S.Ub({Sd:"userpart"}),this.b.c.kc(e.nick),Pd(this.b,this.b.c.size()+" "+D.k("UserCount")),delete this.b.$[e.nick.toLowerCase()],Sb(this.b.n.ea,e.nick),delete this.D[e.nick.toLowerCase()],delete this.Gb[e.nick],e.reason?this.b.e(e.nick.toLowerCase(),X(this.b,"*** "+e.nick+" "+D.k("KickText")+" "+e.kicker+" ("+e.reason+")",{},this.a.colorKick,null,!1,this.b.i,n)):this.b.e(e.nick.toLowerCase(),X(this.b,"*** "+e.nick+" "+D.k("KickText")+" "+e.kicker,{},this.a.colorKick,null,!1,this.b.i,n))),e.nick==this.b.g&&(this.b.e(e.nick.toLowerCase(),X(this.b,"!!! You have been kicked from "+e.localchannel,{},this.a.colorKick,null,!1,this.b.i,n)),this.b.Ac());else if("init"==e.cmd)this.b.qc(e.nick),this.b.c||(this.b.$[e.nick.toLowerCase()]=e.nick,Rb(this.b.n.ea,e.nick));else if("changenick"==e.cmd)this.b.c&&this.b.c.c[e.nick]&&(p=this.b.c.c[e.nick],p.description==e.nick&&wb(p,e.newnick),zb(this.b.c,e.nick,e.newnick)),Yc(this.b,e.nick)&&(delete this.Gb[e.nick],this.Gb[e.newnick]=!0),this.b.$[e.nick.toLowerCase()]&&(this.b.$[e.newnick.toLowerCase()]=e.newnick,Rb(this.b.n.ea,e.newnick),this.b.e(e.nick.toLowerCase(),X(this.b,"*** "+e.nick+" "+D.k("NickText")+" "+e.newnick,{},this.a.colorChangeNick,null,!1,this.b.i,n)),e.nick.toLowerCase()!=e.newnick.toLowerCase()&&(delete this.b.$[e.nick.toLowerCase()],Sb(this.b.n.ea,e.nick))),this.D[e.nick.toLowerCase()]&&(this.D[e.newnick.toLowerCase()]=this.D[e.nick.toLowerCase()],delete this.D[e.nick.toLowerCase()]),e.nick==this.b.g&&this.b.qc(e.newnick);else if("log"==e.cmd&&this.He)this.b.e("::log",X(this.b,e.message,{},this.a.colorSystem,e.nick,!1,this.b.sc,n)),this.b.t.L&&this.b.t.L();else if("error"==e.cmd)this.b.e("::error",X(this.b,e.msg,{},this.a.colorSystem,"",!1,this.b.sc,n)),this.b.t.L&&this.b.t.L();else if("pastereply"==e.cmd)e.error?this.b.e("::paste",X(this.b,e.error,{},this.a.colorNotice,"PasteBin",!1,this.b.i,n,!0)):this.b.n.Tb("http://mibpaste.com/"+e.url+" ");else if("minifyreply"==e.cmd)this.b.n.Tb("http://miburl.com/"+e.uniq+" ");else if("removechat"==e.cmd)this.a.allowChatRemoval&&(va(this.b.ma,e.chatid),U(this.b));else if("banlist"==e.cmd){h=new Date,h.setTime(1e3*e.ctime);var x=X(this.b,null,{},this.a.colorBan,null,!1,this.b.i);x.ub=ra(e,this.a,this.b.t.Gg),this.b.e("banlist",x)}else"plugin"==e.cmd&&this.b.pe(e.data)}catch(k){w&&z("cmh.process",s(e)+"|"+k,A)}};var Hb=!0,Xd=!1,ya=!1,Ic=!0,Yd=!1,Zd=30,$d=3e4,ae=null,V,Q,be,ed,gd,E,Kd,ce=null,de=!1,M,bd,F,Z=null,ee=!1,fe=!1,ge=!1,$c=!1,S,Tc=!1,he,ie,je,ke,le="",me="nickserv",ne="UTF-8",oe,pe=null,qe="Choose a nickname",w=!0,J="FINE",G="INFO",A="WARNING",re={FINE:"#aaa",INFO:"#00f",WARNING:"#f00"},se,Ee=null,Fe=!1;window.init=Ge,window.init_postsettings=He;